{"version":3,"sources":["../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/app/admin/setup/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\nimport { doc, setDoc, serverTimestamp, getDoc } from \"firebase/firestore\";\nimport { auth, db } from \"@/lib/firebaseClient\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function SetupPage() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState<{ type: \"success\" | \"error\"; text: string } | null>(null);\n\n  const setupSuperAdmin = async () => {\n    try {\n      setLoading(true);\n      setMessage(null);\n\n      const email = \"ccnmalviya@gmail.com\";\n      const password = \"1234\";\n\n      // Check if user already exists\n      try {\n        // Try to create the user\n        const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n        const user = userCredential.user;\n\n        // Update profile\n        await updateProfile(user, {\n          displayName: \"Super Admin\",\n        });\n\n        // Create user document in Firestore\n        const userRef = doc(db, \"users\", user.uid);\n        const userDoc = await getDoc(userRef);\n        if (!userDoc.exists()) {\n          await setDoc(userRef, {\n            name: \"Super Admin\",\n            email: email,\n            mobile: \"\",\n            city: \"\",\n            state: \"\",\n            country: \"\",\n            pincode: \"\",\n            gps_location: null,\n            role: \"super_admin\",\n            created_at: serverTimestamp(),\n            updated_at: serverTimestamp(),\n          });\n        } else {\n          // Update existing user to super_admin\n          await setDoc(userRef, {\n            role: \"super_admin\",\n            updated_at: serverTimestamp(),\n          }, { merge: true });\n        }\n\n        setMessage({\n          type: \"success\",\n          text: \"Super Admin created successfully! Email: ccnmalviya@gmail.com, Password: 1234\",\n        });\n\n        // Sign out the created user\n        await auth.signOut();\n      } catch (error: any) {\n        if (error.code === \"auth/email-already-in-use\") {\n          setMessage({\n            type: \"error\",\n            text: \"User with this email already exists. If you need to reset, please use Firebase Console or contact support.\",\n          });\n        } else {\n          throw error;\n        }\n      }\n    } catch (error: any) {\n      console.error(\"Setup error:\", error);\n      setMessage({\n        type: \"error\",\n        text: error.message || \"Failed to setup super admin\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n      <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-8\">\n        <h1 className=\"text-2xl font-bold text-gray-900 mb-6\">Setup Super Admin</h1>\n        \n        <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <p className=\"text-sm text-blue-800\">\n            This will create a default super admin account:\n          </p>\n          <ul className=\"mt-2 text-sm text-blue-700 list-disc list-inside space-y-1\">\n            <li>Email: <strong>ccnmalviya@gmail.com</strong></li>\n            <li>Password: <strong>1234</strong></li>\n          </ul>\n          <p className=\"mt-3 text-xs text-blue-600\">\n            After setup, you can log in and change the password from the admin panel.\n          </p>\n        </div>\n\n        {message && (\n          <div\n            className={`mb-4 p-4 rounded-lg ${\n              message.type === \"success\"\n                ? \"bg-green-50 border border-green-200 text-green-800\"\n                : \"bg-red-50 border border-red-200 text-red-800\"\n            }`}\n          >\n            {message.text}\n          </div>\n        )}\n\n        <button\n          onClick={setupSuperAdmin}\n          disabled={loading}\n          className=\"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {loading ? \"Setting up...\" : \"Setup Super Admin\"}\n        </button>\n\n        <button\n          onClick={() => router.push(\"/login\")}\n          className=\"w-full mt-3 py-2 text-gray-600 hover:text-gray-800\"\n        >\n          Back to Login\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","ReactJsxRuntime","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","React"],"mappings":"6CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,+BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,8BCFzCL,GAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,kBAAkB,8BCFzCN,GAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEI,eAAe,+BCwBhCP,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEW,KAAK,q2CCA9B,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,GACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqD,MAErF,EAAkB,UACtB,GAAI,CACF,GAAW,GACX,EAAW,MAEX,IAAM,EAAQ,uBAId,GAAI,CAGF,IAAM,EAAO,CADU,MAAM,CAAA,EAAA,EAAA,8BAA8B,AAA9B,EAA+B,EAAA,IAAI,CAAE,EALnD,KAK0D,EAAA,EAC7C,IAAI,AAGhC,OAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,EAAM,CACxB,YAAa,aACf,GAGA,IAAM,EAAU,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAA,EAAE,CAAE,QAAS,EAAK,GAAG,EAEpC,CADW,MAAM,CAAA,EAAA,EAAA,MAAM,AAAN,EAAO,EAAA,EAChB,MAAM,GAgBjB,CAhBqB,KAgBf,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,EAAS,CACpB,KAAM,cACN,WAAY,CAAA,EAAA,EAAA,eAAA,AAAe,GAC7B,EAAG,CAAE,OAAO,CAAK,GAlBjB,MAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,EAAS,CACpB,KAAM,cACN,MAAO,EACP,OAAQ,GACR,KAAM,GACN,MAAO,GACP,QAAS,GACT,QAAS,GACT,aAAc,KACd,KAAM,cACN,WAAY,CAAA,EAAA,EAAA,eAAe,AAAf,IACZ,WAAY,CAAA,EAAA,EAAA,eAAA,AAAe,GAC7B,GASF,EAAW,CACT,KAAM,UACN,KAAM,+EACR,GAGA,MAAM,EAAA,IAAI,CAAC,OAAO,EACpB,CAAE,MAAO,EAAY,CACnB,GAAmB,6BAA6B,CAA5C,EAAM,IAAI,CACZ,EAAW,CACT,KAAM,QACN,KAAM,4GACR,QAEA,MAAM,CAEV,CACF,CAAE,MAAO,EAAY,CACnB,QAAQ,KAAK,CAAC,eAAgB,GAC9B,EAAW,CACT,KAAM,QACN,KAAM,EAAM,OAAO,EAAI,6BACzB,EACF,QAAU,CACR,GAAW,EACb,CACF,EAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDAAwC,sBAEtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,oDAGrC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,uEACZ,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WAAG,UAAO,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,4BACnB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WAAG,aAAU,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,eAExB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,iFAK3C,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC,oBAAoB,EACb,YAAjB,EAAQ,IAAI,CACR,qDACA,+CAAA,CACJ,UAED,EAAQ,IAAI,GAIjB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAU,yIAET,EAAU,gBAAkB,sBAG/B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAO,IAAI,CAAC,UAC3B,UAAU,8DACX,sBAMT","ignoreList":[0,1,2,3,4,5]}