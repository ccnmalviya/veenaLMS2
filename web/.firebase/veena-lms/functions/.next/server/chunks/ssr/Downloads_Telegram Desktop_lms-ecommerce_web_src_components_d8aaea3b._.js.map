{"version":3,"sources":["../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/HeroBanner.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/PromoRow.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/LiveStrip.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/NewProducts.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/ProductCategories.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/BestSellingProducts.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/RecommendedProducts.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/OffersPromotions.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/NewsletterSubscription.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/common/Testimonials.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs, query, where, orderBy, limit } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport { S3Image } from \"@/components/common/S3Image\";\nimport { getSignedImageUrl } from \"@/lib/s3ImageHelper\";\nimport type { HeroBanner } from \"@/types/heroBanner\";\n\nexport function HeroBanner() {\n  const [heroBanners, setHeroBanners] = useState<HeroBanner[]>([]);\n  const [heroImageUrls, setHeroImageUrls] = useState<Record<string, string>>({});\n  const [backgroundImageUrls, setBackgroundImageUrls] = useState<Record<string, string>>({});\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    loadHeroBanners();\n  }, []);\n\n  // Auto-slide functionality\n  useEffect(() => {\n    if (heroBanners.length <= 1) return;\n\n    const interval = setInterval(() => {\n      setCurrentIndex((prevIndex) => {\n        const nextIndex = (prevIndex + 1) % heroBanners.length;\n        return nextIndex;\n      });\n    }, 5000); // Change slide every 5 seconds\n\n    return () => clearInterval(interval);\n  }, [heroBanners.length]);\n\n  // Debug logging - must be before any early returns\n  useEffect(() => {\n    if (heroBanners.length > 0) {\n      console.log(\"Hero banners loaded:\", heroBanners.length, heroBanners);\n    }\n  }, [heroBanners]);\n\n  const loadHeroBanners = async () => {\n    try {\n      // Get ALL hero banners first, then filter and sort in memory\n      // This ensures we see everything regardless of enabled/status fields\n      console.log(\"Fetching all hero banners from hero_banners collection...\");\n      const snapshot = await getDocs(collection(db, \"hero_banners\"));\n      \n      const bannersData: HeroBanner[] = [];\n      console.log(`Found ${snapshot.size} hero banners in Firestore`);\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        console.log(`Hero Banner ${doc.id}:`, {\n          heroName: data.heroName,\n          enabled: data.enabled,\n          status: data.status,\n          displayOrder: data.displayOrder,\n          mainHeading: data.mainHeading\n        });\n        \n        // Include if enabled is true (or missing, default to true) and status is active (or missing, default to active)\n        const enabled = data.enabled !== undefined ? data.enabled : true;\n        const status = data.status || \"active\";\n        \n        if (enabled && status === \"active\") {\n          bannersData.push({\n            heroId: doc.id,\n            ...data,\n            enabled: enabled,\n            status: status,\n            displayOrder: data.displayOrder || 999,\n          } as HeroBanner);\n        } else {\n          console.log(`Skipping banner ${doc.id} - enabled: ${enabled}, status: ${status}`);\n        }\n      });\n      \n      console.log(`Displaying ${bannersData.length} active hero banners`);\n      \n      if (bannersData.length === 0 && snapshot.size > 0) {\n        console.warn(\"‚ö†Ô∏è Hero banners exist in Firestore but none match the display criteria!\");\n        console.warn(\"All banners found:\", Array.from(snapshot.docs).map(d => ({\n          id: d.id,\n          heroName: d.data().heroName,\n          enabled: d.data().enabled,\n          status: d.data().status,\n          displayOrder: d.data().displayOrder,\n          mainHeading: d.data().mainHeading,\n          allFields: Object.keys(d.data())\n        })));\n        console.warn(\"Expected: enabled=true (or undefined) AND status='active' (or undefined)\");\n      }\n      \n      // Sort by displayOrder\n      bannersData.sort((a, b) => (a.displayOrder || 999) - (b.displayOrder || 999));\n      \n      if (bannersData.length > 0) {\n        setHeroBanners(bannersData);\n        loadAllImageUrls(bannersData);\n      } else {\n        console.log(\"No active hero banner found. Check that banner has enabled=true and status='active'\");\n        // Try to find any banner for debugging\n        const allBannersQuery = query(collection(db, \"hero_banners\"), limit(5));\n        const allSnapshot = await getDocs(allBannersQuery);\n        console.log(\"All banners in collection:\", allSnapshot.docs.map(d => ({\n          id: d.id,\n          enabled: d.data().enabled,\n          status: d.data().status,\n          displayOrder: d.data().displayOrder,\n          mainHeading: d.data().mainHeading\n        })));\n      }\n    } catch (error: any) {\n      console.error(\"‚ùå Error loading hero banners:\", error);\n      console.error(\"Error code:\", error?.code);\n      console.error(\"Error message:\", error?.message);\n      \n      // Check if it's a permissions error\n      if (error?.code === \"permission-denied\") {\n        console.error(\"üö´ Firestore permission denied! Check your Firestore security rules.\");\n        console.error(\"Make sure 'hero_banners' collection allows read access for unauthenticated users or authenticated users.\");\n      }\n      \n      if (error.code === \"failed-precondition\") {\n        console.error(\"Firestore index required. Please create a composite index for:\");\n        console.error(\"Collection: hero_banners\");\n        console.error(\"Fields: enabled (Ascending), status (Ascending), displayOrder (Ascending)\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadAllImageUrls = async (banners: HeroBanner[]) => {\n    const heroUrls: Record<string, string> = {};\n    const bgUrls: Record<string, string> = {};\n\n    try {\n      await Promise.all(\n        banners.map(async (banner) => {\n          // Load signed URL for hero image\n          if (banner.heroImage) {\n            try {\n              const signedUrl = await getSignedImageUrl(banner.heroImage);\n              heroUrls[banner.heroId] = signedUrl;\n            } catch (error) {\n              console.error(`Error loading hero image for ${banner.heroId}:`, error);\n              heroUrls[banner.heroId] = banner.heroImage; // Fallback\n            }\n          }\n\n          // Load signed URL for background image if different\n          if (banner.backgroundImage && banner.backgroundImage !== banner.heroImage) {\n            try {\n              const signedUrl = await getSignedImageUrl(banner.backgroundImage);\n              bgUrls[banner.heroId] = signedUrl;\n            } catch (error) {\n              console.error(`Error loading background image for ${banner.heroId}:`, error);\n              bgUrls[banner.heroId] = banner.backgroundImage; // Fallback\n            }\n          }\n        })\n      );\n\n      setHeroImageUrls(heroUrls);\n      setBackgroundImageUrls(bgUrls);\n    } catch (error) {\n      console.error(\"Error loading image URLs:\", error);\n    }\n  };\n\n  const getActionUrl = (cta: HeroBanner[\"primaryCta\"] | HeroBanner[\"secondaryCta\"]) => {\n    if (!cta) return \"#\";\n    \n    switch (cta.actionType) {\n      case \"url\":\n        return cta.actionTarget;\n      case \"page\":\n        return cta.actionTarget;\n      case \"category\":\n        return `/category/${cta.actionTarget}`;\n      case \"product\":\n      case \"course\":\n        return `/item/${cta.actionTarget}`;\n      default:\n        return \"#\";\n    }\n  };\n\n  const getButtonClasses = (style: string) => {\n    switch (style) {\n      case \"primary\":\n        return \"inline-flex items-center justify-center px-6 py-3 rounded-full bg-black text-white text-sm font-semibold hover:bg-gray-900 transition\";\n      case \"secondary\":\n        return \"inline-flex items-center justify-center px-6 py-3 rounded-full bg-gray-200 text-gray-900 text-sm font-semibold hover:bg-gray-300 transition\";\n      case \"outline\":\n        return \"inline-flex items-center justify-center px-6 py-3 rounded-full border border-gray-300 text-sm font-semibold text-gray-900 hover:bg-gray-100 transition\";\n      default:\n        return \"inline-flex items-center justify-center px-6 py-3 rounded-full bg-black text-white text-sm font-semibold hover:bg-gray-900 transition\";\n    }\n  };\n\n  const getBackgroundStyle = (banner: HeroBanner) => {\n    const styles: React.CSSProperties = {};\n    \n    // Use the signed URL for hero image (or fallback to original)\n    const imageUrl = heroImageUrls[banner.heroId] || banner.heroImage;\n    const bgImageUrl = backgroundImageUrls[banner.heroId] || banner.backgroundImage;\n    \n    // Hero image always goes in background\n    if (imageUrl) {\n      styles.backgroundImage = `url(${imageUrl})`;\n      styles.backgroundSize = \"cover\";\n      styles.backgroundPosition = \"center\";\n      styles.backgroundRepeat = \"no-repeat\";\n    }\n    \n    // Handle background type overlay\n    switch (banner.backgroundType) {\n      case \"solid\":\n        if (banner.backgroundColor) {\n          // Add overlay with solid color\n          if (imageUrl) {\n            // Use linear gradient overlay to blend image with color\n            styles.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(${imageUrl})`;\n          } else {\n            styles.backgroundColor = banner.backgroundColor;\n          }\n        } else {\n          styles.backgroundColor = imageUrl ? \"transparent\" : \"#f5f5f5\";\n        }\n        break;\n      case \"gradient\":\n        if (banner.backgroundGradient && imageUrl) {\n          // Overlay dark gradient on image for better text readability\n          styles.backgroundImage = `linear-gradient(to right, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.3)), url(${imageUrl})`;\n        }\n        break;\n      case \"image\":\n        // Use backgroundImage as overlay or replacement\n        if (bgImageUrl) {\n          styles.backgroundImage = `url(${bgImageUrl})`;\n          styles.backgroundSize = \"cover\";\n          styles.backgroundPosition = \"center\";\n        } else if (imageUrl) {\n          // Fallback to hero image\n          styles.backgroundImage = `url(${imageUrl})`;\n          styles.backgroundSize = \"cover\";\n          styles.backgroundPosition = \"center\";\n        }\n        break;\n      default:\n        if (!imageUrl) {\n          styles.backgroundColor = \"#f5f5f5\";\n        }\n    }\n    \n    return styles;\n  };\n\n  const getBackgroundClasses = (banner: HeroBanner) => {\n    let classes = \"\";\n    \n    // Add gradient classes if background type is gradient\n    if (banner.backgroundType === \"gradient\" && banner.backgroundGradient) {\n      classes = `bg-gradient-to-r ${banner.backgroundGradient}`;\n    }\n    \n    // Add overlay class for better text readability over background images\n    if (banner.heroImage || banner.backgroundType === \"image\") {\n      classes += \" relative\";\n    }\n    \n    return classes;\n  };\n\n  const goToSlide = (index: number) => {\n    if (index >= 0 && index < heroBanners.length) {\n      setCurrentIndex(index);\n    }\n  };\n\n  // Don't render until mounted to avoid hydration mismatch\n  if (!mounted || loading) {\n    return null;\n  }\n\n  if (heroBanners.length === 0) {\n    // Show debug info in development mode\n    if (process.env.NODE_ENV === \"development\") {\n      return (\n        <section className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 m-4\">\n          <p className=\"text-sm text-yellow-800\">\n            ‚ö†Ô∏è No active hero banner found. Check that:\n            <ul className=\"list-disc list-inside mt-2 space-y-1\">\n              <li>Banner has <code>enabled: true</code></li>\n              <li>Banner has <code>status: \"active\"</code></li>\n              <li>Check browser console for details</li>\n            </ul>\n          </p>\n        </section>\n      );\n    }\n    return null; // No hero banner configured\n  }\n\n  return (\n    <section className=\"relative min-h-[500px] md:min-h-[600px] overflow-hidden\">\n      {/* Slider container */}\n      <div \n        className=\"flex transition-transform duration-700 ease-in-out\"\n        style={{ \n          transform: `translateX(-${(currentIndex * 100) / heroBanners.length}%)`,\n          width: `${heroBanners.length * 100}%`\n        }}\n      >\n        {heroBanners.map((banner, index) => {\n          const backgroundStyle = getBackgroundStyle(banner);\n          const hasBgImage = !!(heroImageUrls[banner.heroId] || banner.heroImage);\n          \n          // Calculate text colors for this specific banner\n          const bannerTextColorClass = hasBgImage \n            ? \"text-white\" \n            : (banner.themeMode === \"dark\" ? \"text-white\" : \"text-gray-900\");\n          const bannerTextSecondaryColorClass = hasBgImage \n            ? \"text-white/90\" \n            : (banner.themeMode === \"dark\" ? \"text-gray-200\" : \"text-gray-600\");\n          \n            return (\n              <div\n                key={banner.heroId}\n                className={`${getBackgroundClasses(banner)} relative flex items-center flex-shrink-0`}\n                style={{\n                  ...backgroundStyle,\n                  minHeight: '500px',\n                  width: `${100 / heroBanners.length}%`\n                }}\n              >\n                {/* Dark overlay for text readability over background image */}\n                {hasBgImage && (\n                  <div className=\"absolute inset-0 bg-black/40\"></div>\n                )}\n                \n                {/* Content floating above the background image - Left aligned */}\n                <div className=\"w-full h-full flex items-center relative z-10\">\n                  <div className=\"container mx-auto px-4 py-10 md:py-20 w-full\">\n                    <div className=\"max-w-2xl text-left\">\n                      {banner.eyebrowText && (\n                        <div className={`text-xs font-semibold uppercase mb-3 tracking-wide ${bannerTextColorClass} drop-shadow-lg`}>\n                          {banner.eyebrowText}\n                        </div>\n                      )}\n                      <h1 className={`text-4xl md:text-6xl font-extrabold ${bannerTextColorClass} drop-shadow-lg leading-tight mb-4`}>\n                        {banner.mainHeading}\n                      </h1>\n                      {banner.subheading && (\n                        <p className={`text-base md:text-lg ${bannerTextSecondaryColorClass} drop-shadow-md mb-8 max-w-2xl`}>\n                          {banner.subheading}\n                        </p>\n                      )}\n                      <div className=\"flex flex-wrap gap-4\">\n                        <Link\n                          href={getActionUrl(banner.primaryCta)}\n                          className={getButtonClasses(banner.primaryCta.buttonStyle)}\n                        >\n                          {banner.primaryCta.buttonText}\n                        </Link>\n                        {banner.secondaryCta?.buttonText && (\n                          <Link\n                            href={getActionUrl(banner.secondaryCta)}\n                            className={getButtonClasses(banner.secondaryCta.buttonStyle)}\n                          >\n                            {banner.secondaryCta.buttonText}\n                          </Link>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Slider Dots - Inside each hero banner container, absolute positioned at bottom */}\n                {heroBanners.length > 1 && (\n                  <div className=\"absolute left-1/2 -translate-x-1/2 bottom-14 z-20 flex gap-2 items-center\">\n                    {heroBanners.map((_, dotIndex) => (\n                      <button\n                        key={dotIndex}\n                        onClick={() => goToSlide(dotIndex)}\n                        className={`w-3 h-3 rounded-full transition-all duration-300 cursor-pointer ${\n                          dotIndex === currentIndex \n                            ? \"bg-white\" \n                            : \"bg-gray-700 hover:bg-gray-600\"\n                        }`}\n                        aria-label={`Go to slide ${dotIndex + 1}`}\n                      />\n                    ))}\n                  </div>\n                )}\n              </div>\n            );\n        })}\n      </div>\n    </section>\n  );\n}\n\n","\"use client\";\n\nimport Link from \"next/link\";\n\n// Using the same shopping videos as orange cards\nconst PROMO_VIDEOS = [\n  \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\n  \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4\",\n];\n\n// Two wide promo cards below hero, matching the shoe layout style.\nexport function PromoRow() {\n  // TODO: Drive from Firestore campaigns / featured store_items\n  const promos = [\n    {\n      id: \"formal\",\n      title: \"Explore All Formal Courses\",\n      badge: \"20% OFF\",\n      cta: \"Shop Now\",\n    },\n    {\n      id: \"running\",\n      title: \"Grab the Latest Live Classes\",\n      badge: \"25% OFF\",\n      cta: \"Shop Now\",\n    },\n  ];\n\n  return (\n    <section className=\"bg-[#f5f5f5]\">\n      <div className=\"container mx-auto px-4 pb-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {promos.map((promo, index) => (\n            <div\n              key={promo.id}\n              className=\"relative h-44 bg-gray-200 rounded-2xl overflow-hidden flex items-end p-4\"\n            >\n              {/* Video Background */}\n              <video\n                autoPlay\n                loop\n                muted\n                playsInline\n                className=\"absolute inset-0 w-full h-full object-cover\"\n                style={{ opacity: 0.5 }}\n              >\n                <source src={PROMO_VIDEOS[index] || PROMO_VIDEOS[0]} type=\"video/mp4\" />\n                Your browser does not support the video tag.\n              </video>\n              \n              {/* Gradient Overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-0\" />\n              \n              <div className=\"absolute top-3 left-3 text-[10px] font-semibold bg-white px-2 py-1 rounded-full z-10\">\n                {promo.badge}\n              </div>\n              <div className=\"relative z-10\">\n                <h3 className=\"text-sm md:text-base font-semibold text-white drop-shadow\">\n                  {promo.title}\n                </h3>\n                <Link\n                  href=\"/classes\"\n                  className=\"mt-2 inline-flex items-center justify-center px-4 py-2 rounded-full bg-white text-[11px] font-semibold text-gray-900 hover:bg-gray-100\"\n                >\n                  {promo.cta}\n                </Link>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n\n\n\n\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\n\n// Live classes strip similar to the shoe layout \"Live Classes starting at...\"\nexport function LiveStrip() {\n  const [nextSession, setNextSession] = useState<{\n    date: string;\n    title?: string;\n  } | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadNextSession();\n  }, []);\n\n  const loadNextSession = async () => {\n    try {\n      setLoading(true);\n      // Fetch all store_items and find the next upcoming live class or workshop\n      const snapshot = await getDocs(collection(db, \"store_items\"));\n      let earliestSession: any = null;\n      let earliestDate = Infinity;\n\n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        const itemType = data.type || data.itemType;\n        \n        // Only include active live classes and workshops with dates\n        if ((itemType === \"live_class\" || itemType === \"workshop\") && data.status === \"active\" && data.date) {\n          let dateValue = 0;\n          \n          if (data.date.toMillis) {\n            dateValue = data.date.toMillis();\n          } else if (data.date.seconds) {\n            dateValue = data.date.seconds * 1000;\n          } else if (typeof data.date === \"string\") {\n            dateValue = new Date(data.date).getTime();\n          }\n\n          // Only consider future dates\n          if (dateValue > Date.now() && dateValue < earliestDate) {\n            earliestDate = dateValue;\n            earliestSession = {\n              date: data.date,\n              title: data.title || data.name,\n            };\n          }\n        }\n      });\n\n      if (earliestSession) {\n        const dateObj = earliestSession.date.toDate \n          ? earliestSession.date.toDate() \n          : earliestSession.date.seconds \n          ? new Date(earliestSession.date.seconds * 1000)\n          : new Date(earliestSession.date);\n        \n        setNextSession({\n          date: dateObj.toLocaleDateString(\"en-US\", {\n            month: \"short\",\n            day: \"numeric\",\n            year: \"numeric\",\n          }),\n          title: earliestSession.title,\n        });\n      } else {\n        // Fallback to default if no upcoming sessions\n        setNextSession({\n          date: \"Coming Soon\",\n        });\n      }\n    } catch (error) {\n      console.error(\"Error loading next session:\", error);\n      setNextSession({\n        date: \"Coming Soon\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <section className=\"bg-white\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"mt-4 rounded-2xl overflow-hidden relative h-40 bg-gray-900 text-white flex items-center px-6\">\n          <div>\n            <p className=\"text-xs uppercase tracking-[0.15em] text-gray-300 mb-1\">\n              Live Classes starting at\n            </p>\n            <p className=\"text-sm font-semibold\">\n              {loading ? \"Loading...\" : nextSession?.date || \"Coming Soon\"}\n            </p>\n            {nextSession?.title && (\n              <p className=\"text-xs text-gray-400 mt-1 line-clamp-1\">\n                {nextSession.title}\n              </p>\n            )}\n          </div>\n          <div className=\"ml-auto flex items-center gap-4\">\n            <span className=\"text-xs text-gray-300 hidden md:inline\">\n              Join interactive live batches each week\n            </span>\n            <Link\n              href=\"/classes\"\n              className=\"px-5 py-2 rounded-full bg-white text-xs font-semibold text-gray-900 hover:bg-gray-100\"\n            >\n              Join Now\n            </Link>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\n\n\n\n\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs, query, where, orderBy, limit } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport { S3Image } from \"@/components/common/S3Image\";\n\ntype Product = {\n  id: string;\n  title: string;\n  itemType?: string;\n  type?: string;\n  price: number;\n  discountPrice?: number;\n  image?: string;\n  images?: string[];\n  status?: string;\n};\n\nexport function NewProducts() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadProducts();\n  }, []);\n\n  const loadProducts = async () => {\n    try {\n      setLoading(true);\n      console.log(\"Loading new products from Firestore...\");\n      \n      // Get ALL products first (no status filter) to ensure we see everything\n      // Then filter and sort in memory\n      console.log(\"Fetching all products from store_items collection...\");\n      const snapshot = await getDocs(collection(db, \"store_items\"));\n      console.log(`Found ${snapshot.size} products in store_items collection`);\n      \n      const productsData: Array<Product & { createdAt?: any; created_at?: any }> = [];\n      const docsMap = new Map();\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        docsMap.set(doc.id, { doc, data });\n        \n        console.log(`Product ${doc.id}:`, {\n          title: data.title || data.name,\n          status: data.status,\n          itemType: data.itemType || data.type,\n          price: data.price || data.basePrice,\n          hasImage: !!(data.image || data.images?.[0] || data.thumbnailImage)\n        });\n        \n        // Include if status is active, draft, or missing (default to active)\n        // Show draft products too so admin can preview before publishing\n        if (!data.status || data.status === \"active\" || data.status === \"draft\") {\n          productsData.push({\n            id: doc.id,\n            title: data.title || data.name || \"Untitled\",\n            itemType: data.itemType || data.type,\n            type: data.type || data.itemType,\n            price: data.price || data.basePrice || 0,\n            discountPrice: data.discountPrice || data.discount_price || data.compareAtPrice,\n            image: data.image || data.images?.[0] || data.thumbnailImage,\n            images: data.images,\n            status: data.status || \"active\",\n            createdAt: data.createdAt,\n            created_at: data.created_at,\n          });\n        } else {\n          console.log(`Skipping product ${doc.id} - status: ${data.status}`);\n        }\n      });\n\n      // Sort by createdAt (newest first)\n      productsData.sort((a, b) => {\n        const aTime = a.createdAt?.toMillis?.() || \n                     a.created_at?.toMillis?.() || \n                     a.createdAt?.seconds * 1000 ||\n                     a.created_at?.seconds * 1000 || 0;\n        const bTime = b.createdAt?.toMillis?.() || \n                     b.created_at?.toMillis?.() || \n                     b.createdAt?.seconds * 1000 ||\n                     b.created_at?.seconds * 1000 || 0;\n        return bTime - aTime; // Newest first\n      });\n\n      // Limit to 6\n      const finalProducts = productsData.slice(0, 6);\n      console.log(`Displaying ${finalProducts.length} products:`, finalProducts.map(p => p.title));\n      \n      if (finalProducts.length === 0 && snapshot.size > 0) {\n        console.warn(\"‚ö†Ô∏è Products exist in Firestore but none match the display criteria!\");\n        console.warn(\"All products found:\", Array.from(snapshot.docs).map(d => ({\n          id: d.id,\n          title: d.data().title || d.data().name,\n          status: d.data().status,\n          itemType: d.data().itemType || d.data().type,\n          allFields: Object.keys(d.data())\n        })));\n      }\n      \n      setProducts(finalProducts);\n    } catch (error: any) {\n      console.error(\"‚ùå Error loading new products:\", error);\n      console.error(\"Error code:\", error?.code);\n      console.error(\"Error message:\", error?.message);\n      \n      // Check if it's a permissions error\n      if (error?.code === \"permission-denied\") {\n        console.error(\"üö´ Firestore permission denied! Check your Firestore security rules.\");\n        console.error(\"Make sure 'store_items' collection allows read access for unauthenticated users or authenticated users.\");\n      }\n      \n      // Try to get all products without any filters as last resort\n      try {\n        console.log(\"Attempting fallback query...\");\n        const allSnapshot = await getDocs(collection(db, \"store_items\"));\n        console.log(`Fallback: Found ${allSnapshot.size} total products`);\n        const productsData: Product[] = [];\n        allSnapshot.forEach((doc) => {\n          const data = doc.data();\n          productsData.push({\n            id: doc.id,\n            title: data.title || data.name || \"Untitled\",\n            itemType: data.itemType || data.type,\n            type: data.type || data.itemType,\n            price: data.price || data.basePrice || 0,\n            discountPrice: data.discountPrice || data.discount_price || data.compareAtPrice,\n            image: data.image || data.images?.[0] || data.thumbnailImage,\n            images: data.images,\n            status: data.status || \"active\",\n          });\n        });\n        // Sort by createdAt if available\n        productsData.sort((a, b) => 0); // Simple sort\n        setProducts(productsData.slice(0, 6));\n      } catch (fallbackError: any) {\n        console.error(\"‚ùå Complete fallback also failed:\", fallbackError);\n        console.error(\"Fallback error code:\", fallbackError?.code);\n        console.error(\"Fallback error message:\", fallbackError?.message);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat(\"en-IN\", {\n      style: \"currency\",\n      currency: \"INR\",\n      maximumFractionDigits: 0,\n    }).format(price);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"bg-white rounded-lg shadow-md overflow-hidden animate-pulse\">\n            <div className=\"h-48 bg-gray-200\"></div>\n            <div className=\"p-4\">\n              <div className=\"h-4 bg-gray-200 rounded w-20 mb-2\"></div>\n              <div className=\"h-6 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-500\">\n        No new products available at the moment.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n      {products.map((item) => (\n        <Link\n          key={item.id}\n          href={`/item/${item.id}`}\n          className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition\"\n        >\n          <div className=\"h-48 bg-gray-200 relative\">\n            {item.image ? (\n              <S3Image\n                src={item.image}\n                alt={item.title}\n                className=\"w-full h-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\n                No Image\n              </div>\n            )}\n          </div>\n          <div className=\"p-4\">\n            <span className=\"text-xs text-green-600 font-semibold uppercase\">New</span>\n            <h3 className=\"font-semibold text-lg mt-2 line-clamp-2\">{item.title}</h3>\n            <p className=\"text-sm text-gray-500 mt-1 capitalize\">{item.type || item.itemType || \"Product\"}</p>\n            <div className=\"mt-2 flex items-center gap-2\">\n              {item.discountPrice ? (\n                <>\n                  <span className=\"text-xl font-bold text-gray-900\">\n                    {formatPrice(item.discountPrice)}\n                  </span>\n                  <span className=\"text-sm text-gray-500 line-through\">\n                    {formatPrice(item.price)}\n                  </span>\n                </>\n              ) : (\n                <span className=\"text-xl font-bold text-gray-900\">\n                  {formatPrice(item.price)}\n                </span>\n              )}\n            </div>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n}\n\n\n\n\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs, query, where, orderBy } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport type { Category } from \"@/types/store\";\n\nexport function ProductCategories() {\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [itemCounts, setItemCounts] = useState<Record<string, number>>({});\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = async () => {\n    try {\n      setLoading(true);\n      console.log(\"Loading categories from Firestore...\");\n      \n      // Get ALL categories first, then filter and sort in memory\n      // This ensures we see everything regardless of status field\n      console.log(\"Fetching all categories from categories collection...\");\n      const snapshot = await getDocs(collection(db, \"categories\"));\n\n      console.log(`Found ${snapshot.size} categories in Firestore`);\n      const categoriesData: Category[] = [];\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        console.log(`Category ${doc.id}:`, {\n          name: data.name,\n          status: data.status,\n          orderIndex: data.orderIndex\n        });\n        \n        // Include if status is active or if status field doesn't exist (default to active)\n        if (!data.status || data.status === \"active\") {\n          categoriesData.push({\n            categoryId: doc.id,\n            ...data,\n            orderIndex: data.orderIndex || 999,\n            status: data.status || \"active\",\n          } as Category);\n        } else {\n          console.log(`Skipping category ${doc.id} - status: ${data.status}`);\n        }\n      });\n\n      // Sort by orderIndex\n      categoriesData.sort((a, b) => (a.orderIndex || 999) - (b.orderIndex || 999));\n      \n      console.log(`Displaying ${categoriesData.length} active categories:`, categoriesData.map(c => c.name));\n      \n      if (categoriesData.length === 0 && snapshot.size > 0) {\n        console.warn(\"‚ö†Ô∏è Categories exist in Firestore but none match the display criteria!\");\n        console.warn(\"All categories found:\", Array.from(snapshot.docs).map(d => ({\n          id: d.id,\n          name: d.data().name,\n          status: d.data().status,\n          allFields: Object.keys(d.data())\n        })));\n      }\n      \n      setCategories(categoriesData);\n      \n      // Load item counts for each category\n      loadItemCounts(categoriesData);\n    } catch (error: any) {\n      console.error(\"‚ùå Error loading categories:\", error);\n      console.error(\"Error code:\", error?.code);\n      console.error(\"Error message:\", error?.message);\n      \n      // Check if it's a permissions error\n      if (error?.code === \"permission-denied\") {\n        console.error(\"üö´ Firestore permission denied! Check your Firestore security rules.\");\n        console.error(\"Make sure 'categories' collection allows read access for unauthenticated users or authenticated users.\");\n      }\n      \n      console.error(\"Full error:\", JSON.stringify(error, null, 2));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadItemCounts = async (cats: Category[]) => {\n    try {\n      // Get all store items\n      const itemsSnapshot = await getDocs(collection(db, \"store_items\"));\n      const counts: Record<string, number> = {};\n      \n      itemsSnapshot.forEach((doc) => {\n        const data = doc.data();\n        const categoryId = data.categoryId || data.category;\n        if (categoryId) {\n          counts[categoryId] = (counts[categoryId] || 0) + 1;\n        }\n      });\n      \n      setItemCounts(counts);\n    } catch (error) {\n      console.error(\"Error loading item counts:\", error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <section className=\"bg-white py-8\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-xl font-bold mb-4\">Our Categories</h2>\n          <div className=\"text-center py-4 text-gray-500\">Loading categories...</div>\n        </div>\n      </section>\n    );\n  }\n\n  if (categories.length === 0) {\n    return (\n      <section className=\"bg-white py-8\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-xl font-bold mb-4\">Our Categories</h2>\n          <div className=\"text-center py-4 text-yellow-600 bg-yellow-50 px-4 py-2 rounded border border-yellow-200\">\n            No categories found. <a href=\"/admin/store-items/categories/new\" className=\"text-blue-600 underline\">Create categories in admin panel</a>\n          </div>\n        </div>\n      </section>\n    );\n  }\n\n  return (\n    <section className=\"bg-white py-8\">\n      <div className=\"container mx-auto px-4\">\n        <h2 className=\"text-xl font-bold mb-4\">Our Categories</h2>\n        <div className=\"flex gap-3 overflow-x-auto pb-2\">\n          {categories.map((cat) => (\n            <Link\n              key={cat.categoryId}\n              href={`/category/${cat.slug || cat.categoryId}`}\n              className=\"min-w-[140px] bg-gray-100 rounded-2xl px-4 py-3 flex flex-col justify-center hover:bg-gray-200 transition\"\n            >\n              <span className=\"text-sm font-semibold text-gray-900\">\n                {cat.name}\n              </span>\n              <span className=\"text-[11px] text-gray-500\">\n                {itemCounts[cat.categoryId] || 0} items\n              </span>\n            </Link>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs, query, where, orderBy, limit } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport { S3Image } from \"@/components/common/S3Image\";\n\ntype Product = {\n  id: string;\n  title: string;\n  itemType?: string;\n  type?: string;\n  price: number;\n  discountPrice?: number;\n  image?: string;\n  images?: string[];\n  status?: string;\n  salesCount?: number;\n  sales_count?: number;\n};\n\nexport function BestSellingProducts() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadProducts();\n  }, []);\n\n  const loadProducts = async () => {\n    try {\n      setLoading(true);\n      // Get ALL products first, then filter and sort in memory\n      console.log(\"Fetching all products for best sellers...\");\n      const snapshot = await getDocs(collection(db, \"store_items\"));\n      console.log(`Found ${snapshot.size} products in store_items collection`);\n      \n      const productsData: Product[] = [];\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        console.log(`Product ${doc.id}:`, {\n          title: data.title || data.name,\n          status: data.status,\n          salesCount: data.salesCount || data.sales_count\n        });\n        \n        // Include if status is active, draft, or missing\n        if (!data.status || data.status === \"active\" || data.status === \"draft\") {\n          productsData.push({\n            id: doc.id,\n            title: data.title || data.name || \"Untitled\",\n            itemType: data.itemType || data.type,\n            type: data.type || data.itemType,\n            price: data.price || data.basePrice || 0,\n            discountPrice: data.discountPrice || data.discount_price || data.compareAtPrice,\n            image: data.image || data.images?.[0] || data.thumbnailImage,\n            images: data.images,\n            status: data.status || \"active\",\n            salesCount: data.salesCount || data.sales_count || 0,\n            sales_count: data.sales_count || data.salesCount || 0,\n          });\n        }\n      });\n\n      // Sort by sales count if not already sorted\n      productsData.sort((a, b) => {\n        const salesA = a.salesCount || a.sales_count || 0;\n        const salesB = b.salesCount || b.sales_count || 0;\n        return salesB - salesA;\n      });\n\n      // Limit to 6\n      setProducts(productsData.slice(0, 6));\n    } catch (error) {\n      console.error(\"Error loading best selling products:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat(\"en-IN\", {\n      style: \"currency\",\n      currency: \"INR\",\n      maximumFractionDigits: 0,\n    }).format(price);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"bg-white rounded-lg shadow-md overflow-hidden animate-pulse\">\n            <div className=\"h-48 bg-gray-200\"></div>\n            <div className=\"p-4\">\n              <div className=\"h-6 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-500\">\n        No best selling products available at the moment.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n      {products.map((item) => (\n        <Link\n          key={item.id}\n          href={`/item/${item.id}`}\n          className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition\"\n        >\n          <div className=\"h-48 bg-gray-200 relative\">\n            {item.image ? (\n              <S3Image\n                src={item.image}\n                alt={item.title}\n                className=\"w-full h-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\n                No Image\n              </div>\n            )}\n            <span className=\"absolute top-2 left-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded text-xs font-bold\">\n              üî• Best Seller\n            </span>\n          </div>\n          <div className=\"p-4\">\n            <h3 className=\"font-semibold text-lg mt-2 line-clamp-2\">{item.title}</h3>\n            <p className=\"text-sm text-gray-500\">\n              {(item.salesCount || item.sales_count || 0)}+ sold\n            </p>\n            <div className=\"mt-2 flex items-center gap-2\">\n              {item.discountPrice ? (\n                <>\n                  <span className=\"text-xl font-bold text-gray-900\">\n                    {formatPrice(item.discountPrice)}\n                  </span>\n                  <span className=\"text-sm text-gray-500 line-through\">\n                    {formatPrice(item.price)}\n                  </span>\n                </>\n              ) : (\n                <span className=\"text-xl font-bold text-gray-900\">\n                  {formatPrice(item.price)}\n                </span>\n              )}\n            </div>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n}\n\n\n\n\n","\"use client\";\n\nimport { useEffect, useState, Suspense } from \"react\";\nimport Link from \"next/link\";\nimport { useSearchParams } from \"next/navigation\";\nimport { collection, getDocs, query, where, limit } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport { S3Image } from \"@/components/common/S3Image\";\n\ntype Product = {\n  id: string;\n  title: string;\n  itemType?: string;\n  type?: string;\n  price: number;\n  discountPrice?: number;\n  image?: string;\n  images?: string[];\n  status?: string;\n  featured?: boolean;\n};\n\nfunction RecommendedProductsContent() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const searchParams = useSearchParams();\n  const search = searchParams.get(\"search\")?.trim() || \"\";\n\n  useEffect(() => {\n    loadProducts();\n    // Re-run whenever search query changes so recommendations refresh\n  }, [search]);\n\n  const loadProducts = async () => {\n    try {\n      setLoading(true);\n      // Get ALL products first, then filter and sort in memory\n      console.log(\"Fetching all products for recommendations...\");\n      const snapshot = await getDocs(collection(db, \"store_items\"));\n      const productsData: Product[] = [];\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        // Include if status is active, draft, or missing\n        if (!data.status || data.status === \"active\" || data.status === \"draft\") {\n          productsData.push({\n            id: doc.id,\n            title: data.title || data.name || \"Untitled\",\n            itemType: data.itemType || data.type,\n            type: data.type || data.itemType,\n            price: data.price || 0,\n            discountPrice: data.discountPrice || data.discount_price,\n            image: data.image || data.images?.[0],\n            images: data.images,\n            status: data.status || \"active\",\n            featured: data.featured || false,\n          });\n        }\n      });\n\n      const MAX_RECOMMENDATIONS = 6;\n      let finalProducts: Product[] = [];\n\n      // If user searched something, bias recommendations to that search\n      if (search) {\n        const queryLower = search.toLowerCase();\n\n        // 1) Products that match the search\n        const searchMatches = productsData.filter((p) => {\n          const title = (p.title || \"\").toLowerCase();\n          const type = (p.type || p.itemType || \"\").toLowerCase();\n          return title.includes(queryLower) || type.includes(queryLower);\n        });\n\n        const selected: Product[] = [];\n        const usedIds = new Set<string>();\n\n        // Add up to MAX_RECOMMENDATIONS matching search\n        for (const p of searchMatches) {\n          if (selected.length >= MAX_RECOMMENDATIONS) break;\n          if (!usedIds.has(p.id)) {\n            selected.push(p);\n            usedIds.add(p.id);\n          }\n        }\n\n        // 2) Fill remaining slots with other products (no duplicates)\n        if (selected.length < MAX_RECOMMENDATIONS) {\n          for (const p of productsData) {\n            if (selected.length >= MAX_RECOMMENDATIONS) break;\n            if (!usedIds.has(p.id)) {\n              selected.push(p);\n              usedIds.add(p.id);\n            }\n          }\n        }\n\n        finalProducts = selected;\n      } else {\n        // No search term ‚Äì keep original behaviour (featured ‚Üí first products)\n        const featuredProducts = productsData.filter((p) => p.featured);\n        finalProducts =\n          featuredProducts.length >= 3\n            ? featuredProducts.slice(0, MAX_RECOMMENDATIONS)\n            : productsData.slice(0, MAX_RECOMMENDATIONS);\n      }\n\n      console.log(`Displaying ${finalProducts.length} recommended products`);\n      setProducts(finalProducts);\n    } catch (error) {\n      console.error(\"Error loading recommended products:\", error);\n      // Fallback: get all products without filter\n      try {\n        const q = query(collection(db, \"store_items\"), limit(12));\n        const snapshot = await getDocs(q);\n        const productsData: Product[] = [];\n        snapshot.forEach((doc) => {\n          const data = doc.data();\n          productsData.push({\n            id: doc.id,\n            title: data.title || data.name || \"Untitled\",\n            itemType: data.itemType || data.type,\n            type: data.type || data.itemType,\n            price: data.price || 0,\n            discountPrice: data.discountPrice || data.discount_price,\n            image: data.image || data.images?.[0],\n            images: data.images,\n            status: data.status || \"active\",\n            featured: data.featured || false,\n          });\n        });\n        setProducts(productsData.slice(0, 6));\n      } catch (fallbackError) {\n        console.error(\"Fallback query also failed:\", fallbackError);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat(\"en-IN\", {\n      style: \"currency\",\n      currency: \"INR\",\n      maximumFractionDigits: 0,\n    }).format(price);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"bg-white rounded-lg shadow-md overflow-hidden animate-pulse\">\n            <div className=\"h-48 bg-gray-200\"></div>\n            <div className=\"p-4\">\n              <div className=\"h-4 bg-gray-200 rounded w-24 mb-2\"></div>\n              <div className=\"h-6 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-500\">\n        No recommended products available at the moment.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n      {products.map((item) => (\n        <Link\n          key={item.id}\n          href={`/item/${item.id}`}\n          className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition\"\n        >\n          <div className=\"h-48 bg-gray-200 relative\">\n            {item.image ? (\n              <S3Image\n                src={item.image}\n                alt={item.title}\n                className=\"w-full h-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\n                No Image\n              </div>\n            )}\n          </div>\n          <div className=\"p-4\">\n            <span className=\"text-xs text-purple-600 font-semibold uppercase\">Recommended</span>\n            <h3 className=\"font-semibold text-lg mt-2 line-clamp-2\">{item.title}</h3>\n            <p className=\"text-sm text-gray-500 mt-1 capitalize\">{item.type || item.itemType || \"Product\"}</p>\n            <div className=\"mt-2 flex items-center gap-2\">\n              {item.discountPrice ? (\n                <>\n                  <span className=\"text-xl font-bold text-gray-900\">\n                    {formatPrice(item.discountPrice)}\n                  </span>\n                  <span className=\"text-sm text-gray-500 line-through\">\n                    {formatPrice(item.price)}\n                  </span>\n                </>\n              ) : (\n                <span className=\"text-xl font-bold text-gray-900\">\n                  {formatPrice(item.price)}\n                </span>\n              )}\n            </div>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n}\n\nexport function RecommendedProducts() {\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <RecommendedProductsContent />\n    </Suspense>\n  );\n}\n\n\n\n\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\n\ntype HomepageOffer = {\n  id: string;\n  title: string;\n  subtitle: string;\n  discount: number;\n  expiresAt: string;\n  ctaLabel: string;\n  ctaUrl: string;\n  videoUrl?: string;\n  enabled: boolean;\n  displayOrder: number;\n};\n\n// Default shopping-related video URLs (can be replaced by admin)\n// Using reliable sample videos from Google's test bucket\nconst DEFAULT_SHOPPING_VIDEOS = [\n  \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\", // Sample video 1\n  \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4\", // Sample video 2\n];\n\nconst DEFAULT_OFFERS: HomepageOffer[] = [\n  {\n    id: \"1\",\n    title: \"Flash Sale: 50% Off\",\n    subtitle: \"All courses this week\",\n    discount: 50,\n    expiresAt: \"2024-12-31\",\n    ctaLabel: \"Shop Now\",\n    ctaUrl: \"/offers/1\",\n    videoUrl: DEFAULT_SHOPPING_VIDEOS[0],\n    enabled: true,\n    displayOrder: 1,\n  },\n  {\n    id: \"2\",\n    title: \"Buy 2 Get 1 Free\",\n    subtitle: \"On selected workshops\",\n    discount: 33,\n    expiresAt: \"2024-12-25\",\n    ctaLabel: \"Shop Now\",\n    ctaUrl: \"/offers/2\",\n    videoUrl: DEFAULT_SHOPPING_VIDEOS[1],\n    enabled: true,\n    displayOrder: 2,\n  },\n];\n\nexport function OffersPromotions() {\n  // Start with the original hard-coded orange cards\n  const [offers, setOffers] = useState<HomepageOffer[]>(DEFAULT_OFFERS);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadOffers = async () => {\n      try {\n        setLoading(true);\n        // Simple fetch: get all docs, then filter/sort in memory (avoids index issues)\n        const snapshot = await getDocs(collection(db, \"homepage_offers\"));\n        const data: HomepageOffer[] = [];\n        snapshot.forEach((d) => {\n          const docData = d.data() as any;\n          data.push({\n            id: d.id || \"\",\n            title: docData.title || \"\",\n            subtitle: docData.subtitle || \"\",\n            discount: Number(docData.discount) || 0,\n            expiresAt: docData.expiresAt || \"\",\n            ctaLabel: docData.ctaLabel || \"Shop Now\",\n            ctaUrl: docData.ctaUrl || \"/\",\n            videoUrl: docData.videoUrl || \"\",\n            enabled: docData.enabled !== false,\n            displayOrder: docData.displayOrder ?? 1,\n          });\n        });\n        // Only keep enabled cards, sort by displayOrder\n        const enabled = data\n          .filter((card) => card.enabled)\n          .sort((a, b) => (a.displayOrder || 0) - (b.displayOrder || 0));\n        \n        // Always ensure we have exactly 2 cards with videos\n        let finalOffers: HomepageOffer[] = [];\n        if (enabled.length >= 2) {\n          // Use first 2 from Firestore, ensure videos are set\n          finalOffers = enabled.slice(0, 2).map((offer, idx) => ({\n            ...offer,\n            videoUrl: offer.videoUrl || DEFAULT_SHOPPING_VIDEOS[idx] || DEFAULT_SHOPPING_VIDEOS[0],\n          }));\n        } else if (enabled.length === 1) {\n          // Use the one from Firestore + one default (with video if missing)\n          const first = {\n            ...enabled[0],\n            videoUrl: enabled[0].videoUrl || DEFAULT_SHOPPING_VIDEOS[0],\n          };\n          const second = {\n            ...DEFAULT_OFFERS[1],\n            videoUrl: DEFAULT_OFFERS[1].videoUrl || DEFAULT_SHOPPING_VIDEOS[1],\n          };\n          finalOffers = [first, second];\n        } else {\n          // Use both defaults (ensure videos are set)\n          finalOffers = DEFAULT_OFFERS.map((offer, idx) => ({\n            ...offer,\n            videoUrl: offer.videoUrl || DEFAULT_SHOPPING_VIDEOS[idx] || DEFAULT_SHOPPING_VIDEOS[0],\n          }));\n        }\n        \n        setOffers(finalOffers);\n      } catch (error) {\n        console.error(\"Error loading homepage offers:\", error);\n        // On error, use defaults\n        setOffers(DEFAULT_OFFERS);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadOffers();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {[1, 2].map((i) => (\n          <div\n            key={i}\n            className=\"bg-gradient-to-br from-red-500 to-orange-500 text-white rounded-lg p-8 relative overflow-hidden animate-pulse\"\n          >\n            <div className=\"h-32\"></div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n      {offers.slice(0, 2).map((offer, index) => {\n        const videoUrl = offer.videoUrl || DEFAULT_SHOPPING_VIDEOS[index] || DEFAULT_SHOPPING_VIDEOS[0];\n        return (\n          <div\n            key={offer.id}\n            className=\"bg-gradient-to-br from-red-500 to-orange-500 text-white rounded-lg p-8 relative overflow-hidden shadow-lg min-h-[300px]\"\n          >\n            {/* Video Background */}\n            <video\n              autoPlay\n              loop\n              muted\n              playsInline\n              className=\"absolute inset-0 w-full h-full object-cover\"\n              style={{ opacity: 0.4 }}\n              onError={(e) => {\n                console.error(\"Video failed to load:\", videoUrl);\n                // Fallback to default if video fails\n                const videoElement = e.target as HTMLVideoElement;\n                if (videoElement.src !== DEFAULT_SHOPPING_VIDEOS[0]) {\n                  videoElement.src = DEFAULT_SHOPPING_VIDEOS[0];\n                }\n              }}\n            >\n              <source src={videoUrl} type=\"video/mp4\" />\n              Your browser does not support the video tag.\n            </video>\n            {/* Gradient Overlay for better text readability */}\n            <div className=\"absolute inset-0 bg-gradient-to-br from-red-500/70 to-orange-500/70 z-0\" />\n            \n            {/* Content */}\n            <div className=\"relative z-10\">\n              <div className=\"text-5xl font-bold mb-2 drop-shadow-lg\">{offer.discount}% OFF</div>\n              <h3 className=\"text-2xl font-bold mb-2 drop-shadow-lg\">{offer.title}</h3>\n              <p className=\"text-lg opacity-90 mb-4 drop-shadow\">{offer.subtitle}</p>\n              <Link\n                href={offer.ctaUrl || \"/\"}\n                className=\"inline-block px-6 py-2 bg-white text-red-600 rounded-lg font-semibold hover:bg-gray-100 transition shadow-lg\"\n              >\n                {offer.ctaLabel || \"Shop Now\"}\n              </Link>\n              {offer.expiresAt && (\n                <p className=\"text-sm mt-4 opacity-90 drop-shadow\">Expires: {offer.expiresAt}</p>\n              )}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n\n\n\n","\"use client\";\n\nimport { useState } from \"react\";\n\n// Email opt-in, WhatsApp opt-in (Stored in subscriptions collection)\nexport function NewsletterSubscription() {\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [subscribed, setSubscribed] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    // TODO: Save to Firestore subscriptions collection\n    console.log(\"Subscribe:\", { email, phone });\n    setSubscribed(true);\n    setTimeout(() => setSubscribed(false), 3000);\n  };\n\n  return (\n    <div className=\"max-w-3xl mx-auto\">\n      <div className=\"rounded-2xl border border-gray-800/60 bg-gray-900/70 px-5 py-6 md:px-8 md:py-7 shadow-lg\">\n        <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n          {/* Left: compact copy */}\n          <div className=\"max-w-md\">\n            <p className=\"text-[11px] font-semibold uppercase tracking-wide text-blue-300 mb-1\">\n              Stay updated\n            </p>\n            <h2 className=\"text-xl md:text-2xl font-bold text-white\">\n              Get new courses & offers in your inbox.\n            </h2>\n            <p className=\"mt-1 text-xs md:text-sm text-gray-300/90\">\n              Join the list for launch alerts, live class reminders, and member-only discounts.\n            </p>\n          </div>\n\n          {/* Right: slimmer form */}\n          <form\n            onSubmit={handleSubmit}\n            className=\"mt-3 md:mt-0 w-full md:w-auto flex flex-col gap-2\"\n          >\n            <div className=\"flex flex-col md:flex-row md:items-center gap-2\">\n              <input\n                type=\"email\"\n                placeholder=\"Email address\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full md:w-56 rounded-full border border-gray-700 bg-gray-800 px-3 py-2 text-xs md:text-sm text-white placeholder:text-gray-400 focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-400/70\"\n                required\n              />\n              <div className=\"flex gap-2\">\n                <span className=\"hidden md:inline-flex items-center rounded-full border border-gray-700 bg-gray-800 px-3 text-xs text-gray-400\">\n                  +91\n                </span>\n                <input\n                  type=\"tel\"\n                  placeholder=\"WhatsApp (optional)\"\n                  value={phone}\n                  onChange={(e) => setPhone(e.target.value)}\n                  className=\"w-full md:w-40 rounded-full border border-gray-700 bg-gray-800 px-3 py-2 text-xs md:text-sm text-white placeholder:text-gray-400 focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-400/70\"\n                />\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <button\n                type=\"submit\"\n                className=\"inline-flex items-center justify-center rounded-full bg-blue-500 px-4 py-2 text-xs md:text-sm font-semibold text-white shadow-sm transition hover:bg-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-300\"\n              >\n                {subscribed ? \"‚úì Subscribed\" : \"Subscribe\"}\n              </button>\n              <p className=\"text-[10px] text-gray-400\">\n                No spam. Unsubscribe with one click.\n              </p>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n\n\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\n\ntype HomepageTestimonial = {\n  id: string;\n  name: string;\n  role: string;\n  text: string;\n  videoUrl?: string;\n  thumbnailImage?: string;\n  enabled: boolean;\n  displayOrder: number;\n};\n\nconst DEFAULT_TESTIMONIALS: HomepageTestimonial[] = [\n  {\n    id: \"1\",\n    name: \"Harper Jackson\",\n    role: \"Founder, Creative Studio\",\n    text:\n      \"The unified LMS and store experience made it incredibly easy to sell courses and physical kits together.\",\n    enabled: true,\n    displayOrder: 1,\n  },\n  {\n    id: \"2\",\n    name: \"Mason Jack\",\n    role: \"Digital Marketer\", \n    text:\n      \"Live classes, recorded courses, and workshop registrations all work from a single dashboard. Huge time saver.\",\n    enabled: true,\n    displayOrder: 2,\n  },\n  {\n    id: \"3\",\n    name: \"Avery Wyatt\",\n    role: \"Student\",\n    text:\n      \"I can learn, buy workshop kits, and track my certificates in one place. The experience feels premium.\",\n    enabled: true,\n    displayOrder: 3,\n  },\n];\n\n// Shared testimonials for landing + classes pages\nexport function Testimonials() {\n  // Start with the original hard-coded testimonials\n  const [testimonials, setTestimonials] = useState<HomepageTestimonial[]>(DEFAULT_TESTIMONIALS);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadTestimonials = async () => {\n      try {\n        setLoading(true);\n        // Simple fetch: get all docs, then filter/sort in memory (avoids index issues)\n        const snapshot = await getDocs(collection(db, \"homepage_testimonials\"));\n        const data: HomepageTestimonial[] = [];\n        snapshot.forEach((d) => {\n          const docData = d.data() as any;\n          data.push({\n            id: d.id || \"\",\n            name: docData.name || \"\",\n            role: docData.role || \"\",\n            text: docData.text || \"\",\n            videoUrl: docData.videoUrl || \"\",\n            thumbnailImage: docData.thumbnailImage || \"\",\n            enabled: docData.enabled !== false,\n            displayOrder: docData.displayOrder ?? 1,\n          });\n        });\n        const enabled = data\n          .filter((t) => t.enabled)\n          .sort((a, b) => (a.displayOrder || 0) - (b.displayOrder || 0));\n        // If admin has configured testimonials, use them; otherwise keep the defaults\n        if (enabled.length > 0) {\n          setTestimonials(enabled);\n        }\n      } catch (error) {\n        console.error(\"Error loading testimonials:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadTestimonials();\n  }, []);\n\n  return (\n    <section className=\"py-16 bg-gray-50\">\n      <div className=\"container mx-auto px-4\">\n        <h2 className=\"text-3xl font-bold text-center mb-10\">\n          What People Say\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          {testimonials.map((t) => (\n            <div\n              key={t.id}\n              className=\"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100\"\n            >\n              {t.videoUrl ? (\n                // Video testimonial\n                <div className=\"relative\">\n                  <video\n                    src={t.videoUrl}\n                    poster={t.thumbnailImage}\n                    controls\n                    className=\"w-full h-64 object-cover\"\n                    preload=\"metadata\"\n                  >\n                    Your browser does not support the video tag.\n                  </video>\n                  <div className=\"p-4\">\n                    <div className=\"font-semibold text-gray-900\">{t.name}</div>\n                    <div className=\"text-xs text-gray-500\">{t.role}</div>\n                    {t.text && (\n                      <p className=\"text-gray-700 mt-2 text-sm leading-relaxed line-clamp-2\">\n                        &ldquo;{t.text}&rdquo;\n                      </p>\n                    )}\n                  </div>\n                </div>\n              ) : (\n                // Text testimonial (fallback)\n                <div className=\"p-6\">\n                  <p className=\"text-gray-700 mb-4 text-sm leading-relaxed\">\n                    &ldquo;{t.text}&rdquo;\n                  </p>\n                  <div className=\"mt-4\">\n                    <div className=\"font-semibold text-gray-900\">{t.name}</div>\n                    <div className=\"text-xs text-gray-500\">{t.role}</div>\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n\n\n\n\n"],"names":[],"mappings":"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"}