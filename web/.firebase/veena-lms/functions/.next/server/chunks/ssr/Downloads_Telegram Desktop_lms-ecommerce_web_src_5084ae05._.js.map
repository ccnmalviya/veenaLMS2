{"version":3,"sources":["../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/lib/s3ImageHelper.ts","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/common/S3Image.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/app/admin/courses/categories/%5Bid%5D/edit/page.tsx"],"sourcesContent":["/**\n * Helper function to get signed S3 URLs for images\n * This is needed because S3 objects with KMS encryption require signed URLs\n */\n\nexport async function getSignedImageUrl(imageUrl: string): Promise<string> {\n  // If it's not an S3 URL, return as-is\n  if (!imageUrl || (!imageUrl.includes(\"s3\") && !imageUrl.includes(\"amazonaws.com\"))) {\n    return imageUrl;\n  }\n\n  try {\n    // Pass the full URL as-is; the API will extract the S3 object key\n    const response = await fetch(`/api/s3-signed-url?key=${encodeURIComponent(imageUrl)}`);\n    \n    if (!response.ok) {\n      const errorText = await response.text();\n      console.error(\"Failed to get signed URL:\", {\n        status: response.status,\n        statusText: response.statusText,\n        error: errorText,\n        imageUrl: imageUrl\n      });\n      return imageUrl; // Fallback to original URL\n    }\n\n    const data = await response.json();\n    if (data.error) {\n      console.error(\"Signed URL API error:\", data.error);\n      return imageUrl; // Fallback to original URL\n    }\n    return data.url || imageUrl;\n  } catch (error) {\n    console.error(\"Error getting signed URL:\", error);\n    return imageUrl; // Fallback to original URL\n  }\n}\n\n/**\n * Get signed URLs for multiple images\n */\nexport async function getSignedImageUrls(imageUrls: string[]): Promise<string[]> {\n  return Promise.all(imageUrls.map(url => getSignedImageUrl(url)));\n}\n\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { getSignedImageUrl } from \"@/lib/s3ImageHelper\";\n\ninterface S3ImageProps {\n  src: string;\n  alt: string;\n  className?: string;\n  fallback?: React.ReactNode;\n}\n\nexport function S3Image({ src, alt, className = \"\", fallback }: S3ImageProps) {\n  const [imageUrl, setImageUrl] = useState<string>(src);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<string>(\"\");\n\n  useEffect(() => {\n    // Handle empty or invalid src\n    if (!src || src.trim() === \"\") {\n      setError(true);\n      setLoading(false);\n      return;\n    }\n\n    // Only get signed URL if it's an S3 URL\n    if (src.includes(\"s3\") || src.includes(\"amazonaws.com\")) {\n      getSignedImageUrl(src)\n        .then((signedUrl) => {\n          setImageUrl(signedUrl);\n          setLoading(false);\n        })\n        .catch((err) => {\n          // Fallback to original URL - might work if bucket has public read access\n          setImageUrl(src);\n          setLoading(false);\n        });\n    } else {\n      // Not an S3 URL, use as-is\n      setImageUrl(src);\n      setLoading(false);\n    }\n  }, [src]);\n\n  if (error) {\n    return (\n      <div className={className}>\n        {fallback || (\n          <div className=\"w-full h-full flex items-center justify-center text-gray-400 bg-gray-100\">\n            <svg className=\"w-16 h-16\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <img\n        src={imageUrl}\n        alt={alt}\n        className={className}\n        onError={(e) => {\n          // Silently handle image load errors - don't spam console\n          if (process.env.NODE_ENV === \"development\") {\n            console.warn(\"S3Image: Image failed to load\", imageUrl);\n          }\n          setError(true);\n          setErrorMessage(\"Failed to load image\");\n        }}\n        onLoad={() => {\n          setLoading(false);\n          setError(false);\n        }}\n        style={{ opacity: loading ? 0.5 : 1 }}\n      />\n      {error && process.env.NODE_ENV === \"development\" && (\n        <div className=\"text-xs text-red-500 mt-1\">\n          Image load failed. Check console for details.\n        </div>\n      )}\n    </>\n  );\n}\n\n\n\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter, useParams } from \"next/navigation\";\r\nimport { doc, getDoc, updateDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { db } from \"@/lib/firebaseClient\";\r\nimport { AdminLayout } from \"@/components/admin/AdminLayout\";\r\nimport { FileUpload } from \"@/components/admin/FileUpload\";\r\nimport { S3Image } from \"@/components/common/S3Image\";\r\n\r\nexport default function EditCourseCategoryPage() {\r\n  const router = useRouter();\r\n  const params = useParams();\r\n  const categoryId = params?.id as string;\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    slug: \"\",\r\n    image: \"\",\r\n    description: \"\",\r\n    orderIndex: 0,\r\n    status: \"active\" as \"active\" | \"inactive\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (categoryId) {\r\n      loadCategory();\r\n    }\r\n  }, [categoryId]);\r\n\r\n  const loadCategory = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const categoryRef = doc(db, \"categories\", categoryId);\r\n      const categorySnap = await getDoc(categoryRef);\r\n      \r\n      if (!categorySnap.exists()) {\r\n        alert(\"Category not found\");\r\n        router.push(\"/admin/courses/categories\");\r\n        return;\r\n      }\r\n\r\n      const data = categorySnap.data();\r\n      setFormData({\r\n        name: data.name || \"\",\r\n        slug: data.slug || \"\",\r\n        image: data.image || \"\",\r\n        description: data.description || \"\",\r\n        orderIndex: data.orderIndex || 0,\r\n        status: data.status || \"active\",\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error loading category:\", error);\r\n      alert(\"Failed to load category\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateSlug = (name: string) => {\r\n    return name\r\n      .toLowerCase()\r\n      .trim()\r\n      .replace(/[^\\w\\s-]/g, \"\")\r\n      .replace(/[\\s_-]+/g, \"-\")\r\n      .replace(/^-+|-+$/g, \"\");\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      setSaving(true);\r\n      const categoryRef = doc(db, \"categories\", categoryId);\r\n      await updateDoc(categoryRef, {\r\n        name: formData.name,\r\n        slug: formData.slug || generateSlug(formData.name),\r\n        image: formData.image || null,\r\n        description: formData.description || null,\r\n        orderIndex: formData.orderIndex,\r\n        status: formData.status,\r\n        updatedAt: serverTimestamp(),\r\n      });\r\n      router.push(\"/admin/courses/categories\");\r\n    } catch (error) {\r\n      console.error(\"Error updating category:\", error);\r\n      alert(\"Failed to update category\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <AdminLayout>\r\n        <div className=\"text-center py-12\">Loading category...</div>\r\n      </AdminLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <div className=\"space-y-6\">\r\n        <div className=\"mb-8\">\r\n          <button\r\n            onClick={() => router.back()}\r\n            className=\"text-blue-600 hover:text-blue-800 mb-4\"\r\n          >\r\n            ‚Üê Back to Categories\r\n          </button>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Edit Course Category</h1>\r\n          <p className=\"text-gray-600 mt-2\">Update category details</p>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"bg-white rounded-lg shadow p-6 space-y-6\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Category Name *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              value={formData.name}\r\n              onChange={(e) => {\r\n                setFormData({ ...formData, name: e.target.value });\r\n                if (!formData.slug) {\r\n                  setFormData(prev => ({ ...prev, slug: generateSlug(e.target.value) }));\r\n                }\r\n              }}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              placeholder=\"e.g., Programming, Design, Marketing\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Slug *</label>\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              value={formData.slug}\r\n              onChange={(e) => setFormData({ ...formData, slug: generateSlug(e.target.value) })}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              placeholder=\"e.g., programming, design, marketing\"\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              Auto-generated from name, but can be edited\r\n            </p>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Image (Optional)</label>\r\n            {formData.image && (\r\n              <div className=\"mb-4\">\r\n                <S3Image\r\n                  src={formData.image}\r\n                  alt=\"Current category image\"\r\n                  className=\"w-32 h-32 object-cover border border-gray-300 rounded mb-2\"\r\n                />\r\n              </div>\r\n            )}\r\n            <FileUpload\r\n              accept=\"image/*\"\r\n              folder=\"categories/images\"\r\n              currentValue={formData.image}\r\n              onUploadComplete={(url) => {\r\n                setFormData((prev) => ({ ...prev, image: url }));\r\n              }}\r\n              onUploadError={(error) => {\r\n                alert(`Upload failed: ${error}`);\r\n              }}\r\n            />\r\n            {formData.image && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setFormData((prev) => ({ ...prev, image: \"\" }))}\r\n                className=\"mt-2 text-sm text-red-600 hover:text-red-800\"\r\n              >\r\n                Remove Image\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\r\n            <textarea\r\n              value={formData.description}\r\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              rows={3}\r\n              placeholder=\"Brief description of this category\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Order Index</label>\r\n            <input\r\n              type=\"number\"\r\n              value={formData.orderIndex}\r\n              onChange={(e) => setFormData({ ...formData, orderIndex: parseInt(e.target.value) || 0 })}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              placeholder=\"0\"\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              Lower numbers appear first in the category list\r\n            </p>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\r\n            <select\r\n              value={formData.status}\r\n              onChange={(e) => setFormData({ ...formData, status: e.target.value as \"active\" | \"inactive\" })}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n            >\r\n              <option value=\"active\">Active</option>\r\n              <option value=\"inactive\">Inactive</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"flex gap-4 pt-4\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={saving}\r\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\r\n            >\r\n              {saving ? \"Saving...\" : \"Save Changes\"}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => router.back()}\r\n              className=\"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </AdminLayout>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}