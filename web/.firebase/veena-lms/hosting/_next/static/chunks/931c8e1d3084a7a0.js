(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,92981,e=>{"use strict";var t=e.i(90454),s=e.i(17725),a=e.i(26190);e.i(53068);var r=e.i(87678),l=e.i(67006),i=e.i(39878);function o(){let[e,o]=(0,s.useState)([]),[n,d]=(0,s.useState)({}),[c,m]=(0,s.useState)({}),[g,u]=(0,s.useState)(0),[h,x]=(0,s.useState)(!0),[p,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{b(!0),y()},[]),(0,s.useEffect)(()=>{if(e.length<=1)return;let t=setInterval(()=>{u(t=>(t+1)%e.length)},5e3);return()=>clearInterval(t)},[e.length]),(0,s.useEffect)(()=>{e.length>0&&console.log("Hero banners loaded:",e.length,e)},[e]);let y=async()=>{try{console.log("Fetching all hero banners from hero_banners collection...");let e=await (0,r.getDocs)((0,r.collection)(l.db,"hero_banners")),t=[];if(console.log(`Found ${e.size} hero banners in Firestore`),e.forEach(e=>{let s=e.data();console.log(`Hero Banner ${e.id}:`,{heroName:s.heroName,enabled:s.enabled,status:s.status,displayOrder:s.displayOrder,mainHeading:s.mainHeading});let a=void 0===s.enabled||s.enabled,r=s.status||"active";a&&"active"===r?t.push({heroId:e.id,...s,enabled:a,status:r,displayOrder:s.displayOrder||999}):console.log(`Skipping banner ${e.id} - enabled: ${a}, status: ${r}`)}),console.log(`Displaying ${t.length} active hero banners`),0===t.length&&e.size>0&&(console.warn("âš ï¸ Hero banners exist in Firestore but none match the display criteria!"),console.warn("All banners found:",Array.from(e.docs).map(e=>({id:e.id,heroName:e.data().heroName,enabled:e.data().enabled,status:e.data().status,displayOrder:e.data().displayOrder,mainHeading:e.data().mainHeading,allFields:Object.keys(e.data())}))),console.warn("Expected: enabled=true (or undefined) AND status='active' (or undefined)")),t.sort((e,t)=>(e.displayOrder||999)-(t.displayOrder||999)),t.length>0)o(t),f(t);else{console.log("No active hero banner found. Check that banner has enabled=true and status='active'");let e=(0,r.query)((0,r.collection)(l.db,"hero_banners"),(0,r.limit)(5)),t=await (0,r.getDocs)(e);console.log("All banners in collection:",t.docs.map(e=>({id:e.id,enabled:e.data().enabled,status:e.data().status,displayOrder:e.data().displayOrder,mainHeading:e.data().mainHeading})))}}catch(e){console.error("âŒ Error loading hero banners:",e),console.error("Error code:",e?.code),console.error("Error message:",e?.message),e?.code==="permission-denied"&&(console.error("ðŸš« Firestore permission denied! Check your Firestore security rules."),console.error("Make sure 'hero_banners' collection allows read access for unauthenticated users or authenticated users.")),"failed-precondition"===e.code&&(console.error("Firestore index required. Please create a composite index for:"),console.error("Collection: hero_banners"),console.error("Fields: enabled (Ascending), status (Ascending), displayOrder (Ascending)"))}finally{x(!1)}},f=async e=>{let t={},s={};try{await Promise.all(e.map(async e=>{if(e.heroImage)try{let s=await (0,i.getSignedImageUrl)(e.heroImage);t[e.heroId]=s}catch(s){console.error(`Error loading hero image for ${e.heroId}:`,s),t[e.heroId]=e.heroImage}if(e.backgroundImage&&e.backgroundImage!==e.heroImage)try{let t=await (0,i.getSignedImageUrl)(e.backgroundImage);s[e.heroId]=t}catch(t){console.error(`Error loading background image for ${e.heroId}:`,t),s[e.heroId]=e.backgroundImage}})),d(t),m(s)}catch(e){console.error("Error loading image URLs:",e)}},v=e=>{if(!e)return"#";switch(e.actionType){case"url":case"page":return e.actionTarget;case"category":return`/category/${e.actionTarget}`;case"product":case"course":return`/item/${e.actionTarget}`;default:return"#"}},N=e=>{switch(e){case"primary":default:return"inline-flex items-center justify-center px-6 py-3 rounded-full bg-black text-white text-sm font-semibold hover:bg-gray-900 transition";case"secondary":return"inline-flex items-center justify-center px-6 py-3 rounded-full bg-gray-200 text-gray-900 text-sm font-semibold hover:bg-gray-300 transition";case"outline":return"inline-flex items-center justify-center px-6 py-3 rounded-full border border-gray-300 text-sm font-semibold text-gray-900 hover:bg-gray-100 transition"}};return!p||h||0===e.length?null:(0,t.jsx)("section",{className:"relative min-h-[500px] md:min-h-[600px] overflow-hidden",children:(0,t.jsx)("div",{className:"flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${100*g/e.length}%)`,width:`${100*e.length}%`},children:e.map((s,r)=>{let l,i=(e=>{let t={},s=n[e.heroId]||e.heroImage,a=c[e.heroId]||e.backgroundImage;switch(s&&(t.backgroundImage=`url(${s})`,t.backgroundSize="cover",t.backgroundPosition="center",t.backgroundRepeat="no-repeat"),e.backgroundType){case"solid":e.backgroundColor?s?t.backgroundImage=`linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(${s})`:t.backgroundColor=e.backgroundColor:t.backgroundColor=s?"transparent":"#f5f5f5";break;case"gradient":e.backgroundGradient&&s&&(t.backgroundImage=`linear-gradient(to right, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.3)), url(${s})`);break;case"image":a?(t.backgroundImage=`url(${a})`,t.backgroundSize="cover",t.backgroundPosition="center"):s&&(t.backgroundImage=`url(${s})`,t.backgroundSize="cover",t.backgroundPosition="center");break;default:s||(t.backgroundColor="#f5f5f5")}return t})(s),o=!!(n[s.heroId]||s.heroImage),d=o||"dark"===s.themeMode?"text-white":"text-gray-900",m=o?"text-white/90":"dark"===s.themeMode?"text-gray-200":"text-gray-600";return(0,t.jsxs)("div",{className:`${(l="","gradient"===s.backgroundType&&s.backgroundGradient&&(l=`bg-gradient-to-r ${s.backgroundGradient}`),(s.heroImage||"image"===s.backgroundType)&&(l+=" relative"),l)} relative flex items-center flex-shrink-0`,style:{...i,minHeight:"500px",width:`${100/e.length}%`},children:[o&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40"}),(0,t.jsx)("div",{className:"w-full h-full flex items-center relative z-10",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-10 md:py-20 w-full",children:(0,t.jsxs)("div",{className:"max-w-2xl text-left",children:[s.eyebrowText&&(0,t.jsx)("div",{className:`text-xs font-semibold uppercase mb-3 tracking-wide ${d} drop-shadow-lg`,children:s.eyebrowText}),(0,t.jsx)("h1",{className:`text-4xl md:text-6xl font-extrabold ${d} drop-shadow-lg leading-tight mb-4`,children:s.mainHeading}),s.subheading&&(0,t.jsx)("p",{className:`text-base md:text-lg ${m} drop-shadow-md mb-8 max-w-2xl`,children:s.subheading}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsx)(a.default,{href:v(s.primaryCta),className:N(s.primaryCta.buttonStyle),children:s.primaryCta.buttonText}),s.secondaryCta?.buttonText&&(0,t.jsx)(a.default,{href:v(s.secondaryCta),className:N(s.secondaryCta.buttonStyle),children:s.secondaryCta.buttonText})]})]})})}),e.length>1&&(0,t.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-14 z-20 flex gap-2 items-center",children:e.map((s,a)=>(0,t.jsx)("button",{onClick:()=>{a>=0&&a<e.length&&u(a)},className:`w-3 h-3 rounded-full transition-all duration-300 cursor-pointer ${a===g?"bg-white":"bg-gray-700 hover:bg-gray-600"}`,"aria-label":`Go to slide ${a+1}`},a))})]},s.heroId)})})})}e.s(["HeroBanner",()=>o])},46777,e=>{"use strict";var t=e.i(90454),s=e.i(26190);let a=["https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"];function r(){return(0,t.jsx)("section",{className:"bg-[#f5f5f5]",children:(0,t.jsx)("div",{className:"container mx-auto px-4 pb-8",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:"formal",title:"Explore All Formal Courses",badge:"20% OFF",cta:"Shop Now"},{id:"running",title:"Grab the Latest Live Classes",badge:"25% OFF",cta:"Shop Now"}].map((e,r)=>(0,t.jsxs)("div",{className:"relative h-44 bg-gray-200 rounded-2xl overflow-hidden flex items-end p-4",children:[(0,t.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{opacity:.5},children:[(0,t.jsx)("source",{src:a[r]||a[0],type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-0"}),(0,t.jsx)("div",{className:"absolute top-3 left-3 text-[10px] font-semibold bg-white px-2 py-1 rounded-full z-10",children:e.badge}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("h3",{className:"text-sm md:text-base font-semibold text-white drop-shadow",children:e.title}),(0,t.jsx)(s.default,{href:"/classes",className:"mt-2 inline-flex items-center justify-center px-4 py-2 rounded-full bg-white text-[11px] font-semibold text-gray-900 hover:bg-gray-100",children:e.cta})]})]},e.id))})})})}e.s(["PromoRow",()=>r])},10485,e=>{"use strict";var t=e.i(90454),s=e.i(17725),a=e.i(26190);e.i(53068);var r=e.i(87678),l=e.i(67006);function i(){let[e,i]=(0,s.useState)(null),[o,n]=(0,s.useState)(!0);(0,s.useEffect)(()=>{d()},[]);let d=async()=>{try{n(!0);let e=await (0,r.getDocs)((0,r.collection)(l.db,"store_items")),t=null,s=1/0;if(e.forEach(e=>{let a=e.data(),r=a.type||a.itemType;if(("live_class"===r||"workshop"===r)&&"active"===a.status&&a.date){let e=0;a.date.toMillis?e=a.date.toMillis():a.date.seconds?e=1e3*a.date.seconds:"string"==typeof a.date&&(e=new Date(a.date).getTime()),e>Date.now()&&e<s&&(s=e,t={date:a.date,title:a.title||a.name})}}),t){let e=t.date.toDate?t.date.toDate():new Date(t.date.seconds?1e3*t.date.seconds:t.date);i({date:e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),title:t.title})}else i({date:"Coming Soon"})}catch(e){console.error("Error loading next session:",e),i({date:"Coming Soon"})}finally{n(!1)}};return(0,t.jsx)("section",{className:"bg-white",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"mt-4 rounded-2xl overflow-hidden relative h-40 bg-gray-900 text-white flex items-center px-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.15em] text-gray-300 mb-1",children:"Live Classes starting at"}),(0,t.jsx)("p",{className:"text-sm font-semibold",children:o?"Loading...":e?.date||"Coming Soon"}),e?.title&&(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1 line-clamp-1",children:e.title})]}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-xs text-gray-300 hidden md:inline",children:"Join interactive live batches each week"}),(0,t.jsx)(a.default,{href:"/classes",className:"px-5 py-2 rounded-full bg-white text-xs font-semibold text-gray-900 hover:bg-gray-100",children:"Join Now"})]})]})})})}e.s(["LiveStrip",()=>i])},73360,e=>{"use strict";var t=e.i(90454),s=e.i(17725),a=e.i(26190);e.i(53068);var r=e.i(87678),l=e.i(67006),i=e.i(15506);function o(){let[e,o]=(0,s.useState)([]),[n,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{c()},[]);let c=async()=>{try{d(!0),console.log("Loading new products from Firestore..."),console.log("Fetching all products from store_items collection...");let e=await (0,r.getDocs)((0,r.collection)(l.db,"store_items"));console.log(`Found ${e.size} products in store_items collection`);let t=[],s=new Map;e.forEach(e=>{let a=e.data();s.set(e.id,{doc:e,data:a}),console.log(`Product ${e.id}:`,{title:a.title||a.name,status:a.status,itemType:a.itemType||a.type,price:a.price||a.basePrice,hasImage:!!(a.image||a.images?.[0]||a.thumbnailImage)}),a.status&&"active"!==a.status&&"draft"!==a.status?console.log(`Skipping product ${e.id} - status: ${a.status}`):t.push({id:e.id,title:a.title||a.name||"Untitled",itemType:a.itemType||a.type,type:a.type||a.itemType,price:a.price||a.basePrice||0,discountPrice:a.discountPrice||a.discount_price||a.compareAtPrice,image:a.image||a.images?.[0]||a.thumbnailImage,images:a.images,status:a.status||"active",createdAt:a.createdAt,created_at:a.created_at})}),t.sort((e,t)=>{let s=e.createdAt?.toMillis?.()||e.created_at?.toMillis?.()||e.createdAt?.seconds*1e3||e.created_at?.seconds*1e3||0;return(t.createdAt?.toMillis?.()||t.created_at?.toMillis?.()||t.createdAt?.seconds*1e3||t.created_at?.seconds*1e3||0)-s});let a=t.slice(0,6);console.log(`Displaying ${a.length} products:`,a.map(e=>e.title)),0===a.length&&e.size>0&&(console.warn("âš ï¸ Products exist in Firestore but none match the display criteria!"),console.warn("All products found:",Array.from(e.docs).map(e=>({id:e.id,title:e.data().title||e.data().name,status:e.data().status,itemType:e.data().itemType||e.data().type,allFields:Object.keys(e.data())})))),o(a)}catch(e){console.error("âŒ Error loading new products:",e),console.error("Error code:",e?.code),console.error("Error message:",e?.message),e?.code==="permission-denied"&&(console.error("ðŸš« Firestore permission denied! Check your Firestore security rules."),console.error("Make sure 'store_items' collection allows read access for unauthenticated users or authenticated users."));try{console.log("Attempting fallback query...");let e=await (0,r.getDocs)((0,r.collection)(l.db,"store_items"));console.log(`Fallback: Found ${e.size} total products`);let t=[];e.forEach(e=>{let s=e.data();t.push({id:e.id,title:s.title||s.name||"Untitled",itemType:s.itemType||s.type,type:s.type||s.itemType,price:s.price||s.basePrice||0,discountPrice:s.discountPrice||s.discount_price||s.compareAtPrice,image:s.image||s.images?.[0]||s.thumbnailImage,images:s.images,status:s.status||"active"})}),t.sort((e,t)=>0),o(t.slice(0,6))}catch(e){console.error("âŒ Complete fallback also failed:",e),console.error("Fallback error code:",e?.code),console.error("Fallback error message:",e?.message)}}finally{d(!1)}},m=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e);return n?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[(0,t.jsx)("div",{className:"h-48 bg-gray-200"}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),(0,t.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},e))}):0===e.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No new products available at the moment."}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsxs)(a.default,{href:`/item/${e.id}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition",children:[(0,t.jsx)("div",{className:"h-48 bg-gray-200 relative",children:e.image?(0,t.jsx)(i.S3Image,{src:e.image,alt:e.title,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"})}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("span",{className:"text-xs text-green-600 font-semibold uppercase",children:"New"}),(0,t.jsx)("h3",{className:"font-semibold text-lg mt-2 line-clamp-2",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1 capitalize",children:e.type||e.itemType||"Product"}),(0,t.jsx)("div",{className:"mt-2 flex items-center gap-2",children:e.discountPrice?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-xl font-bold text-gray-900",children:m(e.discountPrice)}),(0,t.jsx)("span",{className:"text-sm text-gray-500 line-through",children:m(e.price)})]}):(0,t.jsx)("span",{className:"text-xl font-bold text-gray-900",children:m(e.price)})})]})]},e.id))})}e.s(["NewProducts",()=>o])},9386,e=>{"use strict";var t=e.i(90454),s=e.i(17725),a=e.i(26190);e.i(53068);var r=e.i(87678),l=e.i(67006);function i(){let[e,i]=(0,s.useState)([]),[o,n]=(0,s.useState)(!0),[d,c]=(0,s.useState)({});(0,s.useEffect)(()=>{m()},[]);let m=async()=>{try{n(!0),console.log("Loading categories from Firestore..."),console.log("Fetching all categories from categories collection...");let e=await (0,r.getDocs)((0,r.collection)(l.db,"categories"));console.log(`Found ${e.size} categories in Firestore`);let t=[];e.forEach(e=>{let s=e.data();console.log(`Category ${e.id}:`,{name:s.name,status:s.status,orderIndex:s.orderIndex}),s.status&&"active"!==s.status?console.log(`Skipping category ${e.id} - status: ${s.status}`):t.push({categoryId:e.id,...s,orderIndex:s.orderIndex||999,status:s.status||"active"})}),t.sort((e,t)=>(e.orderIndex||999)-(t.orderIndex||999)),console.log(`Displaying ${t.length} active categories:`,t.map(e=>e.name)),0===t.length&&e.size>0&&(console.warn("âš ï¸ Categories exist in Firestore but none match the display criteria!"),console.warn("All categories found:",Array.from(e.docs).map(e=>({id:e.id,name:e.data().name,status:e.data().status,allFields:Object.keys(e.data())})))),i(t),g(t)}catch(e){console.error("âŒ Error loading categories:",e),console.error("Error code:",e?.code),console.error("Error message:",e?.message),e?.code==="permission-denied"&&(console.error("ðŸš« Firestore permission denied! Check your Firestore security rules."),console.error("Make sure 'categories' collection allows read access for unauthenticated users or authenticated users.")),console.error("Full error:",JSON.stringify(e,null,2))}finally{n(!1)}},g=async e=>{try{let e=await (0,r.getDocs)((0,r.collection)(l.db,"store_items")),t={};e.forEach(e=>{let s=e.data(),a=s.categoryId||s.category;a&&(t[a]=(t[a]||0)+1)}),c(t)}catch(e){console.error("Error loading item counts:",e)}};return o?(0,t.jsx)("section",{className:"bg-white py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Our Categories"}),(0,t.jsx)("div",{className:"text-center py-4 text-gray-500",children:"Loading categories..."})]})}):0===e.length?(0,t.jsx)("section",{className:"bg-white py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Our Categories"}),(0,t.jsxs)("div",{className:"text-center py-4 text-yellow-600 bg-yellow-50 px-4 py-2 rounded border border-yellow-200",children:["No categories found. ",(0,t.jsx)("a",{href:"/admin/store-items/categories/new",className:"text-blue-600 underline",children:"Create categories in admin panel"})]})]})}):(0,t.jsx)("section",{className:"bg-white py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Our Categories"}),(0,t.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2",children:e.map(e=>(0,t.jsxs)(a.default,{href:`/category/${e.slug||e.categoryId}`,className:"min-w-[140px] bg-gray-100 rounded-2xl px-4 py-3 flex flex-col justify-center hover:bg-gray-200 transition",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,t.jsxs)("span",{className:"text-[11px] text-gray-500",children:[d[e.categoryId]||0," items"]})]},e.categoryId))})]})})}e.s(["ProductCategories",()=>i])},644,e=>{"use strict";var t=e.i(90454),s=e.i(17725),a=e.i(26190);e.i(53068);var r=e.i(87678),l=e.i(67006),i=e.i(15506);function o(){let[e,o]=(0,s.useState)([]),[n,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{c()},[]);let c=async()=>{try{d(!0),console.log("Fetching all products for best sellers...");let e=await (0,r.getDocs)((0,r.collection)(l.db,"store_items"));console.log(`Found ${e.size} products in store_items collection`);let t=[];e.forEach(e=>{let s=e.data();console.log(`Product ${e.id}:`,{title:s.title||s.name,status:s.status,salesCount:s.salesCount||s.sales_count}),s.status&&"active"!==s.status&&"draft"!==s.status||t.push({id:e.id,title:s.title||s.name||"Untitled",itemType:s.itemType||s.type,type:s.type||s.itemType,price:s.price||s.basePrice||0,discountPrice:s.discountPrice||s.discount_price||s.compareAtPrice,image:s.image||s.images?.[0]||s.thumbnailImage,images:s.images,status:s.status||"active",salesCount:s.salesCount||s.sales_count||0,sales_count:s.sales_count||s.salesCount||0})}),t.sort((e,t)=>{let s=e.salesCount||e.sales_count||0;return(t.salesCount||t.sales_count||0)-s}),o(t.slice(0,6))}catch(e){console.error("Error loading best selling products:",e)}finally{d(!1)}},m=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e);return n?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[(0,t.jsx)("div",{className:"h-48 bg-gray-200"}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},e))}):0===e.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No best selling products available at the moment."}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsxs)(a.default,{href:`/item/${e.id}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition",children:[(0,t.jsxs)("div",{className:"h-48 bg-gray-200 relative",children:[e.image?(0,t.jsx)(i.S3Image,{src:e.image,alt:e.title,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"}),(0,t.jsx)("span",{className:"absolute top-2 left-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded text-xs font-bold",children:"ðŸ”¥ Best Seller"})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mt-2 line-clamp-2",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.salesCount||e.sales_count||0,"+ sold"]}),(0,t.jsx)("div",{className:"mt-2 flex items-center gap-2",children:e.discountPrice?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-xl font-bold text-gray-900",children:m(e.discountPrice)}),(0,t.jsx)("span",{className:"text-sm text-gray-500 line-through",children:m(e.price)})]}):(0,t.jsx)("span",{className:"text-xl font-bold text-gray-900",children:m(e.price)})})]})]},e.id))})}e.s(["BestSellingProducts",()=>o])},53200,e=>{"use strict";var t=e.i(90454),s=e.i(17725),a=e.i(26190),r=e.i(84598);e.i(53068);var l=e.i(87678),i=e.i(67006),o=e.i(15506);function n(){let[e,n]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0),m=(0,r.useSearchParams)(),g=m.get("search")?.trim()||"";(0,s.useEffect)(()=>{u()},[g]);let u=async()=>{try{c(!0),console.log("Fetching all products for recommendations...");let e=await (0,l.getDocs)((0,l.collection)(i.db,"store_items")),t=[];e.forEach(e=>{let s=e.data();s.status&&"active"!==s.status&&"draft"!==s.status||t.push({id:e.id,title:s.title||s.name||"Untitled",itemType:s.itemType||s.type,type:s.type||s.itemType,price:s.price||0,discountPrice:s.discountPrice||s.discount_price,image:s.image||s.images?.[0],images:s.images,status:s.status||"active",featured:s.featured||!1})});let s=[];if(g){let e=g.toLowerCase(),a=t.filter(t=>{let s=(t.title||"").toLowerCase(),a=(t.type||t.itemType||"").toLowerCase();return s.includes(e)||a.includes(e)}),r=[],l=new Set;for(let e of a){if(r.length>=6)break;l.has(e.id)||(r.push(e),l.add(e.id))}if(r.length<6)for(let e of t){if(r.length>=6)break;l.has(e.id)||(r.push(e),l.add(e.id))}s=r}else{let e=t.filter(e=>e.featured);s=e.length>=3?e.slice(0,6):t.slice(0,6)}console.log(`Displaying ${s.length} recommended products`),n(s)}catch(e){console.error("Error loading recommended products:",e);try{let e=(0,l.query)((0,l.collection)(i.db,"store_items"),(0,l.limit)(12)),t=await (0,l.getDocs)(e),s=[];t.forEach(e=>{let t=e.data();s.push({id:e.id,title:t.title||t.name||"Untitled",itemType:t.itemType||t.type,type:t.type||t.itemType,price:t.price||0,discountPrice:t.discountPrice||t.discount_price,image:t.image||t.images?.[0],images:t.images,status:t.status||"active",featured:t.featured||!1})}),n(s.slice(0,6))}catch(e){console.error("Fallback query also failed:",e)}}finally{c(!1)}},h=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e);return d?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[(0,t.jsx)("div",{className:"h-48 bg-gray-200"}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),(0,t.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},e))}):0===e.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No recommended products available at the moment."}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsxs)(a.default,{href:`/item/${e.id}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition",children:[(0,t.jsx)("div",{className:"h-48 bg-gray-200 relative",children:e.image?(0,t.jsx)(o.S3Image,{src:e.image,alt:e.title,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"})}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("span",{className:"text-xs text-purple-600 font-semibold uppercase",children:"Recommended"}),(0,t.jsx)("h3",{className:"font-semibold text-lg mt-2 line-clamp-2",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1 capitalize",children:e.type||e.itemType||"Product"}),(0,t.jsx)("div",{className:"mt-2 flex items-center gap-2",children:e.discountPrice?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-xl font-bold text-gray-900",children:h(e.discountPrice)}),(0,t.jsx)("span",{className:"text-sm text-gray-500 line-through",children:h(e.price)})]}):(0,t.jsx)("span",{className:"text-xl font-bold text-gray-900",children:h(e.price)})})]})]},e.id))})}function d(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(n,{})})}e.s(["RecommendedProducts",()=>d])},99966,e=>{"use strict";var t=e.i(90454),s=e.i(17725),a=e.i(26190);e.i(53068);var r=e.i(87678),l=e.i(67006);let i=["https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"],o=[{id:"1",title:"Flash Sale: 50% Off",subtitle:"All courses this week",discount:50,expiresAt:"2024-12-31",ctaLabel:"Shop Now",ctaUrl:"/offers/1",videoUrl:i[0],enabled:!0,displayOrder:1},{id:"2",title:"Buy 2 Get 1 Free",subtitle:"On selected workshops",discount:33,expiresAt:"2024-12-25",ctaLabel:"Shop Now",ctaUrl:"/offers/2",videoUrl:i[1],enabled:!0,displayOrder:2}];function n(){let[e,n]=(0,s.useState)(o),[d,c]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{(async()=>{try{c(!0);let e=await (0,r.getDocs)((0,r.collection)(l.db,"homepage_offers")),t=[];e.forEach(e=>{let s=e.data();t.push({id:e.id||"",title:s.title||"",subtitle:s.subtitle||"",discount:Number(s.discount)||0,expiresAt:s.expiresAt||"",ctaLabel:s.ctaLabel||"Shop Now",ctaUrl:s.ctaUrl||"/",videoUrl:s.videoUrl||"",enabled:!1!==s.enabled,displayOrder:s.displayOrder??1})});let s=t.filter(e=>e.enabled).sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)),a=[];if(s.length>=2)a=s.slice(0,2).map((e,t)=>({...e,videoUrl:e.videoUrl||i[t]||i[0]}));else if(1===s.length){let e={...s[0],videoUrl:s[0].videoUrl||i[0]},t={...o[1],videoUrl:o[1].videoUrl||i[1]};a=[e,t]}else a=o.map((e,t)=>({...e,videoUrl:e.videoUrl||i[t]||i[0]}));n(a)}catch(e){console.error("Error loading homepage offers:",e),n(o)}finally{c(!1)}})()},[]),d)?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2].map(e=>(0,t.jsx)("div",{className:"bg-gradient-to-br from-red-500 to-orange-500 text-white rounded-lg p-8 relative overflow-hidden animate-pulse",children:(0,t.jsx)("div",{className:"h-32"})},e))}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.slice(0,2).map((e,s)=>{let r=e.videoUrl||i[s]||i[0];return(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500 to-orange-500 text-white rounded-lg p-8 relative overflow-hidden shadow-lg min-h-[300px]",children:[(0,t.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{opacity:.4},onError:e=>{console.error("Video failed to load:",r);let t=e.target;t.src!==i[0]&&(t.src=i[0])},children:[(0,t.jsx)("source",{src:r,type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/70 to-orange-500/70 z-0"}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"text-5xl font-bold mb-2 drop-shadow-lg",children:[e.discount,"% OFF"]}),(0,t.jsx)("h3",{className:"text-2xl font-bold mb-2 drop-shadow-lg",children:e.title}),(0,t.jsx)("p",{className:"text-lg opacity-90 mb-4 drop-shadow",children:e.subtitle}),(0,t.jsx)(a.default,{href:e.ctaUrl||"/",className:"inline-block px-6 py-2 bg-white text-red-600 rounded-lg font-semibold hover:bg-gray-100 transition shadow-lg",children:e.ctaLabel||"Shop Now"}),e.expiresAt&&(0,t.jsxs)("p",{className:"text-sm mt-4 opacity-90 drop-shadow",children:["Expires: ",e.expiresAt]})]})]},e.id)})})}e.s(["OffersPromotions",()=>n])},68228,e=>{"use strict";var t=e.i(90454),s=e.i(17725);function a(){let[e,a]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1),n=async t=>{t.preventDefault(),console.log("Subscribe:",{email:e,phone:r}),o(!0),setTimeout(()=>o(!1),3e3)};return(0,t.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,t.jsx)("div",{className:"rounded-2xl border border-gray-800/60 bg-gray-900/70 px-5 py-6 md:px-8 md:py-7 shadow-lg",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"max-w-md",children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-blue-300 mb-1",children:"Stay updated"}),(0,t.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-white",children:"Get new courses & offers in your inbox."}),(0,t.jsx)("p",{className:"mt-1 text-xs md:text-sm text-gray-300/90",children:"Join the list for launch alerts, live class reminders, and member-only discounts."})]}),(0,t.jsxs)("form",{onSubmit:n,className:"mt-3 md:mt-0 w-full md:w-auto flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-2",children:[(0,t.jsx)("input",{type:"email",placeholder:"Email address",value:e,onChange:e=>a(e.target.value),className:"w-full md:w-56 rounded-full border border-gray-700 bg-gray-800 px-3 py-2 text-xs md:text-sm text-white placeholder:text-gray-400 focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-400/70",required:!0}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"hidden md:inline-flex items-center rounded-full border border-gray-700 bg-gray-800 px-3 text-xs text-gray-400",children:"+91"}),(0,t.jsx)("input",{type:"tel",placeholder:"WhatsApp (optional)",value:r,onChange:e=>l(e.target.value),className:"w-full md:w-40 rounded-full border border-gray-700 bg-gray-800 px-3 py-2 text-xs md:text-sm text-white placeholder:text-gray-400 focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-400/70"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{type:"submit",className:"inline-flex items-center justify-center rounded-full bg-blue-500 px-4 py-2 text-xs md:text-sm font-semibold text-white shadow-sm transition hover:bg-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-300",children:i?"âœ“ Subscribed":"Subscribe"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"No spam. Unsubscribe with one click."})]})]})]})})})}e.s(["NewsletterSubscription",()=>a])},53139,e=>{"use strict";var t=e.i(90454),s=e.i(17725);e.i(53068);var a=e.i(87678),r=e.i(67006);let l=[{id:"1",name:"Harper Jackson",role:"Founder, Creative Studio",text:"The unified LMS and store experience made it incredibly easy to sell courses and physical kits together.",enabled:!0,displayOrder:1},{id:"2",name:"Mason Jack",role:"Digital Marketer",text:"Live classes, recorded courses, and workshop registrations all work from a single dashboard. Huge time saver.",enabled:!0,displayOrder:2},{id:"3",name:"Avery Wyatt",role:"Student",text:"I can learn, buy workshop kits, and track my certificates in one place. The experience feels premium.",enabled:!0,displayOrder:3}];function i(){let[e,i]=(0,s.useState)(l),[o,n]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{try{n(!0);let e=await (0,a.getDocs)((0,a.collection)(r.db,"homepage_testimonials")),t=[];e.forEach(e=>{let s=e.data();t.push({id:e.id||"",name:s.name||"",role:s.role||"",text:s.text||"",videoUrl:s.videoUrl||"",thumbnailImage:s.thumbnailImage||"",enabled:!1!==s.enabled,displayOrder:s.displayOrder??1})});let s=t.filter(e=>e.enabled).sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0));s.length>0&&i(s)}catch(e){console.error("Error loading testimonials:",e)}finally{n(!1)}})()},[]),(0,t.jsx)("section",{className:"py-16 bg-gray-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-center mb-10",children:"What People Say"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(e=>(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100",children:e.videoUrl?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("video",{src:e.videoUrl,poster:e.thumbnailImage,controls:!0,className:"w-full h-64 object-cover",preload:"metadata",children:"Your browser does not support the video tag."}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.role}),e.text&&(0,t.jsxs)("p",{className:"text-gray-700 mt-2 text-sm leading-relaxed line-clamp-2",children:["â€œ",e.text,"â€"]})]})]}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("p",{className:"text-gray-700 mb-4 text-sm leading-relaxed",children:["â€œ",e.text,"â€"]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.role})]})]})},e.id))})]})})}e.s(["Testimonials",()=>i])}]);