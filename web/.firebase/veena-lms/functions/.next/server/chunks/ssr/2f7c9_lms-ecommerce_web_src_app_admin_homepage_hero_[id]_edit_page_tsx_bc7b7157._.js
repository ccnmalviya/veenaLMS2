module.exports=[90695,a=>{"use strict";var b=a.i(88398),c=a.i(96600),d=a.i(71852);a.i(55614);var e=a.i(93749),f=a.i(47073),g=a.i(56219),h=a.i(35538),i=a.i(18295);function j(){let a=(0,d.useRouter)(),j=(0,d.useParams)().id,[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)({heroName:"",enabled:!0,displayOrder:1,eyebrowText:"",mainHeading:"",subheading:"",primaryCta:{buttonText:"",buttonStyle:"primary",actionType:"url",actionTarget:""},secondaryCta:{buttonText:"",buttonStyle:"secondary",actionType:"url",actionTarget:""},heroImage:"",imageAltText:"",textAlignment:"left",imagePosition:"right",themeMode:"light",backgroundType:"solid",backgroundColor:"#f5f5f5",hideImageOnMobile:!1,status:"active"});(0,c.useEffect)(()=>{u(),v(),w()},[j]);let u=async()=>{try{let a=(0,e.query)((0,e.collection)(f.db,"categories"),(0,e.where)("status","==","active")),b=await (0,e.getDocs)(a),c=[];b.forEach(a=>{c.push({categoryId:a.id,...a.data()})}),p(c)}catch(a){console.error("Error loading categories:",a)}},v=async()=>{try{let a=(0,e.query)((0,e.collection)(f.db,"store_items"),(0,e.where)("status","==","active")),b=await (0,e.getDocs)(a),c=[];b.forEach(a=>{c.push({itemId:a.id,...a.data()})}),r(c)}catch(a){console.error("Error loading products:",a)}},w=async()=>{try{l(!0);let b=(0,e.doc)(f.db,"hero_banners",j),c=await (0,e.getDoc)(b);if(!c.exists()){alert("Hero banner not found"),a.push("/admin/homepage/hero");return}let d=c.data();t({heroName:d.heroName||"",enabled:d.enabled??!0,displayOrder:d.displayOrder||1,eyebrowText:d.eyebrowText||"",mainHeading:d.mainHeading||"",subheading:d.subheading||"",primaryCta:d.primaryCta||{buttonText:"",buttonStyle:"primary",actionType:"url",actionTarget:""},secondaryCta:d.secondaryCta||{buttonText:"",buttonStyle:"secondary",actionType:"url",actionTarget:""},heroImage:d.heroImage||"",imageAltText:d.imageAltText||"",textAlignment:d.textAlignment||"left",imagePosition:d.imagePosition||"right",themeMode:d.themeMode||"light",backgroundType:d.backgroundType||"solid",backgroundColor:d.backgroundColor||"#f5f5f5",backgroundGradient:d.backgroundGradient||"",backgroundImage:d.backgroundImage||"",hideImageOnMobile:d.hideImageOnMobile??!1,status:d.status||"active"})}catch(a){console.error("Error loading hero banner:",a),alert("Failed to load hero banner")}finally{l(!1)}},x=a=>{switch(a){case"category":return o.map(a=>({value:a.categoryId,label:a.name}));case"product":case"course":return q.filter(b=>"course"!==a||"live_class"===b.itemType||"digital_product"===b.itemType).map(a=>({value:a.itemId,label:a.title}));default:return[]}},y=async b=>{b.preventDefault();try{if(n(!0),!s.heroName||!s.mainHeading||!s.primaryCta?.buttonText)return void alert("Please fill in all required fields");let b={heroName:s.heroName,enabled:s.enabled??!0,displayOrder:s.displayOrder??1,eyebrowText:s.eyebrowText||null,mainHeading:s.mainHeading,subheading:s.subheading||null,primaryCta:s.primaryCta,secondaryCta:s.secondaryCta?.buttonText?s.secondaryCta:null,heroImage:s.heroImage||null,imageAltText:s.imageAltText||null,textAlignment:s.textAlignment||"left",imagePosition:s.imagePosition||"right",themeMode:s.themeMode||"light",backgroundType:s.backgroundType||"solid",backgroundColor:s.backgroundColor||null,backgroundGradient:s.backgroundGradient||null,backgroundImage:s.backgroundImage||null,hideImageOnMobile:s.hideImageOnMobile??!1,status:s.status||"active",updatedAt:(0,e.serverTimestamp)()};await (0,e.updateDoc)((0,e.doc)(f.db,"hero_banners",j),b),a.push("/admin/homepage/hero")}catch(a){console.error("Error updating hero banner:",a),alert("Failed to update hero banner")}finally{n(!1)}};return k?(0,b.jsx)(g.AdminLayout,{children:(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsx)("div",{className:"text-lg",children:"Loading..."})})}):(0,b.jsx)(g.AdminLayout,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("button",{onClick:()=>a.back(),className:"text-blue-600 hover:text-blue-800 mb-4",children:"â† Back"}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Hero Banner"})]}),(0,b.jsxs)("form",{onSubmit:y,className:"bg-white rounded-lg shadow p-6 max-w-4xl",children:[(0,b.jsxs)("section",{className:"mb-8 pb-8 border-b",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"1. Basic Control"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",checked:s.enabled??!0,onChange:a=>t({...s,enabled:a.target.checked}),className:"mr-2"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Enable Hero Banner"})]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hero ID / Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",required:!0,value:s.heroName||"",onChange:a=>t({...s,heroName:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),(0,b.jsx)("input",{type:"number",value:s.displayOrder||1,onChange:a=>t({...s,displayOrder:parseInt(a.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",min:"1"})]})]})]}),(0,b.jsxs)("section",{className:"mb-8 pb-8 border-b",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"2. Content"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Eyebrow Text"}),(0,b.jsx)("input",{type:"text",value:s.eyebrowText||"",onChange:a=>t({...s,eyebrowText:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Main Heading (H1) ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",required:!0,value:s.mainHeading||"",onChange:a=>t({...s,mainHeading:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subheading / Description"}),(0,b.jsx)("textarea",{rows:4,value:s.subheading||"",onChange:a=>t({...s,subheading:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),(0,b.jsxs)("section",{className:"mb-8 pb-8 border-b",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"3. Primary CTA (Required)"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Button Text ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",required:!0,value:s.primaryCta?.buttonText||"",onChange:a=>t({...s,primaryCta:{...s.primaryCta,buttonText:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Style"}),(0,b.jsx)("select",{value:s.primaryCta?.buttonStyle||"primary",onChange:a=>t({...s,primaryCta:{...s.primaryCta,buttonStyle:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:(0,b.jsx)("option",{value:"primary",children:"Primary"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action Type"}),(0,b.jsxs)("select",{value:s.primaryCta?.actionType||"url",onChange:a=>t({...s,primaryCta:{...s.primaryCta,actionType:a.target.value,actionTarget:""}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,b.jsx)("option",{value:"url",children:"URL"}),(0,b.jsx)("option",{value:"page",children:"Page"}),(0,b.jsx)("option",{value:"category",children:"Category"}),(0,b.jsx)("option",{value:"product",children:"Product"}),(0,b.jsx)("option",{value:"course",children:"Course"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action Target"}),s.primaryCta?.actionType==="url"?(0,b.jsx)("input",{type:"text",required:!0,value:s.primaryCta?.actionTarget||"",onChange:a=>t({...s,primaryCta:{...s.primaryCta,actionTarget:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}):(0,b.jsxs)("select",{required:!0,value:s.primaryCta?.actionTarget||"",onChange:a=>t({...s,primaryCta:{...s.primaryCta,actionTarget:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,b.jsxs)("option",{value:"",children:["Select ",s.primaryCta?.actionType]}),x(s.primaryCta?.actionType||"url").map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]})]})]}),(0,b.jsxs)("section",{className:"mb-8 pb-8 border-b",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"4. Secondary CTA (Optional)"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Text"}),(0,b.jsx)("input",{type:"text",value:s.secondaryCta?.buttonText||"",onChange:a=>t({...s,secondaryCta:{...s.secondaryCta,buttonText:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Style"}),(0,b.jsxs)("select",{value:s.secondaryCta?.buttonStyle||"secondary",onChange:a=>t({...s,secondaryCta:{...s.secondaryCta,buttonStyle:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,b.jsx)("option",{value:"secondary",children:"Secondary"}),(0,b.jsx)("option",{value:"outline",children:"Outline"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action Type"}),(0,b.jsxs)("select",{value:s.secondaryCta?.actionType||"url",onChange:a=>t({...s,secondaryCta:{...s.secondaryCta,actionType:a.target.value,actionTarget:""}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,b.jsx)("option",{value:"url",children:"URL"}),(0,b.jsx)("option",{value:"page",children:"Page"}),(0,b.jsx)("option",{value:"category",children:"Category"}),(0,b.jsx)("option",{value:"product",children:"Product"}),(0,b.jsx)("option",{value:"course",children:"Course"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action Target"}),s.secondaryCta?.actionType==="url"?(0,b.jsx)("input",{type:"text",value:s.secondaryCta?.actionTarget||"",onChange:a=>t({...s,secondaryCta:{...s.secondaryCta,actionTarget:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}):(0,b.jsxs)("select",{value:s.secondaryCta?.actionTarget||"",onChange:a=>t({...s,secondaryCta:{...s.secondaryCta,actionTarget:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,b.jsxs)("option",{value:"",children:["Select ",s.secondaryCta?.actionType]}),x(s.secondaryCta?.actionType||"url").map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]})]})]}),(0,b.jsxs)("section",{className:"mb-8 pb-8 border-b",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"5. Visual"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Image"}),s.heroImage?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.S3Image,{src:s.heroImage,alt:"Hero preview",className:"w-full h-64 object-cover rounded-lg border border-gray-300"}),(0,b.jsx)("button",{type:"button",onClick:()=>t({...s,heroImage:""}),className:"absolute top-2 right-2 bg-red-600 text-white px-3 py-1 rounded-lg hover:bg-red-700 text-sm font-medium shadow-lg",children:"Delete Image"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Upload a new image to replace the current one:"}),(0,b.jsx)(h.FileUpload,{accept:"image/*",folder:"hero-banners",onUploadComplete:a=>t({...s,heroImage:a}),onUploadError:a=>alert(`Upload failed: ${a}`)})]})]}):(0,b.jsx)(h.FileUpload,{accept:"image/*",folder:"hero-banners",onUploadComplete:a=>t({...s,heroImage:a}),onUploadError:a=>alert(`Upload failed: ${a}`)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Alt Text"}),(0,b.jsx)("input",{type:"text",value:s.imageAltText||"",onChange:a=>t({...s,imageAltText:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),(0,b.jsxs)("section",{className:"mb-8 pb-8 border-b",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"6. Layout & Style"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Text Alignment"}),(0,b.jsxs)("select",{value:s.textAlignment||"left",onChange:a=>t({...s,textAlignment:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,b.jsx)("option",{value:"left",children:"Left"}),(0,b.jsx)("option",{value:"center",children:"Center"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Position"}),(0,b.jsxs)("select",{value:s.imagePosition||"right",onChange:a=>t({...s,imagePosition:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,b.jsx)("option",{value:"left",children:"Left"}),(0,b.jsx)("option",{value:"right",children:"Right"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Mode"}),(0,b.jsxs)("select",{value:s.themeMode||"light",onChange:a=>t({...s,themeMode:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,b.jsx)("option",{value:"light",children:"Light"}),(0,b.jsx)("option",{value:"dark",children:"Dark"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Type"}),(0,b.jsxs)("select",{value:s.backgroundType||"solid",onChange:a=>t({...s,backgroundType:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,b.jsx)("option",{value:"solid",children:"Solid"}),(0,b.jsx)("option",{value:"gradient",children:"Gradient"}),(0,b.jsx)("option",{value:"image",children:"Image"})]})]}),"solid"===s.backgroundType&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"color",value:s.backgroundColor||"#f5f5f5",onChange:a=>t({...s,backgroundColor:a.target.value}),className:"h-10 w-20 border border-gray-300 rounded"}),(0,b.jsx)("input",{type:"text",value:s.backgroundColor||"#f5f5f5",onChange:a=>t({...s,backgroundColor:a.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})]})]}),"gradient"===s.backgroundType&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Gradient"}),(0,b.jsx)("input",{type:"text",value:s.backgroundGradient||"",onChange:a=>t({...s,backgroundGradient:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., from-blue-500 to-purple-500"})]}),"image"===s.backgroundType&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Image"}),s.backgroundImage?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.S3Image,{src:s.backgroundImage,alt:"Background preview",className:"w-full h-64 object-cover rounded-lg border border-gray-300"}),(0,b.jsx)("button",{type:"button",onClick:()=>t({...s,backgroundImage:""}),className:"absolute top-2 right-2 bg-red-600 text-white px-3 py-1 rounded-lg hover:bg-red-700 text-sm font-medium shadow-lg",children:"Delete Image"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Upload a new image to replace the current one:"}),(0,b.jsx)(h.FileUpload,{accept:"image/*",folder:"hero-banners/backgrounds",onUploadComplete:a=>t({...s,backgroundImage:a}),onUploadError:a=>alert(`Upload failed: ${a}`)})]})]}):(0,b.jsx)(h.FileUpload,{accept:"image/*",folder:"hero-banners/backgrounds",onUploadComplete:a=>t({...s,backgroundImage:a}),onUploadError:a=>alert(`Upload failed: ${a}`)})]})]})]}),(0,b.jsxs)("section",{className:"mb-8 pb-8 border-b",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"7. Responsive Control"}),(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",checked:s.hideImageOnMobile??!1,onChange:a=>t({...s,hideImageOnMobile:a.target.checked}),className:"mr-2"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Hide Image on Mobile"})]})})]}),(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Status"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,b.jsxs)("select",{value:s.status||"active",onChange:a=>t({...s,status:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4 border-t",children:[(0,b.jsx)("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:m?"Saving...":"Save Changes"}),(0,b.jsx)("button",{type:"button",onClick:()=>a.back(),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]})})}a.s(["default",()=>j])}];

//# sourceMappingURL=2f7c9_lms-ecommerce_web_src_app_admin_homepage_hero_%5Bid%5D_edit_page_tsx_bc7b7157._.js.map