module.exports=[91044,a=>{"use strict";var b=a.i(88398),c=a.i(96600),d=a.i(71852);a.i(55614);var e=a.i(93749),f=a.i(47073),g=a.i(56219),h=a.i(35538);function i(){let a=(0,d.useRouter)(),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)({name:"",logo:"",description:"",websiteUrl:"",status:"active"}),m=async a=>{let b=(0,e.query)((0,e.collection)(f.db,"brands"),(0,e.where)("name","==",a));return(await (0,e.getDocs)(b)).empty},n=async b=>{b.preventDefault();try{if(j(!0),!await m(k.name))return void alert("Brand name already exists. Please choose a different name.");await (0,e.addDoc)((0,e.collection)(f.db,"brands"),{name:k.name,logo:k.logo||null,description:k.description||null,websiteUrl:k.websiteUrl||null,status:k.status,createdAt:(0,e.serverTimestamp)(),updatedAt:(0,e.serverTimestamp)()}),a.push("/admin/store-items/brands")}catch(a){console.error("Error creating brand:",a),alert("Failed to create brand")}finally{j(!1)}};return(0,b.jsx)(g.AdminLayout,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("button",{onClick:()=>a.back(),className:"text-blue-600 hover:text-blue-800 mb-4",children:"â† Back"}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Brand"})]}),(0,b.jsx)("form",{onSubmit:n,className:"bg-white rounded-lg shadow p-6 max-w-2xl",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,b.jsx)("input",{type:"text",required:!0,value:k.name,onChange:a=>l({...k,name:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Brand Name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo"}),(0,b.jsx)(h.FileUpload,{accept:"image/*",folder:"brands/logos",currentValue:k.logo,onUploadComplete:a=>{console.log("Upload complete, URL:",a),l(b=>({...b,logo:a}))},onUploadError:a=>{alert(`Upload failed: ${a}`)}}),k.logo&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("img",{src:k.logo,alt:"Brand logo",className:"w-32 h-32 object-contain border border-gray-300 rounded"}),(0,b.jsx)("button",{type:"button",onClick:()=>l(a=>({...a,logo:""})),className:"mt-2 text-sm text-red-600 hover:text-red-800",children:"Remove Logo"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),(0,b.jsx)("textarea",{rows:4,value:k.description,onChange:a=>l({...k,description:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Brand description..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website URL (Optional)"}),(0,b.jsx)("input",{type:"url",value:k.websiteUrl,onChange:a=>l({...k,websiteUrl:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"https://..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),(0,b.jsxs)("select",{required:!0,value:k.status,onChange:a=>l({...k,status:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:i?"Creating...":"Create Brand"}),(0,b.jsx)("button",{type:"button",onClick:()=>a.back(),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})})]})})}a.s(["default",()=>i])}];

//# sourceMappingURL=2f7c9_lms-ecommerce_web_src_app_admin_store-items_brands_new_page_tsx_f8278229._.js.map