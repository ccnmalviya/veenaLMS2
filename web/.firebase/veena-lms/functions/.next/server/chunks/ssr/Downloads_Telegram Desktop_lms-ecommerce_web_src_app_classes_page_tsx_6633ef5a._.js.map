{"version":3,"sources":["../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/app/classes/page.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/common/VideoTestimonials.tsx","../../../../../../../../Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/UpcomingSessions.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, Suspense } from \"react\";\nimport Link from \"next/link\";\nimport { useSearchParams } from \"next/navigation\";\nimport { collection, getDocs, query, where, orderBy, limit } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport { Header } from \"@/components/layout/Header\";\nimport { Footer } from \"@/components/layout/Footer\";\nimport { VideoTestimonials } from \"@/components/common/VideoTestimonials\";\nimport { S3Image } from \"@/components/common/S3Image\";\nimport { Course } from \"@/types/course\";\nimport { UpcomingSessions } from \"@/components/home/UpcomingSessions\";\n\ntype Category = {\n  categoryId: string;\n  name: string;\n  slug?: string;\n  image?: string;\n  description?: string;\n  status?: string;\n  courseImages?: string[]; // Preview images from courses in this category\n};\n\n// Function to get category-related images from Unsplash based on category name\nconst getCategoryImage = (categoryName: string): string => {\n  const name = categoryName.toLowerCase();\n  \n  // Map common category names to relevant Unsplash images\n  const categoryImageMap: { [key: string]: string } = {\n    // Technology & Programming\n    \"programming\": \"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=400&h=300&fit=crop\",\n    \"web development\": \"https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=400&h=300&fit=crop\",\n    \"javascript\": \"https://images.unsplash.com/photo-1579468118864-1b9ea3c0db4a?w=400&h=300&fit=crop\",\n    \"python\": \"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?w=400&h=300&fit=crop\",\n    \"react\": \"https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=400&h=300&fit=crop\",\n    \"coding\": \"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=300&fit=crop\",\n    \"software\": \"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=400&h=300&fit=crop\",\n    \"technology\": \"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=400&h=300&fit=crop\",\n    \n    // Design\n    \"design\": \"https://images.unsplash.com/photo-1501504905252-473c47e087f8?w=400&h=300&fit=crop\",\n    \"ui/ux\": \"https://images.unsplash.com/photo-1561070791-2526d30994b5?w=400&h=300&fit=crop\",\n    \"graphic design\": \"https://images.unsplash.com/photo-1561070791-2526d30994b5?w=400&h=300&fit=crop\",\n    \"web design\": \"https://images.unsplash.com/photo-1561070791-2526d30994b5?w=400&h=300&fit=crop\",\n    \n    // Business\n    \"business\": \"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400&h=300&fit=crop\",\n    \"marketing\": \"https://images.unsplash.com/photo-1552664730-d307ca884978?w=400&h=300&fit=crop\",\n    \"finance\": \"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=400&h=300&fit=crop\",\n    \"entrepreneurship\": \"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=400&h=300&fit=crop\",\n    \n    // Data & Analytics\n    \"data science\": \"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=300&fit=crop\",\n    \"analytics\": \"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=300&fit=crop\",\n    \"machine learning\": \"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=400&h=300&fit=crop\",\n    \"ai\": \"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=400&h=300&fit=crop\",\n    \"artificial intelligence\": \"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=400&h=300&fit=crop\",\n    \n    // Photography & Video\n    \"photography\": \"https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?w=400&h=300&fit=crop\",\n    \"video editing\": \"https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?w=400&h=300&fit=crop\",\n    \"videography\": \"https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?w=400&h=300&fit=crop\",\n    \n    // Language & Communication\n    \"language\": \"https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=400&h=300&fit=crop\",\n    \"english\": \"https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=400&h=300&fit=crop\",\n    \"communication\": \"https://images.unsplash.com/photo-1552664730-d307ca884978?w=400&h=300&fit=crop\",\n    \n    // Health & Fitness\n    \"health\": \"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=300&fit=crop\",\n    \"fitness\": \"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=300&fit=crop\",\n    \"yoga\": \"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=400&h=300&fit=crop\",\n    \n    // Music & Arts\n    \"music\": \"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop\",\n    \"art\": \"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=400&h=300&fit=crop\",\n    \n    // Default fallback\n    \"default\": \"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=400&h=300&fit=crop\",\n  };\n  \n  // Check for exact match first\n  if (categoryImageMap[name]) {\n    return categoryImageMap[name];\n  }\n  \n  // Check for partial matches\n  for (const [key, url] of Object.entries(categoryImageMap)) {\n    if (name.includes(key) || key.includes(name)) {\n      return url;\n    }\n  }\n  \n  // Return default image\n  return categoryImageMap[\"default\"];\n};\n\nfunction ClassesPageContent() {\n  const searchParams = useSearchParams();\n  const searchQuery = searchParams?.get(\"search\") || \"\";\n  const selectedCategory = searchParams?.get(\"category\") || \"\";\n  const showAllCourses = searchParams?.get(\"all\") === \"true\";\n  const [newCourses, setNewCourses] = useState<Course[]>([]);\n  const [recommendedCourses, setRecommendedCourses] = useState<Course[]>([]);\n  const [categoryCourses, setCategoryCourses] = useState<Course[]>([]);\n  const [allCourses, setAllCourses] = useState<Course[]>([]);\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadNewCourses();\n    loadRecommendedCourses();\n    loadCategories();\n    loadCategoryCourses();\n    loadAllCourses();\n  }, [searchQuery, selectedCategory, showAllCourses]);\n\n  const loadNewCourses = async () => {\n    try {\n      setLoading(true);\n      console.log(\"Loading new courses...\");\n      \n      // Use fallback method: get all courses and filter/sort in memory\n      // This avoids Firestore index requirements\n      try {\n        const allCoursesSnapshot = await getDocs(collection(db, \"courses\"));\n        console.log(`Total courses in database: ${allCoursesSnapshot.size}`);\n        \n        const coursesData: Course[] = [];\n        allCoursesSnapshot.forEach((doc) => {\n          const data = doc.data();\n          // Filter for published courses only\n          if (data.status === \"published\") {\n            console.log(`Found published course: ${doc.id} - ${data.title}`, {\n              id: doc.id,\n              status: data.status,\n              title: data.title,\n              createdAt: data.createdAt,\n              created_at: data.created_at\n            });\n            coursesData.push({ \n              id: doc.id, \n              ...data \n            } as Course);\n          } else {\n            console.log(`Skipping course ${doc.id} - status: ${data.status}`);\n          }\n        });\n        \n        // Sort by createdAt in descending order (newest first)\n        coursesData.sort((a, b) => {\n          let aTime = 0;\n          let bTime = 0;\n          \n          // Try to get timestamp from createdAt (Firestore Timestamp)\n          if (a.createdAt) {\n            aTime = a.createdAt?.toMillis?.() || (a.createdAt as any)?.seconds * 1000 || 0;\n          } else if ((a as any).created_at) {\n            const created_at = (a as any).created_at;\n            aTime = created_at?.toMillis?.() || created_at?.seconds * 1000 || 0;\n          }\n          \n          if (b.createdAt) {\n            bTime = b.createdAt?.toMillis?.() || (b.createdAt as any)?.seconds * 1000 || 0;\n          } else if ((b as any).created_at) {\n            const created_at = (b as any).created_at;\n            bTime = created_at?.toMillis?.() || created_at?.seconds * 1000 || 0;\n          }\n          \n          return bTime - aTime; // Descending order (newest first)\n        });\n        \n        // Limit to 6 most recent\n        const limitedCourses = coursesData.slice(0, 6);\n        \n        console.log(`Loaded ${limitedCourses.length} published courses (out of ${coursesData.length} total published)`, limitedCourses);\n        setNewCourses(limitedCourses);\n      } catch (fallbackError) {\n        console.error(\"Error in fallback method:\", fallbackError);\n        \n        // Last resort: try indexed query (might require index)\n        try {\n          const q = query(\n            collection(db, \"courses\"),\n            where(\"status\", \"==\", \"published\"),\n            orderBy(\"createdAt\", \"desc\"),\n            limit(6)\n          );\n          const snapshot = await getDocs(q);\n          const coursesData: Course[] = [];\n          snapshot.forEach((doc) => {\n            coursesData.push({ \n              id: doc.id, \n              ...doc.data() \n            } as Course);\n          });\n          console.log(`Loaded ${coursesData.length} courses using indexed query`);\n          setNewCourses(coursesData);\n        } catch (indexError: any) {\n          console.error(\"Indexed query also failed:\", indexError);\n          console.error(\"This might require creating a Firestore index. Courses may still load using the fallback method.\");\n          // Set empty array if all methods fail\n          setNewCourses([]);\n        }\n      }\n    } catch (error) {\n      console.error(\"Error loading new courses:\", error);\n      console.error(\"Full error:\", JSON.stringify(error, null, 2));\n      setNewCourses([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadCategories = async () => {\n    try {\n      // First, get all published courses to collect course images for category previews\n      const coursesSnapshot = await getDocs(collection(db, \"courses\"));\n      const courseCategoryMap = new Map<string, string[]>(); // category id/name -> course images\n      \n      coursesSnapshot.forEach((courseDoc) => {\n        const courseData = courseDoc.data();\n        if (courseData.status === \"published\" && courseData.thumbnailImage) {\n          // Get category ID if available\n          const courseCategoryId = courseData.categoryId || (courseData as any).category_id || \"\";\n          const courseCategoryName = (courseData.category || \"\").trim().toLowerCase();\n          \n          if (courseCategoryId) {\n            const images = courseCategoryMap.get(courseCategoryId) || [];\n            if (images.length < 4) {\n              images.push(courseData.thumbnailImage);\n              courseCategoryMap.set(courseCategoryId, images);\n            }\n          }\n          \n          // Also match by name for categories that might use name instead of ID\n          if (courseCategoryName) {\n            const images = courseCategoryMap.get(courseCategoryName) || [];\n            if (images.length < 4) {\n              images.push(courseData.thumbnailImage);\n              courseCategoryMap.set(courseCategoryName, images);\n            }\n          }\n        }\n      });\n      \n      // Get ALL active categories from Firestore (matching admin panel)\n      const snapshot = await getDocs(collection(db, \"categories\"));\n      const categoriesData: Category[] = [];\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        // Include ALL active categories (same as admin shows)\n        const isActive = !data.status || data.status === \"active\";\n        \n        if (isActive) {\n          const categoryName = (data.name || \"\").toLowerCase();\n          // Get course images for preview (if any courses use this category)\n          const courseImages = courseCategoryMap.get(doc.id) || \n                              courseCategoryMap.get(categoryName) || \n                              [];\n          \n          categoriesData.push({ \n            categoryId: doc.id, \n            name: data.name || \"\",\n            slug: data.slug || \"\",\n            image: data.image || \"\",\n            description: data.description || \"\",\n            status: data.status || \"active\",\n            courseImages: courseImages\n          } as Category);\n        }\n      });\n      \n      // Sort by orderIndex if available, otherwise by name (matching admin sorting)\n      categoriesData.sort((a, b) => {\n        const orderA = (a as any).orderIndex || 0;\n        const orderB = (b as any).orderIndex || 0;\n        if (orderA !== orderB) return orderA - orderB;\n        return a.name.localeCompare(b.name);\n      });\n      \n      setCategories(categoriesData);\n    } catch (error) {\n      console.error(\"Error loading categories:\", error);\n    }\n  };\n\n  const loadAllCourses = async () => {\n    try {\n      // Fetch all courses from Firestore\n      const snapshot = await getDocs(collection(db, \"courses\"));\n      const coursesData: Course[] = [];\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        // Only include published courses\n        if (data.status === \"published\") {\n          coursesData.push({ \n            id: doc.id, \n            ...data \n          } as Course);\n        }\n      });\n\n      let filtered = coursesData;\n\n      // If there's a search query, filter courses by search term\n      if (searchQuery && searchQuery.trim()) {\n        const queryLower = searchQuery.toLowerCase().trim();\n        filtered = filtered.filter((course) => {\n          const title = (course.title || \"\").toLowerCase();\n          const description = (course.shortDescription || \"\").toLowerCase();\n          const category = (course.category || \"\").toLowerCase();\n          const level = (course.level || \"\").toLowerCase();\n          \n          return (\n            title.includes(queryLower) ||\n            description.includes(queryLower) ||\n            category.includes(queryLower) ||\n            level.includes(queryLower)\n          );\n        });\n      }\n      \n      // Remove duplicates\n      const uniqueFiltered = filtered.filter((course, index, self) =>\n        index === self.findIndex((c) => c.id === course.id)\n      );\n      \n      // Sort by createdAt (newest first)\n      uniqueFiltered.sort((a, b) => {\n        const dateA = a.createdAt?.toMillis?.() || (a as any).created_at?.toMillis?.() || 0;\n        const dateB = b.createdAt?.toMillis?.() || (b as any).created_at?.toMillis?.() || 0;\n        return dateB - dateA;\n      });\n      \n      setAllCourses(uniqueFiltered);\n    } catch (error) {\n      console.error(\"Error loading all courses:\", error);\n      setAllCourses([]);\n    }\n  };\n\n  const loadCategoryCourses = async () => {\n    try {\n      // Fetch all courses from Firestore\n      const snapshot = await getDocs(collection(db, \"courses\"));\n      const coursesData: Course[] = [];\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        // Only include published courses\n        if (data.status === \"published\") {\n          coursesData.push({ \n            id: doc.id, \n            ...data \n          } as Course);\n        }\n      });\n\n      let filtered = coursesData;\n\n      // Filter by category if selected\n      if (selectedCategory) {\n        filtered = filtered.filter((course) => {\n          const courseCategoryId = (course as any).categoryId || (course as any).category_id || \"\";\n          const courseCategoryName = (course.category || \"\").toLowerCase();\n          const selectedCategoryLower = selectedCategory.toLowerCase();\n          \n          return (\n            courseCategoryId === selectedCategory ||\n            courseCategoryName === selectedCategoryLower ||\n            courseCategoryName.includes(selectedCategoryLower)\n          );\n        });\n      }\n\n      // If there's a search query, filter courses by search term\n      if (searchQuery && searchQuery.trim()) {\n        const queryLower = searchQuery.toLowerCase().trim();\n        filtered = filtered.filter((course) => {\n          const title = (course.title || \"\").toLowerCase();\n          const description = (course.shortDescription || \"\").toLowerCase();\n          const category = (course.category || \"\").toLowerCase();\n          const level = (course.level || \"\").toLowerCase();\n          \n          return (\n            title.includes(queryLower) ||\n            description.includes(queryLower) ||\n            category.includes(queryLower) ||\n            level.includes(queryLower)\n          );\n        });\n      }\n      \n      // Remove duplicates\n      const uniqueFiltered = filtered.filter((course, index, self) =>\n        index === self.findIndex((c) => c.id === course.id)\n      );\n      \n      // Sort by createdAt (newest first)\n      uniqueFiltered.sort((a, b) => {\n        const dateA = a.createdAt?.toMillis?.() || (a as any).created_at?.toMillis?.() || 0;\n        const dateB = b.createdAt?.toMillis?.() || (b as any).created_at?.toMillis?.() || 0;\n        return dateB - dateA;\n      });\n      \n      setCategoryCourses(uniqueFiltered);\n    } catch (error) {\n      console.error(\"Error loading category courses:\", error);\n      setCategoryCourses([]);\n    }\n  };\n\n  const loadRecommendedCourses = async () => {\n    try {\n      // Fetch all courses from Firestore\n      const snapshot = await getDocs(collection(db, \"courses\"));\n      const coursesData: Course[] = [];\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        // Only include published courses\n        if (data.status === \"published\") {\n          coursesData.push({ \n            id: doc.id, \n            ...data \n          } as Course);\n        }\n      });\n\n      let filtered = coursesData;\n\n      // ONLY filter by search query - NOT by category\n      // Category selection should not affect \"Explore Courses\"\n      if (searchQuery && searchQuery.trim()) {\n        const queryLower = searchQuery.toLowerCase().trim();\n        filtered = filtered.filter((course) => {\n          const title = (course.title || \"\").toLowerCase();\n          const description = (course.shortDescription || \"\").toLowerCase();\n          const category = (course.category || \"\").toLowerCase();\n          const level = (course.level || \"\").toLowerCase();\n          \n          return (\n            title.includes(queryLower) ||\n            description.includes(queryLower) ||\n            category.includes(queryLower) ||\n            level.includes(queryLower)\n          );\n        });\n      }\n      \n      // Remove duplicates\n      const uniqueFiltered = filtered.filter((course, index, self) =>\n        index === self.findIndex((c) => c.id === course.id)\n      );\n      \n      if (searchQuery && searchQuery.trim()) {\n        // If there's a search, show search results (limit to 4 for recommended section)\n        setRecommendedCourses(uniqueFiltered.slice(0, 4));\n      } else {\n        // No search - show general recommended courses (featured or newest)\n        const featured = filtered.filter(c => (c as any).featured);\n        const recommended = featured.length >= 4 \n          ? featured.slice(0, 4)\n          : filtered.slice(0, 4);\n        \n        setRecommendedCourses(recommended);\n      }\n    } catch (error) {\n      console.error(\"Error loading recommended courses:\", error);\n      setRecommendedCourses([]);\n    }\n  };\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat(\"en-IN\", {\n      style: \"currency\",\n      currency: \"INR\",\n      maximumFractionDigits: 0,\n    }).format(price);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header />\n      <main>\n        {/* 1. Hero banner (slider, image/video, stats) */}\n        <section className=\"relative bg-gray-900 text-white py-16\">\n          <div className=\"container mx-auto px-4 grid md:grid-cols-2 gap-10 items-center\">\n            <div>\n              <p className=\"text-sm uppercase tracking-wide text-blue-300 mb-2\">\n                Learn 路 Practice 路 Earn\n              </p>\n              <h1 className=\"text-4xl md:text-5xl font-bold mb-4\">\n                Explore Premium Classes & Learning Paths\n              </h1>\n              <p className=\"text-gray-200 mb-6 text-sm md:text-base\">\n                Live classes, self-paced courses, and hands-on workshops designed\n                to move you from beginner to job-ready.\n              </p>\n              <div className=\"flex flex-wrap gap-4\">\n                <Link\n                  href={searchQuery ? `/courses?search=${encodeURIComponent(searchQuery)}` : \"/courses\"}\n                  className=\"px-6 py-3 bg-blue-500 text-white rounded-lg text-sm font-semibold hover:bg-blue-600\"\n                >\n                  Explore Courses\n                </Link>\n                <button className=\"px-6 py-3 bg-white text-gray-900 rounded-lg text-sm font-semibold hover:bg-gray-100\">\n                  View Learning Paths\n                </button>\n              </div>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div className=\"bg-gray-800 rounded-xl p-4\">\n                <div className=\"text-2xl font-bold\">150+</div>\n                <div className=\"text-gray-300 mt-1\">Courses & workshops</div>\n              </div>\n              <div className=\"bg-gray-800 rounded-xl p-4\">\n                <div className=\"text-2xl font-bold\">10k+</div>\n                <div className=\"text-gray-300 mt-1\">Active learners</div>\n              </div>\n              <div className=\"bg-gray-800 rounded-xl p-4\">\n                <div className=\"text-2xl font-bold\">95%</div>\n                <div className=\"text-gray-300 mt-1\">\n                  Satisfaction score\n                </div>\n              </div>\n              <div className=\"bg-gray-800 rounded-xl p-4\">\n                <div className=\"text-2xl font-bold\">24/7</div>\n                <div className=\"text-gray-300 mt-1\">Anytime access</div>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* 2. New launches */}\n        <section className=\"py-12 bg-white\">\n          <div className=\"container mx-auto px-4\">\n            <h2 className=\"text-3xl font-bold mb-2\">New Launches</h2>\n            <p className=\"text-sm text-gray-500 mb-6\">\n              Fresh courses and programs recently added by instructors.\n            </p>\n            {loading ? (\n              <div className=\"text-center py-12 text-gray-500\">Loading new courses...</div>\n            ) : newCourses.length === 0 ? (\n              <div className=\"text-center py-12 text-gray-500\">\n                No new courses available at the moment.\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                {newCourses.map((course) => (\n                  <Link\n                    key={course.id}\n                    href={`/courses/${course.id}`}\n                    className=\"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition\"\n                  >\n                    <div className=\"h-40 bg-gray-200 relative\">\n                      {course.thumbnailImage ? (\n                        <S3Image\n                          src={course.thumbnailImage}\n                          alt={course.title}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\n                          No Image\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"p-4\">\n                      <p className=\"text-xs font-semibold text-green-600 uppercase\">\n                        New\n                      </p>\n                      <h3 className=\"font-semibold text-lg mt-1 line-clamp-2\">\n                        {course.title}\n                      </h3>\n                      <p className=\"text-xs text-gray-500 mt-1 line-clamp-2\">\n                        {course.shortDescription || \"No description available.\"}\n                      </p>\n                      <div className=\"mt-3 flex items-center justify-between\">\n                        <div className=\"flex items-center gap-2\">\n                          {course.discountedPrice ? (\n                            <>\n                              <span className=\"text-lg font-bold text-gray-900\">\n                                {formatPrice(course.discountedPrice)}\n                              </span>\n                              <span className=\"text-sm text-gray-500 line-through\">\n                                {formatPrice(course.price)}\n                              </span>\n                            </>\n                          ) : (\n                            <span className=\"text-lg font-bold text-gray-900\">\n                              {formatPrice(course.price)}\n                            </span>\n                          )}\n                        </div>\n                        <span className=\"text-xs text-gray-500 capitalize\">\n                          {course.level}\n                        </span>\n                      </div>\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            )}\n          </div>\n        </section>\n\n        {/* 3. Upcoming live classes / offline workshop */}\n        <UpcomingSessions />\n\n        {/* 4. Explore Courses - Only changes with search, NOT with category selection */}\n        <section className=\"py-12 bg-white\">\n          <div className=\"container mx-auto px-4\">\n            <h2 className=\"text-3xl font-bold mb-2\">\n              {searchQuery \n                ? `Recommended Courses for \"${searchQuery}\"` \n                : \"Explore Courses\"}\n            </h2>\n            <p className=\"text-sm text-gray-500 mb-6\">\n              {searchQuery \n                ? \"Courses related to your search\"\n                : \"Browse top-rated courses across skills and industries.\"}\n            </p>\n            {recommendedCourses.length === 0 ? (\n              <div className=\"text-center py-12 text-gray-500\">\n                {searchQuery \n                  ? `No courses found matching \"${searchQuery}\"`\n                  : \"No courses available at the moment.\"}\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                {recommendedCourses.map((course) => (\n                  <Link\n                    key={course.id}\n                    href={`/courses/${course.id}`}\n                    className=\"bg-gray-50 rounded-xl border border-gray-200 p-4 hover:shadow-md transition\"\n                  >\n                    <div className=\"h-32 bg-gray-200 rounded-md mb-3 relative overflow-hidden\">\n                      {course.thumbnailImage ? (\n                        <S3Image\n                          src={course.thumbnailImage}\n                          alt={course.title}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center text-gray-400 text-xs\">\n                          No Image\n                        </div>\n                      )}\n                    </div>\n                    <h3 className=\"font-semibold text-sm line-clamp-2\">\n                      {course.title}\n                    </h3>\n                    <p className=\"text-xs text-gray-500 mt-1\">\n                      {course.category || \"Course\"} 路 {course.level || \"All Levels\"}\n                    </p>\n                    {course.price && (\n                      <p className=\"text-xs font-semibold text-blue-600 mt-2\">\n                        {course.discountedPrice ? (\n                          <>\n                            <span className=\"line-through text-gray-400 mr-2\">\n                              {formatPrice(course.price)}\n                            </span>\n                            {formatPrice(course.discountedPrice)}\n                          </>\n                        ) : (\n                          formatPrice(course.price)\n                        )}\n                      </p>\n                    )}\n                  </Link>\n                ))}\n              </div>\n            )}\n          </div>\n        </section>\n\n        {/* 5. Category Courses - Shows courses when a category is selected */}\n        {selectedCategory && (\n          <section className=\"py-12 bg-gray-50\">\n            <div className=\"container mx-auto px-4\">\n              <h2 className=\"text-3xl font-bold mb-2\">\n                {categories.find(c => c.categoryId === selectedCategory)?.name || \"Category Courses\"}\n              </h2>\n              <p className=\"text-sm text-gray-500 mb-6\">\n                All courses in this category\n              </p>\n              {categoryCourses.length === 0 ? (\n                <div className=\"text-center py-12 text-gray-500\">\n                  No courses found in this category.\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                  {categoryCourses.map((course) => (\n                    <Link\n                      key={course.id}\n                      href={`/courses/${course.id}`}\n                      className=\"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition\"\n                    >\n                      <div className=\"h-32 bg-gray-200 rounded-md mb-3 relative overflow-hidden\">\n                        {course.thumbnailImage ? (\n                          <S3Image\n                            src={course.thumbnailImage}\n                            alt={course.title}\n                            className=\"w-full h-full object-cover\"\n                          />\n                        ) : (\n                          <div className=\"w-full h-full flex items-center justify-center text-gray-400 text-xs\">\n                            No Image\n                          </div>\n                        )}\n                      </div>\n                      <h3 className=\"font-semibold text-sm line-clamp-2\">\n                        {course.title}\n                      </h3>\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        {course.category || \"Course\"} 路 {course.level || \"All Levels\"}\n                      </p>\n                      {course.price && (\n                        <p className=\"text-xs font-semibold text-blue-600 mt-2\">\n                          {course.discountedPrice ? (\n                            <>\n                              <span className=\"line-through text-gray-400 mr-2\">\n                                {formatPrice(course.price)}\n                              </span>\n                              {formatPrice(course.discountedPrice)}\n                            </>\n                          ) : (\n                            formatPrice(course.price)\n                          )}\n                        </p>\n                      )}\n                    </Link>\n                  ))}\n                </div>\n              )}\n            </div>\n          </section>\n        )}\n\n        {/* 6. Course Categories */}\n        <section className=\"py-12 bg-gray-50\">\n          <div className=\"container mx-auto px-4\">\n            <h2 className=\"text-3xl font-bold mb-2\">Course Categories</h2>\n            <p className=\"text-sm text-gray-500 mb-6\">\n              Organised by skills, industries, and difficulty level.\n            </p>\n            {categories.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500\">\n                No categories available\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n                <Link\n                  href=\"/classes\"\n                  className={`bg-white rounded-xl border overflow-hidden hover:shadow-lg transition-all ${\n                    !selectedCategory\n                      ? \"border-blue-500 bg-blue-50\"\n                      : \"border-gray-200 hover:border-gray-300\"\n                  }`}\n                >\n                  <div className={`h-32 flex items-center justify-center ${\n                    !selectedCategory ? \"bg-blue-100\" : \"bg-gray-100\"\n                  }`}>\n                    <span className={`text-2xl font-bold ${\n                      !selectedCategory ? \"text-blue-600\" : \"text-gray-400\"\n                    }`}>\n                      All\n                    </span>\n                  </div>\n                  <div className=\"p-3 text-center\">\n                    <p className={`text-sm font-semibold ${\n                      !selectedCategory ? \"text-blue-600\" : \"text-gray-700\"\n                    }`}>\n                      All Categories\n                    </p>\n                  </div>\n                </Link>\n                {categories.map((category) => (\n                  <Link\n                    key={category.categoryId}\n                    href={`/classes?category=${encodeURIComponent(category.categoryId)}`}\n                    className={`bg-white rounded-xl border overflow-hidden hover:shadow-lg transition-all ${\n                      selectedCategory === category.categoryId\n                        ? \"border-blue-500 bg-blue-50\"\n                        : \"border-gray-200 hover:border-gray-300\"\n                    }`}\n                  >\n                    <div className=\"h-32 bg-gray-100 relative overflow-hidden\">\n                      {category.image ? (\n                        <S3Image\n                          src={category.image}\n                          alt={category.name}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      ) : category.courseImages && category.courseImages.length > 0 ? (\n                        // Show course preview images if category image is not available\n                        <div className=\"w-full h-full grid grid-cols-2 gap-1\">\n                          {category.courseImages.slice(0, 4).map((img, idx) => (\n                            <S3Image\n                              key={idx}\n                              src={img}\n                              alt={`${category.name} course ${idx + 1}`}\n                              className=\"w-full h-full object-cover\"\n                            />\n                          ))}\n                        </div>\n                      ) : (\n                        // Show category-related image from internet\n                        <img\n                          src={getCategoryImage(category.name)}\n                          alt={category.name}\n                          className=\"w-full h-full object-cover\"\n                          onError={(e) => {\n                            // Fallback to gradient if image fails to load\n                            const target = e.target as HTMLImageElement;\n                            target.style.display = 'none';\n                            const parent = target.parentElement;\n                            if (parent) {\n                              parent.innerHTML = `\n                                <div class=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100\">\n                                  <span class=\"text-3xl font-bold text-gray-400\">\n                                    ${category.name.charAt(0).toUpperCase()}\n                                  </span>\n                                </div>\n                              `;\n                            }\n                          }}\n                        />\n                      )}\n                      {selectedCategory === category.categoryId && (\n                        <div className=\"absolute top-2 right-2\">\n                          <div className=\"bg-blue-500 text-white rounded-full p-1\">\n                            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                              <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                            </svg>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"p-3 text-center\">\n                      <p className={`text-sm font-semibold line-clamp-2 ${\n                        selectedCategory === category.categoryId\n                          ? \"text-blue-600\"\n                          : \"text-gray-700\"\n                      }`}>\n                        {category.name}\n                      </p>\n                      {category.courseImages && category.courseImages.length > 0 && (\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          {category.courseImages.length}+ courses\n                        </p>\n                      )}\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            )}\n          </div>\n        </section>\n\n        {/* 6. Video Testimonials (for classes page) */}\n        <VideoTestimonials />\n      </main>\n\n      {/* 9. Common footer */}\n      <Footer />\n    </div>\n  );\n}\n\nexport default function ClassesPage() {\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <ClassesPageContent />\n    </Suspense>\n  );\n}\n\n\n\n\n\n","\"use client\";\n\nimport { useEffect, useState, useRef } from \"react\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport { S3Image } from \"@/components/common/S3Image\";\n\ntype VideoTestimonial = {\n  id: string;\n  name: string;\n  role: string;\n  text: string;\n  videoUrl?: string;\n  thumbnailImage?: string;\n  enabled: boolean;\n  displayOrder: number;\n};\n\n// Default video URLs for testimonials (people giving reviews)\nconst DEFAULT_TESTIMONIAL_VIDEOS = [\n  \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\", // Review video 1\n  \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4\", // Review video 2\n  \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4\", // Review video 3\n];\n\nconst DEFAULT_VIDEO_TESTIMONIALS: VideoTestimonial[] = [\n  {\n    id: \"1\",\n    name: \"Harper Jackson\",\n    role: \"Founder, Creative Studio\",\n    text: \"The unified LMS and store experience made it incredibly easy to sell courses and physical kits together.\",\n    videoUrl: DEFAULT_TESTIMONIAL_VIDEOS[0],\n    enabled: true,\n    displayOrder: 1,\n  },\n  {\n    id: \"2\",\n    name: \"Mason Jack\",\n    role: \"Digital Marketer\",\n    text: \"Live classes, recorded courses, and workshop registrations all work from a single dashboard. Huge time saver.\",\n    videoUrl: DEFAULT_TESTIMONIAL_VIDEOS[1],\n    enabled: true,\n    displayOrder: 2,\n  },\n  {\n    id: \"3\",\n    name: \"Avery Wyatt\",\n    role: \"Student\",\n    text: \"I can learn, buy workshop kits, and track my certificates in one place. The experience feels premium.\",\n    videoUrl: DEFAULT_TESTIMONIAL_VIDEOS[2],\n    enabled: true,\n    displayOrder: 3,\n  },\n];\n\n// Video testimonials for classes page - videos loop automatically\nexport function VideoTestimonials() {\n  const [testimonials, setTestimonials] = useState<VideoTestimonial[]>(DEFAULT_VIDEO_TESTIMONIALS);\n  const [loading, setLoading] = useState(true);\n  const videoRefs = useRef<(HTMLVideoElement | null)[]>([]);\n\n  useEffect(() => {\n    const loadTestimonials = async () => {\n      try {\n        setLoading(true);\n        const snapshot = await getDocs(collection(db, \"classes_testimonials\"));\n        const data: VideoTestimonial[] = [];\n        snapshot.forEach((d) => {\n          const docData = d.data() as any;\n          data.push({\n            id: d.id || \"\",\n            name: docData.name || \"\",\n            role: docData.role || \"\",\n            text: docData.text || \"\",\n            videoUrl: docData.videoUrl || \"\",\n            thumbnailImage: docData.thumbnailImage || \"\",\n            enabled: docData.enabled !== false,\n            displayOrder: docData.displayOrder ?? 1,\n          });\n        });\n        const enabled = data\n          .filter((t) => t.enabled)\n          .sort((a, b) => (a.displayOrder || 0) - (b.displayOrder || 0))\n          .map((t, idx) => ({\n            ...t,\n            // Ensure videoUrl is set - use default if not provided\n            videoUrl: t.videoUrl || DEFAULT_TESTIMONIAL_VIDEOS[idx] || DEFAULT_TESTIMONIAL_VIDEOS[0],\n          }));\n        if (enabled.length > 0) {\n          setTestimonials(enabled.slice(0, 3)); // Only show first 3\n        } else {\n          // Use defaults with videos if no data from Firestore\n          setTestimonials(DEFAULT_VIDEO_TESTIMONIALS);\n        }\n      } catch (error) {\n        console.error(\"Error loading video testimonials:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadTestimonials();\n  }, []);\n\n  // Auto-loop videos when they end\n  useEffect(() => {\n    videoRefs.current.forEach((video) => {\n      if (video) {\n        const handleEnded = () => {\n          video.currentTime = 0;\n          video.play().catch(() => {\n            // Autoplay might be blocked, that's okay\n          });\n        };\n        video.addEventListener(\"ended\", handleEnded);\n        return () => {\n          video.removeEventListener(\"ended\", handleEnded);\n        };\n      }\n    });\n  }, [testimonials]);\n\n  if (loading) {\n    return (\n      <section className=\"py-16 bg-gray-50\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-3xl font-bold text-center mb-10\">What People Say</h2>\n          <div className=\"text-center py-12 text-gray-500\">Loading testimonials...</div>\n        </div>\n      </section>\n    );\n  }\n\n  return (\n    <section className=\"py-16 bg-gray-50\">\n      <div className=\"container mx-auto px-4\">\n        <h2 className=\"text-3xl font-bold text-center mb-10\">What People Say</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          {testimonials.map((t, index) => (\n            <div\n              key={t.id}\n              className=\"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100\"\n            >\n              {t.videoUrl ? (\n                // Video testimonial with auto-loop\n                <div className=\"relative\">\n                  <video\n                    ref={(el) => {\n                      videoRefs.current[index] = el;\n                    }}\n                    src={t.videoUrl || DEFAULT_TESTIMONIAL_VIDEOS[index] || DEFAULT_TESTIMONIAL_VIDEOS[0]}\n                    poster={t.thumbnailImage}\n                    controls\n                    loop\n                    muted\n                    playsInline\n                    autoPlay\n                    className=\"w-full h-64 object-cover\"\n                    preload=\"auto\"\n                  >\n                    Your browser does not support the video tag.\n                  </video>\n                  <div className=\"p-4\">\n                    <div className=\"font-semibold text-gray-900\">{t.name}</div>\n                    <div className=\"text-xs text-gray-500\">{t.role}</div>\n                    {t.text && (\n                      <p className=\"text-gray-700 mt-2 text-sm leading-relaxed line-clamp-2\">\n                        &ldquo;{t.text}&rdquo;\n                      </p>\n                    )}\n                  </div>\n                </div>\n              ) : (\n                // Fallback to video if no videoUrl set (shouldn't happen now, but just in case)\n                <div className=\"relative\">\n                  <video\n                    ref={(el) => {\n                      videoRefs.current[index] = el;\n                    }}\n                    src={DEFAULT_TESTIMONIAL_VIDEOS[index] || DEFAULT_TESTIMONIAL_VIDEOS[0]}\n                    controls\n                    loop\n                    muted\n                    playsInline\n                    autoPlay\n                    className=\"w-full h-64 object-cover\"\n                    preload=\"auto\"\n                  >\n                    Your browser does not support the video tag.\n                  </video>\n                  <div className=\"p-4\">\n                    <div className=\"font-semibold text-gray-900\">{t.name}</div>\n                    <div className=\"text-xs text-gray-500\">{t.role}</div>\n                    {t.text && (\n                      <p className=\"text-gray-700 mt-2 text-sm leading-relaxed line-clamp-2\">\n                        &ldquo;{t.text}&rdquo;\n                      </p>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n","\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { collection, getDocs } from \"firebase/firestore\";\r\nimport { db } from \"@/lib/firebaseClient\";\r\n\r\ntype Session = {\r\n  id: string;\r\n  title: string;\r\n  type: \"live_class\" | \"workshop\";\r\n  price: number;\r\n  discountPrice?: number;\r\n  status: string;\r\n  date?: any;\r\n  startTime?: string;\r\n  endTime?: string;\r\n  location?: string;\r\n  meetingUrl?: string;\r\n  city?: string;\r\n};\r\n\r\nexport function UpcomingSessions() {\r\n  const [sessions, setSessions] = useState<Session[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadSessions();\r\n  }, []);\r\n\r\n  const loadSessions = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // Fetch all store_items and filter for live_class and workshop\r\n      const snapshot = await getDocs(collection(db, \"store_items\"));\r\n      const sessionsData: Session[] = [];\r\n\r\n      const now = Date.now();\r\n\r\n      snapshot.forEach((doc) => {\r\n        const data = doc.data();\r\n        const itemType = data.type || data.itemType;\r\n        \r\n        // Only include active live classes and workshops\r\n        if ((itemType === \"live_class\" || itemType === \"workshop\") && data.status === \"active\") {\r\n          // Parse the date to check if it's in the future\r\n          let dateValue = 0;\r\n          const dateField = data.date || data.scheduled_date;\r\n          \r\n          if (dateField) {\r\n            if (dateField.toMillis) {\r\n              dateValue = dateField.toMillis();\r\n            } else if (dateField.seconds) {\r\n              dateValue = dateField.seconds * 1000;\r\n            } else if (typeof dateField === \"string\") {\r\n              dateValue = new Date(dateField).getTime();\r\n            }\r\n          }\r\n\r\n          // Only include sessions with future dates (or no date, which we'll show as \"Date TBD\")\r\n          // If date is 0 (no date), we'll still include it but sort it to the end\r\n          if (dateValue === 0 || dateValue >= now) {\r\n            sessionsData.push({\r\n              id: doc.id,\r\n              title: data.title || data.name || \"Untitled\",\r\n              type: itemType as \"live_class\" | \"workshop\",\r\n              price: data.price || data.basePrice || 0,\r\n              discountPrice: data.discountPrice || data.discount_price || data.compareAtPrice,\r\n              status: data.status || \"active\",\r\n              date: dateField,\r\n              startTime: data.startTime || data.start_time,\r\n              endTime: data.endTime || data.end_time,\r\n              location: data.location,\r\n              meetingUrl: data.meetingUrl || data.meeting_url || data.zoom_meeting_id,\r\n              city: data.city,\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n      // Sort by date (upcoming first) - handle both Timestamp and string dates\r\n      sessionsData.sort((a, b) => {\r\n        let dateA = 0;\r\n        let dateB = 0;\r\n\r\n        if (a.date) {\r\n          if (a.date.toMillis) {\r\n            dateA = a.date.toMillis();\r\n          } else if (a.date.seconds) {\r\n            dateA = a.date.seconds * 1000;\r\n          } else if (typeof a.date === \"string\") {\r\n            dateA = new Date(a.date).getTime();\r\n          }\r\n        }\r\n\r\n        if (b.date) {\r\n          if (b.date.toMillis) {\r\n            dateB = b.date.toMillis();\r\n          } else if (b.date.seconds) {\r\n            dateB = b.date.seconds * 1000;\r\n          } else if (typeof b.date === \"string\") {\r\n            dateB = new Date(b.date).getTime();\r\n          }\r\n        }\r\n\r\n        // If no date, put at end (but still show them)\r\n        if (!dateA) dateA = Infinity;\r\n        if (!dateB) dateB = Infinity;\r\n\r\n        return dateA - dateB; // Ascending (earliest upcoming first)\r\n      });\r\n\r\n      // Limit to 6 upcoming sessions (the 6 most upcoming)\r\n      setSessions(sessionsData.slice(0, 6));\r\n    } catch (error) {\r\n      console.error(\"Error loading sessions:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (date: any) => {\r\n    if (!date) return \"Date TBD\";\r\n    try {\r\n      let dateObj: Date;\r\n      if (date.toDate) {\r\n        dateObj = date.toDate();\r\n      } else if (date.seconds) {\r\n        dateObj = new Date(date.seconds * 1000);\r\n      } else if (typeof date === \"string\") {\r\n        dateObj = new Date(date);\r\n      } else {\r\n        return \"Date TBD\";\r\n      }\r\n      return dateObj.toLocaleDateString(\"en-US\", {\r\n        month: \"short\",\r\n        day: \"numeric\",\r\n        year: \"numeric\",\r\n      });\r\n    } catch {\r\n      return \"Date TBD\";\r\n    }\r\n  };\r\n\r\n  const formatTime = (time?: string) => {\r\n    if (!time) return \"\";\r\n    // Handle formats like \"7:00 PM\" or \"19:00\"\r\n    return time;\r\n  };\r\n\r\n  const getLocationText = (session: Session) => {\r\n    if (session.type === \"workshop\") {\r\n      if (session.location && session.city) {\r\n        return `${session.location}, ${session.city}`;\r\n      } else if (session.location) {\r\n        return session.location;\r\n      } else if (session.city) {\r\n        return session.city;\r\n      }\r\n      return \"Location TBD\";\r\n    } else {\r\n      // Live class\r\n      if (session.meetingUrl) {\r\n        return \"Zoom\";\r\n      }\r\n      return \"Online\";\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <section className=\"py-12 bg-blue-50\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <h2 className=\"text-3xl font-bold mb-2\">\r\n            Upcoming Live Classes & Workshops\r\n          </h2>\r\n          <p className=\"text-sm text-gray-600 mb-6\">\r\n            Join high-impact live sessions and on-ground workshops.\r\n          </p>\r\n          <div className=\"text-center py-12 text-gray-500\">Loading sessions...</div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (sessions.length === 0) {\r\n    return (\r\n      <section className=\"py-12 bg-blue-50\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <h2 className=\"text-3xl font-bold mb-2\">\r\n            Upcoming Live Classes & Workshops\r\n          </h2>\r\n          <p className=\"text-sm text-gray-600 mb-6\">\r\n            Join high-impact live sessions and on-ground workshops.\r\n          </p>\r\n          <div className=\"text-center py-12 text-gray-500\">\r\n            No upcoming sessions at the moment.\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className=\"py-12 bg-blue-50\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <h2 className=\"text-3xl font-bold mb-2\">\r\n          Upcoming Live Classes & Workshops\r\n        </h2>\r\n        <p className=\"text-sm text-gray-600 mb-6\">\r\n          Join high-impact live sessions and on-ground workshops.\r\n        </p>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          {sessions.map((session) => {\r\n            const dateStr = formatDate(session.date);\r\n            const timeStr = formatTime(session.startTime);\r\n            const locationStr = getLocationText(session);\r\n            const displayDate = timeStr ? `${dateStr} 路 ${timeStr}` : dateStr;\r\n\r\n            return (\r\n              <div\r\n                key={session.id}\r\n                className=\"bg-white rounded-xl border border-blue-100 p-5 shadow-sm\"\r\n              >\r\n                <p className=\"text-xs font-semibold text-blue-600 uppercase\">\r\n                  {session.type === \"workshop\" ? \"Workshop\" : \"Live Class\"}\r\n                </p>\r\n                <h3 className=\"font-semibold text-lg mt-1 line-clamp-2\">\r\n                  {session.title}\r\n                </h3>\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  {displayDate} {locationStr !== \"Online\" && locationStr !== \"Zoom\" ? `路 ${locationStr}` : locationStr ? `路 ${locationStr}` : \"\"}\r\n                </p>\r\n                <Link\r\n                  href={`/item/${session.id}`}\r\n                  className=\"mt-4 inline-block px-4 py-2 text-xs font-semibold rounded-lg bg-blue-600 text-white hover:bg-blue-700\"\r\n                >\r\n                  View details\r\n                </Link>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OCWA,IAAM,EAA6B,CACjC,qFACA,uFACA,wFACD,CAEK,EAAiD,CACrD,CACE,GAAI,IACJ,KAAM,iBACN,KAAM,2BACN,KAAM,2GACN,SAAU,CAA0B,CAAC,EAAE,CACvC,SAAS,EACT,aAAc,CAChB,EACA,CACE,GAAI,IACJ,KAAM,aACN,KAAM,mBACN,KAAM,gHACN,SAAU,CAA0B,CAAC,EAAE,CACvC,SAAS,EACT,aAAc,CAChB,EACA,CACE,GAAI,IACJ,KAAM,cACN,KAAM,UACN,KAAM,wGACN,SAAU,CAA0B,CAAC,EAAE,CACvC,SAAS,EACT,aAAc,CAChB,EACD,CAGM,SAAS,IACd,GAAM,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqB,GAC/D,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,EAAY,CAAA,EAAA,EAAA,MAAA,AAAM,EAA8B,EAAE,QA+DxD,CA7DA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAwCR,CAvCyB,UACvB,GAAI,CACF,GAAW,GACX,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,OAAO,AAAP,EAAQ,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,yBACxC,EAA2B,EAAE,CACnC,EAAS,OAAO,CAAC,AAAC,IAChB,IAAM,EAAU,EAAE,IAAI,GACtB,EAAK,IAAI,CAAC,CACR,GAAI,EAAE,EAAE,EAAI,GACZ,KAAM,EAAQ,IAAI,EAAI,GACtB,KAAM,EAAQ,IAAI,EAAI,GACtB,KAAM,EAAQ,IAAI,EAAI,GACtB,SAAU,EAAQ,QAAQ,EAAI,GAC9B,eAAgB,EAAQ,cAAc,EAAI,GAC1C,SAA6B,IAApB,EAAQ,OAAO,CACxB,aAAc,EAAQ,YAAY,EAAI,CACxC,EACF,GACA,IAAM,EAAU,EACb,MAAM,CAAC,AAAC,GAAM,EAAE,OAAO,EACvB,IAAI,CAAC,CAAC,EAAG,IAAM,CAAC,EAAE,YAAY,GAAI,CAAC,EAAK,EAAD,AAAG,YAAY,GAAI,CAAC,EAC3D,GAAG,CAAC,CAAC,EAAG,KAAS,CAAD,AACf,GAAG,CAAC,CAEJ,SAAU,EAAE,QAAQ,EAAI,CAA0B,CAAC,EAAI,EAAI,CAA0B,CAAC,EAAE,CAC1F,CAAC,EACC,EAAQ,MAAM,CAAG,EACnB,CADsB,CACN,EAAQ,KAAK,CAAC,EAAG,IAGjC,CAHsC,CAGtB,EAEpB,CAAE,MAAO,EAAO,CACd,OAN4D,CAMpD,KAAK,CAAC,oCAAqC,EACrD,QAAU,CACR,GAAW,EACb,EACF,GAGF,EAAG,EAAE,EAGL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,EAAU,OAAO,CAAC,OAAO,CAAC,AAAC,IACzB,GAAI,EAAO,CACT,IAAM,EAAc,KAClB,EAAM,WAAW,CAAG,EACpB,EAAM,IAAI,GAAG,KAAK,CAAC,KAEnB,EACF,EAEA,OADA,EAAM,gBAAgB,CAAC,QAAS,GACzB,KACL,EAAM,mBAAmB,CAAC,QAAS,EACrC,CACF,CACF,EACF,EAAG,CAAC,EAAa,EAEb,GAEA,CAAA,EAAA,EAAA,CAFS,EAET,EAAC,UAAA,CAAQ,UAAU,4BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gDAAuC,oBACrD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CAAkC,iCAOvD,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,4BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gDAAuC,oBACrD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAa,GAAG,CAAC,CAAC,EAAG,IACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,UAAU,gFAET,EAAE,QAAQ,CAET,CAAA,CADA,CACA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,SADoB,YAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,AAAC,IACJ,EAAU,OAAO,CAAC,EAAM,CAAG,CAC7B,EACA,IAAK,EAAE,QAAQ,EAAI,CAA0B,CAAC,EAAM,EAAI,CAA0B,CAAC,EAAE,CACrF,OAAQ,EAAE,cAAc,CACxB,QAAQ,CAAA,CAAA,EACR,IAAI,CAAA,CAAA,EACJ,KAAK,CAAA,CAAA,EACL,WAAW,CAAA,CAAA,EACX,QAAQ,CAAA,CAAA,EACR,UAAU,2BACV,QAAQ,gBACT,iDAGD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCAA+B,EAAE,IAAI,GACpD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAyB,EAAE,IAAI,GAC7C,EAAE,IAAI,EACL,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,oEAA0D,IAC7D,EAAE,IAAI,CAAC,aAOvB,CAAA,CADA,CACA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,AAAC,IACJ,EAAU,IAJgE,GAIzD,CAAC,EAAM,CAAG,CAC7B,EACA,IAAK,CAA0B,CAAC,EAAM,EAAI,CAA0B,CAAC,EAAE,CACvE,QAAQ,CAAA,CAAA,EACR,IAAI,CAAA,CAAA,EACJ,KAAK,CAAA,CAAA,EACL,WAAW,CAAA,CAAA,EACX,QAAQ,CAAA,CAAA,EACR,UAAU,2BACV,QAAQ,gBACT,iDAGD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCAA+B,EAAE,IAAI,GACpD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAyB,EAAE,IAAI,GAC7C,EAAE,IAAI,EACL,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,oEAA0D,IAC7D,EAAE,IAAI,CAAC,cAvDpB,EAAE,EAAE,SAmEvB,CDrMA,IAAA,EAAA,EAAA,CAAA,CAAA,OEYO,SAAS,IACd,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAY,EAAE,EAChD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEvC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,EAAE,EAEL,IAAM,EAAe,UACnB,GAAI,CACF,GAAW,GAEX,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,gBACxC,EAA0B,EAAE,CAE5B,EAAM,KAAK,GAAG,GAEpB,EAAS,OAAO,CAAC,AAAC,IAChB,IAAM,EAAO,EAAI,IAAI,GACf,EAAW,EAAK,IAAI,EAAI,EAAK,QAAQ,CAG3C,GAAI,CAAc,AAAb,kBAA0C,aAAb,CAAa,CAAU,EAAqB,AAAhB,aAAK,MAAM,CAAe,CAEtF,IAAI,EAAY,EACV,EAAY,EAAK,IAAI,EAAI,EAAK,cAAc,CAE9C,IACE,EAAU,KADD,GACS,CACpB,CADsB,CACV,EAAU,QAAQ,GACrB,EAAU,OAAO,CAC1B,CAD4B,CACI,IAApB,EAAU,OAAO,CACC,UAArB,AAA+B,OAAxB,IAChB,EAAY,IAAI,KAAK,GAAW,OAAO,EAAA,IAMzB,IAAd,GAAmB,GAAa,CAAA,GAAK,AACvC,EAAa,IAAI,CAAC,CAChB,GAAI,EAAI,EAAE,CACV,MAAO,EAAK,KAAK,EAAI,EAAK,IAAI,EAAI,WAClC,KAAM,EACN,MAAO,EAAK,KAAK,EAAI,EAAK,SAAS,EAAI,EACvC,cAAe,EAAK,aAAa,EAAI,EAAK,cAAc,EAAI,EAAK,cAAc,CAC/E,OAAQ,EAAK,MAAM,EAAI,SACvB,KAAM,EACN,UAAW,EAAK,SAAS,EAAI,EAAK,UAAU,CAC5C,QAAS,EAAK,OAAO,EAAI,EAAK,QAAQ,CACtC,SAAU,EAAK,QAAQ,CACvB,WAAY,EAAK,UAAU,EAAI,EAAK,WAAW,EAAI,EAAK,eAAe,CACvE,KAAM,EAAK,IAAI,AACjB,EAEJ,CACF,GAGA,EAAa,IAAI,CAAC,CAAC,EAAG,KACpB,IAAI,EAAQ,EACR,EAAQ,EA0BZ,OAxBI,EAAE,IAAI,EAAE,CACN,EAAE,IAAI,CAAC,QAAQ,CACjB,CADmB,CACX,EAAE,IAAI,CAAC,QAAQ,GACd,EAAE,IAAI,CAAC,OAAO,CACvB,CADyB,CACA,IAAjB,EAAE,IAAI,CAAC,OAAO,CACb,AAAkB,UAAU,OAArB,EAAE,IAAI,GACtB,EAAQ,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,EAAA,GAIhC,EAAE,IAAI,EAAE,CACN,EAAE,IAAI,CAAC,QAAQ,CACjB,CADmB,CACX,EAAE,IAAI,CAAC,QAAQ,GACd,EAAE,IAAI,CAAC,OAAO,CACvB,CADyB,CACA,IAAjB,EAAE,IAAI,CAAC,OAAO,CACK,UAAlB,AAA4B,OAArB,EAAE,IAAI,GACtB,EAAQ,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,EAAA,GAKhC,AAAC,IAAO,EAAQ,GAAA,EAChB,AAAC,IAAO,EAAQ,GAAA,EAEb,EAAQ,CACjB,GAGA,EAAY,CAJY,CAIC,KAAK,CAAC,EAAG,GACpC,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,EANgD,wBAMrB,EAC3C,QAAU,CACR,GAAW,EACb,CACF,SAkDA,AAAI,EAEA,CAAA,EAAA,EAAA,EAFS,CAET,EAAC,UAAA,CAAQ,UAAU,4BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,sCAGxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,4DAG1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CAAkC,6BAMjC,GAAG,CAAvB,EAAS,MAAM,CAEf,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,4BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,sCAGxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,4DAG1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CAAkC,6CASvD,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,4BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,sCAGxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,4DAG1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAS,GAAG,CAAC,AAAC,QArEH,EAsEV,IAAM,EAAU,CA7FN,AAAD,IACjB,GAAI,CAAC,EAAM,MAAO,WAClB,GAAI,CACF,IAAI,EACJ,GAAI,EAAK,MAAM,CACb,CADe,CACL,EAAK,MAAM,QAChB,GAAI,EAAK,OAAO,CACrB,CADuB,CACb,IAAI,KAAoB,IAAf,EAAK,OAAO,OAC1B,GAAoB,UAAU,AAA1B,OAAO,EAGhB,MAAO,WAFP,EAAU,IAAI,KAAK,GAIrB,OAAO,EAAQ,kBAAkB,CAAC,QAAS,CACzC,MAAO,QACP,IAAK,UACL,KAAM,SACR,EACF,CAAE,KAAM,CACN,MAAO,UACT,EACF,EAwEqC,EAAQ,IAAI,EACjC,EAtEd,GAsEmC,CAtE/B,CAAC,AAsEsC,GAAnB,GAtEb,GAsEyC,EApE7C,EAFW,GAuEJ,EAAc,CAlEN,AAAC,IACvB,GAAqB,YAAY,CAA7B,EAAQ,IAAI,QACd,AAAI,EAAQ,QAAQ,EAAI,EAAQ,IAAI,CAC3B,CAD6B,AAC7B,EAAG,EAAQ,QAAQ,CAAC,EAAE,EAAE,EAAQ,IAAI,CAAA,CAAE,CACpC,EAAQ,QAAQ,CAClB,CADoB,CACZ,QAAQ,CACd,EAAQ,IAAI,CACd,CADgB,CACR,IAAI,CAEd,sBAGP,AAAI,EAAQ,UAAU,CACb,CADe,MAGjB,SAEX,EAiD8C,GAC9B,EAAc,EAAU,CAAA,EAAG,EAAQ,MAAG,EAAE,EAAA,CAAS,CAAG,EAE1D,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,qEAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yDACO,aAAjB,EAAQ,IAAI,CAAkB,WAAa,eAE9C,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mDACX,EAAQ,KAAK,GAEhB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCACV,EAAY,IAAkB,WAAhB,GAA4C,SAAhB,AAAyB,CAAC,EAAoB,AAAlB,EAAgC,AAA9B,CAA+B,KAAE,EAAE,EAAA,CAAa,CAAG,CAAtC,KAExF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,CAAC,MAAM,EAAE,EAAQ,EAAE,CAAA,CAAE,CAC3B,UAAU,iHACX,mBAfI,EAAQ,EAAE,CAoBrB,SAKV,CFpJA,SAAS,IACP,IAAM,EAAe,CAAA,EAAA,EAAA,eAAA,AAAe,IAC9B,EAAc,GAAc,IAAI,WAAa,GAC7C,EAAmB,GAAc,IAAI,aAAe,GACpD,EAAiB,GAAc,IAAI,SAAW,OAC9C,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EACnD,CAAC,EAAoB,EAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EACnE,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAmB,EAAE,EAC7D,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EACnD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAa,EAAE,EACrD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEvC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IACA,IACA,IACA,IACA,GACF,EAAG,CAAC,EAAa,EAAkB,EAAe,EAElD,IAAM,EAAiB,UACrB,GAAI,CACF,GAAW,GACX,QAAQ,GAAG,CAAC,0BAIZ,GAAI,CACF,IAAM,EAAqB,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,YACxD,QAAQ,GAAG,CAAC,CAAC,2BAA2B,EAAE,EAAmB,IAAI,CAAA,CAAE,EAEnE,IAAM,EAAwB,EAAE,CAChC,EAAmB,OAAO,CAAC,AAAC,IAC1B,IAAM,EAAO,EAAI,IAAI,EAEjB,AAAgB,aAAa,IAAxB,MAAM,EACb,QAAQ,GAAG,CAAC,CAAC,wBAAwB,EAAE,EAAI,EAAE,CAAC,GAAG,EAAE,EAAK,KAAK,CAAA,CAAE,CAAE,CAC/D,GAAI,EAAI,EAAE,CACV,OAAQ,EAAK,MAAM,CACnB,MAAO,EAAK,KAAK,CACjB,UAAW,EAAK,SAAS,CACzB,WAAY,EAAK,UACnB,AAD6B,GAE7B,EAAY,IAAI,CAAC,CACf,GAAI,EAAI,EAAE,CACV,GAAG,CAAI,AACT,IAEA,QAAQ,GAAG,CAAC,CAAC,gBAAgB,EAAE,EAAI,EAAE,CAAC,WAAW,EAAE,EAAK,MAAM,CAAA,CAAE,CAEpE,GAGA,EAAY,IAAI,CAAC,CAAC,EAAG,KACnB,IAAI,EAAQ,EACR,EAAQ,EAGZ,GAAI,EAAE,SAAS,CACb,CADe,CACP,EAAE,SAAS,EAAE,cAAiB,EAAE,SAAS,EAAU,QAAU,KAAQ,OACxE,GAAK,EAAU,UAAU,CAAE,CAChC,IAAM,EAAc,EAAU,UAAU,CACxC,EAAQ,GAAY,cAAgB,GAAY,QAAU,KAAQ,CACpE,CAEA,GAAI,EAAE,SAAS,CACb,CADe,CACP,EAAE,SAAS,EAAE,cAAiB,EAAE,SAAS,EAAU,QAAU,KAAQ,OACxE,GAAK,EAAU,UAAU,CAAE,CAChC,IAAM,EAAc,EAAU,UAAU,CACxC,EAAQ,GAAY,cAAgB,GAAY,QAAU,KAAQ,CACpE,CAEA,OAAO,EAAQ,CACjB,GAGA,GAJwB,CAIlB,EAAiB,EAAY,KAAK,CAAC,EAAG,GAE5C,QAAQ,GAAG,CAAC,CAAC,KAN6C,EAMtC,EAAE,EAAe,MAAM,CAAC,2BAA2B,EAAE,EAAY,MAAM,CAAC,iBAAiB,CAAC,CAAE,GAChH,EAAc,EAChB,CAAE,MAAO,EAAe,CACtB,QAAQ,KAAK,CAAC,4BAA6B,GAG3C,GAAI,CACF,IAAM,EAAI,CAAA,EAAA,EAAA,KAAA,AAAK,EACb,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,WACf,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,SAAU,KAAM,aACtB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,YAAa,QACrB,CAAA,EAAA,EAAA,KAAK,AAAL,EAAM,IAEF,EAAW,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,GACzB,EAAwB,EAAE,CAChC,EAAS,OAAO,CAAE,AAAD,IACf,EAAY,IAAI,CAAC,CACf,GAAI,EAAI,EAAE,CACV,GAAG,EAAI,IAAI,EAAE,AACf,EACF,GACA,QAAQ,GAAG,CAAC,CAAC,OAAO,EAAE,EAAY,MAAM,CAAC,4BAA4B,CAAC,EACtE,EAAc,EAChB,CAAE,MAAO,EAAiB,CACxB,QAAQ,KAAK,CAAC,6BAA8B,GAC5C,QAAQ,KAAK,CAAC,oGAEd,EAAc,EAAE,CAClB,CACF,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,6BAA8B,GAC5C,QAAQ,KAAK,CAAC,cAAe,KAAK,SAAS,CAAC,EAAO,KAAM,IACzD,EAAc,EAAE,CAClB,QAAU,CACR,GAAW,EACb,CACF,EAEM,EAAiB,UACrB,GAAI,CAEF,IAAM,EAAkB,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,YAC/C,EAAoB,IAAI,IAE9B,EAAgB,CAFuC,MAEhC,CAAC,AAAC,IACvB,IAAM,EAAa,EAAU,IAAI,GACjC,GAA0B,OAJ+D,OAIrF,EAAW,MAAM,EAAoB,EAAW,cAAc,CAAE,CAElE,IAAM,EAAmB,EAAW,UAAU,EAAK,EAAmB,WAAW,EAAI,GAC/E,EAAqB,CAAC,EAAW,QAAQ,EAAI,EAAA,CAAE,CAAE,IAAI,GAAG,WAAW,GAEzE,GAAI,EAAkB,CACpB,IAAM,EAAS,EAAkB,GAAG,CAAC,IAAqB,EAAE,CACxD,EAAO,MAAM,CAAG,GAAG,CACrB,EAAO,IAAI,CAAC,EAAW,cAAc,EACrC,EAAkB,GAAG,CAAC,EAAkB,GAE5C,CAGA,GAAI,EAAoB,CACtB,IAAM,EAAS,EAAkB,GAAG,CAAC,IAAuB,EAAE,CAC1D,EAAO,MAAM,CAAG,GAAG,CACrB,EAAO,IAAI,CAAC,EAAW,cAAc,EACrC,EAAkB,GAAG,CAAC,EAAoB,GAE9C,CACF,CACF,GAGA,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,eACxC,EAA6B,EAAE,CAErC,EAAS,OAAO,CAAC,AAAC,IAChB,IAAM,EAAO,EAAI,IAAI,GAIrB,GAFiB,CAEb,AAFc,EAAK,MAAM,EAAoB,WAAhB,EAAK,MAAM,CAE9B,CACZ,IAAM,EAAe,CAAC,EAAK,IAAI,EAAI,EAAA,CAAE,CAAE,WAAW,GAE5C,EAAe,EAAkB,GAAG,CAAC,EAAI,EAAE,GAC7B,EAAkB,GAAG,CAAC,IACtB,EAAE,CAEtB,EAAe,IAAI,CAAC,CAClB,WAAY,EAAI,EAAE,CAClB,KAAM,EAAK,IAAI,EAAI,GACnB,KAAM,EAAK,IAAI,EAAI,GACnB,MAAO,EAAK,KAAK,EAAI,GACrB,YAAa,EAAK,WAAW,EAAI,GACjC,OAAQ,EAAK,MAAM,EAAI,SACvB,aAAc,CAChB,EACF,CACF,GAGA,EAAe,IAAI,CAAC,CAAC,EAAG,KACtB,IAAM,EAAU,EAAU,UAAU,EAAI,EAClC,EAAU,EAAU,UAAU,EAAI,SACxC,AAAI,IAAW,EAAe,EAAS,EAChC,EADgB,AACd,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI,CACpC,GAEA,EAAc,EAChB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,4BAA6B,EAC7C,CACF,EAEM,EAAiB,UACrB,GAAI,CAEF,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,OAAO,AAAP,EAAQ,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,YACxC,EAAwB,EAAE,CAEhC,EAAS,OAAO,CAAC,AAAC,IAChB,IAAM,EAAO,EAAI,IAAI,GAED,aAAa,CAA7B,EAAK,MAAM,EACb,EAAY,IAAI,CAAC,CACf,GAAI,EAAI,EAAE,CACV,GAAG,CAAI,AACT,EAEJ,GAEA,IAAI,EAAW,EAGf,GAAI,GAAe,EAAY,IAAI,GAAI,CACrC,IAAM,EAAa,EAAY,WAAW,GAAG,IAAI,GACjD,EAAW,EAAS,MAAM,CAAC,AAAC,IAC1B,IAAM,EAAQ,CAAC,EAAO,KAAK,EAAI,EAAA,CAAE,CAAE,WAAW,GACxC,EAAc,CAAC,EAAO,gBAAgB,EAAI,EAAA,CAAE,CAAE,WAAW,GACzD,EAAW,CAAC,EAAO,QAAQ,EAAI,EAAA,CAAE,CAAE,WAAW,GAC9C,EAAQ,CAAC,EAAO,KAAK,EAAI,EAAA,CAAE,CAAE,WAAW,GAE9C,OACE,EAAM,QAAQ,CAAC,IACf,EAAY,QAAQ,CAAC,IACrB,EAAS,QAAQ,CAAC,IAClB,EAAM,QAAQ,CAAC,EAEnB,EACF,CAGA,IAAM,EAAiB,EAAS,MAAM,CAAC,CAAC,EAAQ,EAAO,IACrD,IAAU,EAAK,SAAS,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,EAAO,EAAE,GAIpD,EAAe,IAAI,CAAC,CAAC,EAAG,KACtB,IAAM,EAAQ,EAAE,SAAS,EAAE,cAAiB,EAAU,UAAU,EAAE,cAAgB,EAElF,MAAO,CADO,EAAE,SAAS,EAAE,cAAiB,EAAU,UAAU,EAAE,cAAgB,GACnE,CACjB,GAEA,EAAc,EAChB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,6BAA8B,GAC5C,EAAc,EAAE,CAClB,CACF,EAEM,EAAsB,UAC1B,GAAI,CAEF,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,YACxC,EAAwB,EAAE,CAEhC,EAAS,OAAO,CAAE,AAAD,IACf,IAAM,EAAO,EAAI,IAAI,EAEjB,AAAgB,aAAa,IAAxB,MAAM,EACb,EAAY,IAAI,CAAC,CACf,GAAI,EAAI,EAAE,CACV,GAAG,CACL,AADS,EAGb,GAEA,IAAI,EAAW,EAkBf,GAfI,IACF,EAAW,EAAS,MAAM,CAAC,AAAC,GADR,CAElB,IAAM,EAAoB,EAAe,UAAU,EAAK,EAAe,WAAW,EAAI,GAChF,EAAqB,CAAC,EAAO,QAAQ,EAAI,EAAA,CAAE,CAAE,WAAW,GACxD,EAAwB,EAAiB,WAAW,GAE1D,OACE,IAAqB,GACrB,IAAuB,GACvB,EAAmB,QAAQ,CAAC,EAEhC,EAAA,EAIE,GAAe,EAAY,IAAI,GAAI,CACrC,IAAM,EAAa,EAAY,WAAW,GAAG,IAAI,GACjD,EAAW,EAAS,MAAM,CAAC,AAAC,IAC1B,IAAM,EAAQ,CAAC,EAAO,KAAK,EAAI,EAAA,CAAE,CAAE,WAAW,GACxC,EAAc,CAAC,EAAO,gBAAgB,EAAI,EAAA,CAAE,CAAE,WAAW,GACzD,EAAW,AAAC,GAAO,QAAQ,EAAI,EAAA,CAAE,CAAE,WAAW,GAC9C,EAAQ,CAAC,EAAO,KAAK,EAAI,EAAA,CAAE,CAAE,WAAW,GAE9C,OACE,EAAM,QAAQ,CAAC,IACf,EAAY,QAAQ,CAAC,IACrB,EAAS,QAAQ,CAAC,IAClB,EAAM,QAAQ,CAAC,EAEnB,EACF,CAGA,IAAM,EAAiB,EAAS,MAAM,CAAC,CAAC,EAAQ,EAAO,IACrD,IAAU,EAAK,SAAS,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,EAAO,EAAE,GAIpD,EAAe,IAAI,CAAC,CAAC,EAAG,KACtB,IAAM,EAAQ,EAAE,SAAS,EAAE,cAAiB,EAAU,UAAU,EAAE,cAAgB,EAElF,MAAO,CADO,EAAE,SAAS,EAAE,cAAiB,EAAU,UAAU,EAAE,eAAgB,EACnE,CACjB,GAEA,EAAmB,EACrB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,kCAAmC,GACjD,EAAmB,EAAE,CACvB,CACF,EAEM,EAAyB,UAC7B,GAAI,CAEF,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,YACxC,EAAwB,EAAE,CAEhC,EAAS,OAAO,CAAE,AAAD,IACf,IAAM,EAAO,EAAI,IAAI,GAED,aAAa,CAA7B,EAAK,MAAM,EACb,EAAY,IAAI,CAAC,CACf,GAAI,EAAI,EAAE,CACV,GAAG,CAAI,AACT,EAEJ,GAEA,IAAI,EAAW,EAIf,GAAI,GAAe,EAAY,IAAI,GAAI,CACrC,IAAM,EAAa,EAAY,WAAW,GAAG,IAAI,GACjD,EAAW,EAAS,MAAM,CAAE,AAAD,IACzB,IAAM,EAAQ,CAAC,EAAO,KAAK,EAAI,EAAA,CAAE,CAAE,WAAW,GACxC,EAAc,CAAC,EAAO,gBAAgB,EAAI,EAAA,CAAE,CAAE,WAAW,GACzD,EAAW,CAAC,EAAO,QAAQ,EAAI,EAAA,CAAE,CAAE,WAAW,GAC9C,EAAQ,CAAC,EAAO,KAAK,EAAI,EAAA,CAAE,CAAE,WAAW,GAE9C,OACE,EAAM,QAAQ,CAAC,IACf,EAAY,QAAQ,CAAC,IACrB,EAAS,QAAQ,CAAC,IAClB,EAAM,QAAQ,CAAC,EAEnB,EACF,CAGA,IAAM,EAAiB,EAAS,MAAM,CAAC,CAAC,EAAQ,EAAO,IACrD,IAAU,EAAK,SAAS,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,EAAO,EAAE,GAGpD,GAAI,GAAe,EAAY,IAAI,GAEjC,CAFqC,CAEf,EAAe,KAAK,CAAC,EAAG,QACzC,CAEL,IAAM,EAAW,EAAS,MAAM,CAAC,GAAM,EAAU,QAAQ,EACnD,EAAc,EAAS,MAAM,EAAI,EACnC,EAAS,KAAK,CAAC,EAAG,GAClB,EAAS,KAAK,CAAC,EAAG,GAEtB,EAAsB,EACxB,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,qCAAsC,GACpD,EAAsB,EAAE,CAC1B,CACF,EAEM,EAAc,AAAC,GACZ,IAAI,KAAK,YAAY,CAAC,QAAS,CACpC,MAAO,WACP,SAAU,MACV,sBAAuB,CACzB,GAAG,MAAM,CAAC,GAGZ,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAEC,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,iDACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8DAAqD,4BAGlE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+CAAsC,6CAGpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDAA0C,8GAIvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,EAAc,CAAC,gBAAgB,EAAE,mBAAmB,GAAA,CAAc,CAAG,WAC3E,UAAU,+FACX,oBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,+FAAsF,8BAK5G,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAqB,SACpC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAqB,2BAEtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAqB,SACpC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAqB,uBAEtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAqB,QACpC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAqB,0BAItC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAqB,SACpC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAqB,8BAO5C,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,0BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,iBACxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,8DAGzC,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CAAkC,2BACzB,IAAtB,EAAW,MAAM,CACnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CAAkC,4CAIjD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAW,GAAG,CAAC,AAAC,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAEH,KAAM,CAAC,SAAS,EAAE,EAAO,EAAE,CAAA,CAAE,CAC7B,UAAU,oGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAO,cAAc,CACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CACN,IAAK,EAAO,cAAc,CAC1B,IAAK,EAAO,KAAK,CACjB,UAAU,+BAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,eAKlF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0DAAiD,QAG9D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mDACX,EAAO,KAAK,GAEf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDACV,EAAO,gBAAgB,EAAI,8BAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACZ,EAAO,eAAe,CACrB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2CACb,EAAY,EAAO,eAAe,IAErC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,8CACb,EAAY,EAAO,KAAK,OAI7B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2CACb,EAAY,EAAO,KAAK,MAI/B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4CACb,EAAO,KAAK,WA7Cd,EAAO,EAAE,UAyD1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GAGD,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,0BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCACX,EACG,CAAC,yBAAyB,EAAE,EAAY,CAAC,CAAC,CAC1C,oBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCACV,EACG,iCACA,2DAEyB,AAA9B,MAAmB,MAAM,CACxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACZ,EACG,CAAC,2BAA2B,EAAE,EAAY,CAAC,CAAC,CAC5C,wCAGN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAmB,GAAG,CAAC,AAAC,GACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAEH,KAAM,CAAC,SAAS,EAAE,EAAO,EAAE,CAAA,CAAE,CAC7B,UAAU,wFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEACZ,EAAO,cAAc,CACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CACN,IAAK,EAAO,cAAc,CAC1B,IAAK,EAAO,KAAK,CACjB,UAAU,+BAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gFAAuE,eAK1F,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CACX,EAAO,KAAK,GAEf,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCACV,EAAO,QAAQ,EAAI,SAAS,MAAI,EAAO,KAAK,EAAI,gBAElD,EAAO,KAAK,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oDACV,EAAO,eAAe,CACrB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2CACb,EAAY,EAAO,KAAK,IAE1B,EAAY,EAAO,eAAe,KAGrC,EAAY,EAAO,KAAK,MAjCzB,EAAO,EAAE,UA6CzB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,4BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCACX,EAAW,IAAI,CAAC,GAAK,EAAE,UAAU,GAAK,IAAmB,MAAQ,qBAEpE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,iCAGzC,AAA2B,MAAX,MAAM,CACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CAAkC,uCAIjD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAgB,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAEH,KAAM,CAAC,SAAS,EAAE,EAAO,EAAE,CAAA,CAAE,CAC7B,UAAU,sFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEACZ,EAAO,cAAc,CACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CACN,IAAK,EAAO,cAAc,CAC1B,IAAK,EAAO,KAAK,CACjB,UAAU,+BAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gFAAuE,eAK1F,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CACX,EAAO,KAAK,GAEf,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCACV,EAAO,QAAQ,EAAI,SAAS,MAAI,EAAO,KAAK,EAAI,gBAElD,EAAO,KAAK,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oDACV,EAAO,eAAe,CACrB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2CACb,EAAY,EAAO,KAAK,IAE1B,EAAY,EAAO,eAAe,KAGrC,EAAY,EAAO,KAAK,MAjCzB,EAAO,EAAE,UA8C5B,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,4BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,sBACxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,2DAGnB,IAAtB,EAAW,MAAM,CAChB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CAAiC,4BAIhD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,WACL,UAAW,CAAC,0EAA0E,EACpF,CAAC,EACG,6BACA,wCAAA,CACJ,WAEF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,sCAAsC,EACrD,CAAC,EAAmB,cAAgB,cAAA,CACpC,UACA,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,mBAAmB,EACnC,CAAC,EAAmB,gBAAkB,gBAAA,CACtC,UAAE,UAIN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,CAAC,sBAAsB,EACnC,CAAC,EAAmB,gBAAkB,gBAAA,CACtC,UAAE,wBAKP,EAAW,GAAG,CAAC,AAAC,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAEH,KAAM,CAAC,kBAAkB,EAAE,mBAAmB,EAAS,UAAU,EAAA,CAAG,CACpE,UAAW,CAAC,0EAA0E,EACpF,IAAqB,EAAS,UAAU,CACpC,6BACA,wCAAA,CACJ,WAEF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sDACZ,EAAS,KAAK,CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CACN,IAAK,EAAS,KAAK,CACnB,IAAK,EAAS,IAAI,CAClB,UAAU,+BAEV,EAAS,YAAY,EAAI,EAAS,YAAY,CAAC,MAAM,CAAG,EAE1D,CAAA,CADA,CACA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCADiD,SAE7D,EAAS,YAAY,CAAC,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,CAAC,EAAK,IAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAEN,IAAK,EACL,IAAK,CAAA,EAAG,EAAS,IAAI,CAAC,QAAQ,EAAE,EAAM,EAAA,CAAG,CACzC,UAAU,8BAHL,MASX,CAAA,CADA,CACA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,CArxBN,AAAC,IACxB,IAAM,EAAO,EAAa,WAAW,CAkxB6B,EA/wB5D,EAA8C,CAElD,YAAe,oFACf,kBAAmB,oFACnB,WAAc,oFACd,OAAU,oFACV,MAAS,oFACT,OAAU,oFACV,SAAY,oFACZ,WAAc,oFAGd,OAAU,oFACV,QAAS,iFACT,iBAAkB,iFAClB,aAAc,iFAGd,SAAY,oFACZ,UAAa,iFACb,QAAW,iFACX,iBAAoB,iFAGpB,eAAgB,iFAChB,UAAa,iFACb,mBAAoB,oFACpB,GAAM,oFACN,0BAA2B,oFAG3B,YAAe,oFACf,gBAAiB,oFACjB,YAAe,oFAGf,SAAY,oFACZ,QAAW,oFACX,cAAiB,iFAGjB,OAAU,oFACV,QAAW,oFACX,KAAQ,oFAGR,MAAS,oFACT,IAAO,oFAGP,QAAW,mFACb,EAGA,GAAI,CAAgB,CAAC,EAAK,CACxB,CAD0B,MACnB,CAAgB,CAAC,EAAK,CAI/B,IAAK,GAAM,CAAC,EAAK,EAAI,GAAI,OAAO,OAAO,CAAC,GACtC,GAAI,EAAK,QAAQ,CAAC,CADuC,GAC/B,EAAI,QAAQ,CAAC,GACrC,IAD4C,GACrC,EAKX,OAAO,EAAiB,OAAU,CACpC,EA8sBgD,EAAS,EA/sBhC,EA+sBoC,EACnC,IAAK,EAAS,IAAI,CAClB,UAAU,6BACV,QAAS,AAAC,IAER,IAAM,EAAS,EAAE,MAAM,CACvB,EAAO,KAAK,CAAC,OAAO,CAAG,OACvB,IAAM,EAAS,EAAO,aAAa,AAC/B,KACF,EAAO,CADG,QACM,CAAG,CAAC;;;oCAGd,EAAE,EAAS,IAAI,CAAC,MAAM,CAAC,GAAG,WAAW,GAAG;;;8BAG9C,CAAC,CAEL,IAGH,IAAqB,EAAS,UAAU,EACvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,eAAe,QAAQ,qBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,qHAAqH,SAAS,qBAMnK,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,CAAC,mCAAmC,EAChD,IAAqB,EAAS,UAAU,CACpC,gBACA,gBAAA,CACJ,UACC,EAAS,IAAI,GAEf,EAAS,YAAY,EAAI,EAAS,YAAY,CAAC,MAAM,CAAG,GACvD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCACV,EAAS,YAAY,CAAC,MAAM,CAAC,oBAtE/B,EAAS,UAAU,WAkFpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,MAIH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,KAGb,CAEe,SAAS,IACtB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAI,wBACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,IAGP"}