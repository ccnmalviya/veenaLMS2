{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/lib/firebaseClient.ts"],"sourcesContent":["import { getApps, initializeApp, type FirebaseApp } from \"firebase/app\";\nimport { getAuth, type Auth } from \"firebase/auth\";\nimport { getFirestore, type Firestore } from \"firebase/firestore\";\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n// TODO: replace with the final, correct config from your Firebase console\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC85KACqcAl8tnrzfwybbuMXKspvLfkMBQ\",\n  authDomain: \"veena-lms.firebaseapp.com\",\n  projectId: \"veena-lms\",\n  storageBucket: \"veena-lms.firebasestorage.app\",\n  messagingSenderId: \"843457897028\",\n  appId: \"1:843457897028:web:62a75a285947e39ca75211\",\n  measurementId: \"G-BVZ10GTDXJ\",\n};\n\nlet app: FirebaseApp;\nlet auth: Auth;\nlet db: Firestore;\n\nif (!getApps().length) {\n  app = initializeApp(firebaseConfig);\n  auth = getAuth(app);\n  db = getFirestore(app);\n} else {\n  app = getApps()[0]!;\n  auth = getAuth(app);\n  db = getFirestore(app);\n}\n\nexport { app, auth, db };"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,mEAAmE;AACnE,0EAA0E;AAC1E,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,IAAI;AACJ,IAAI;AACJ,IAAI;AAEJ,IAAI,CAAC,IAAA,wOAAO,IAAG,MAAM,EAAE;IACrB,MAAM,IAAA,8OAAa,EAAC;IACpB,OAAO,IAAA,0OAAO,EAAC;IACf,KAAK,IAAA,8OAAY,EAAC;AACpB,OAAO;IACL,MAAM,IAAA,wOAAO,GAAE,CAAC,EAAE;IAClB,OAAO,IAAA,0OAAO,EAAC;IACf,KAAK,IAAA,8OAAY,EAAC;AACpB"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/lib/s3ImageHelper.ts"],"sourcesContent":["/**\n * Helper function to get signed S3 URLs for images\n * This is needed because S3 objects with KMS encryption require signed URLs\n */\n\nexport async function getSignedImageUrl(imageUrl: string): Promise<string> {\n  // If it's not an S3 URL, return as-is\n  if (!imageUrl || (!imageUrl.includes(\"s3\") && !imageUrl.includes(\"amazonaws.com\"))) {\n    return imageUrl;\n  }\n\n  try {\n    // Pass the full URL as-is; the API will extract the S3 object key\n    const response = await fetch(`/api/s3-signed-url?key=${encodeURIComponent(imageUrl)}`);\n    \n    if (!response.ok) {\n      const errorText = await response.text();\n      console.error(\"Failed to get signed URL:\", {\n        status: response.status,\n        statusText: response.statusText,\n        error: errorText,\n        imageUrl: imageUrl\n      });\n      return imageUrl; // Fallback to original URL\n    }\n\n    const data = await response.json();\n    if (data.error) {\n      console.error(\"Signed URL API error:\", data.error);\n      return imageUrl; // Fallback to original URL\n    }\n    return data.url || imageUrl;\n  } catch (error) {\n    console.error(\"Error getting signed URL:\", error);\n    return imageUrl; // Fallback to original URL\n  }\n}\n\n/**\n * Get signed URLs for multiple images\n */\nexport async function getSignedImageUrls(imageUrls: string[]): Promise<string[]> {\n  return Promise.all(imageUrls.map(url => getSignedImageUrl(url)));\n}\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;AAEM,eAAe,kBAAkB,QAAgB;IACtD,sCAAsC;IACtC,IAAI,CAAC,YAAa,CAAC,SAAS,QAAQ,CAAC,SAAS,CAAC,SAAS,QAAQ,CAAC,kBAAmB;QAClF,OAAO;IACT;IAEA,IAAI;QACF,kEAAkE;QAClE,MAAM,WAAW,MAAM,MAAM,CAAC,uBAAuB,EAAE,mBAAmB,WAAW;QAErF,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,QAAQ,KAAK,CAAC,6BAA6B;gBACzC,QAAQ,SAAS,MAAM;gBACvB,YAAY,SAAS,UAAU;gBAC/B,OAAO;gBACP,UAAU;YACZ;YACA,OAAO,UAAU,2BAA2B;QAC9C;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,IAAI,KAAK,KAAK,EAAE;YACd,QAAQ,KAAK,CAAC,yBAAyB,KAAK,KAAK;YACjD,OAAO,UAAU,2BAA2B;QAC9C;QACA,OAAO,KAAK,GAAG,IAAI;IACrB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO,UAAU,2BAA2B;IAC9C;AACF;AAKO,eAAe,mBAAmB,SAAmB;IAC1D,OAAO,QAAQ,GAAG,CAAC,UAAU,GAAG,CAAC,CAAA,MAAO,kBAAkB;AAC5D"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/HeroBanner.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs, query, where, orderBy, limit } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport { S3Image } from \"@/components/common/S3Image\";\nimport { getSignedImageUrl } from \"@/lib/s3ImageHelper\";\nimport type { HeroBanner } from \"@/types/heroBanner\";\n\nexport function HeroBanner() {\n  const [heroBanners, setHeroBanners] = useState<HeroBanner[]>([]);\n  const [heroImageUrls, setHeroImageUrls] = useState<Record<string, string>>({});\n  const [backgroundImageUrls, setBackgroundImageUrls] = useState<Record<string, string>>({});\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    loadHeroBanners();\n  }, []);\n\n  // Auto-slide functionality\n  useEffect(() => {\n    if (heroBanners.length <= 1) return;\n\n    const interval = setInterval(() => {\n      setCurrentIndex((prevIndex) => {\n        const nextIndex = (prevIndex + 1) % heroBanners.length;\n        return nextIndex;\n      });\n    }, 5000); // Change slide every 5 seconds\n\n    return () => clearInterval(interval);\n  }, [heroBanners.length]);\n\n  // Debug logging - must be before any early returns\n  useEffect(() => {\n    if (heroBanners.length > 0) {\n      console.log(\"Hero banners loaded:\", heroBanners.length, heroBanners);\n    }\n  }, [heroBanners]);\n\n  const loadHeroBanners = async () => {\n    try {\n      // Get ALL hero banners first, then filter and sort in memory\n      // This ensures we see everything regardless of enabled/status fields\n      console.log(\"Fetching all hero banners from hero_banners collection...\");\n      const snapshot = await getDocs(collection(db, \"hero_banners\"));\n      \n      const bannersData: HeroBanner[] = [];\n      console.log(`Found ${snapshot.size} hero banners in Firestore`);\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        console.log(`Hero Banner ${doc.id}:`, {\n          heroName: data.heroName,\n          enabled: data.enabled,\n          status: data.status,\n          displayOrder: data.displayOrder,\n          mainHeading: data.mainHeading\n        });\n        \n        // Include if enabled is true (or missing, default to true) and status is active (or missing, default to active)\n        const enabled = data.enabled !== undefined ? data.enabled : true;\n        const status = data.status || \"active\";\n        \n        if (enabled && status === \"active\") {\n          bannersData.push({\n            heroId: doc.id,\n            ...data,\n            enabled: enabled,\n            status: status,\n            displayOrder: data.displayOrder || 999,\n          } as HeroBanner);\n        } else {\n          console.log(`Skipping banner ${doc.id} - enabled: ${enabled}, status: ${status}`);\n        }\n      });\n      \n      console.log(`Displaying ${bannersData.length} active hero banners`);\n      \n      if (bannersData.length === 0 && snapshot.size > 0) {\n        console.warn(\"‚ö†Ô∏è Hero banners exist in Firestore but none match the display criteria!\");\n        console.warn(\"All banners found:\", Array.from(snapshot.docs).map(d => ({\n          id: d.id,\n          heroName: d.data().heroName,\n          enabled: d.data().enabled,\n          status: d.data().status,\n          displayOrder: d.data().displayOrder,\n          mainHeading: d.data().mainHeading,\n          allFields: Object.keys(d.data())\n        })));\n        console.warn(\"Expected: enabled=true (or undefined) AND status='active' (or undefined)\");\n      }\n      \n      // Sort by displayOrder\n      bannersData.sort((a, b) => (a.displayOrder || 999) - (b.displayOrder || 999));\n      \n      if (bannersData.length > 0) {\n        setHeroBanners(bannersData);\n        loadAllImageUrls(bannersData);\n      } else {\n        console.log(\"No active hero banner found. Check that banner has enabled=true and status='active'\");\n        // Try to find any banner for debugging\n        const allBannersQuery = query(collection(db, \"hero_banners\"), limit(5));\n        const allSnapshot = await getDocs(allBannersQuery);\n        console.log(\"All banners in collection:\", allSnapshot.docs.map(d => ({\n          id: d.id,\n          enabled: d.data().enabled,\n          status: d.data().status,\n          displayOrder: d.data().displayOrder,\n          mainHeading: d.data().mainHeading\n        })));\n      }\n    } catch (error: any) {\n      console.error(\"‚ùå Error loading hero banners:\", error);\n      console.error(\"Error code:\", error?.code);\n      console.error(\"Error message:\", error?.message);\n      \n      // Check if it's a permissions error\n      if (error?.code === \"permission-denied\") {\n        console.error(\"üö´ Firestore permission denied! Check your Firestore security rules.\");\n        console.error(\"Make sure 'hero_banners' collection allows read access for unauthenticated users or authenticated users.\");\n      }\n      \n      if (error.code === \"failed-precondition\") {\n        console.error(\"Firestore index required. Please create a composite index for:\");\n        console.error(\"Collection: hero_banners\");\n        console.error(\"Fields: enabled (Ascending), status (Ascending), displayOrder (Ascending)\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadAllImageUrls = async (banners: HeroBanner[]) => {\n    const heroUrls: Record<string, string> = {};\n    const bgUrls: Record<string, string> = {};\n\n    try {\n      await Promise.all(\n        banners.map(async (banner) => {\n          // Load signed URL for hero image\n          if (banner.heroImage) {\n            try {\n              const signedUrl = await getSignedImageUrl(banner.heroImage);\n              heroUrls[banner.heroId] = signedUrl;\n            } catch (error) {\n              console.error(`Error loading hero image for ${banner.heroId}:`, error);\n              heroUrls[banner.heroId] = banner.heroImage; // Fallback\n            }\n          }\n\n          // Load signed URL for background image if different\n          if (banner.backgroundImage && banner.backgroundImage !== banner.heroImage) {\n            try {\n              const signedUrl = await getSignedImageUrl(banner.backgroundImage);\n              bgUrls[banner.heroId] = signedUrl;\n            } catch (error) {\n              console.error(`Error loading background image for ${banner.heroId}:`, error);\n              bgUrls[banner.heroId] = banner.backgroundImage; // Fallback\n            }\n          }\n        })\n      );\n\n      setHeroImageUrls(heroUrls);\n      setBackgroundImageUrls(bgUrls);\n    } catch (error) {\n      console.error(\"Error loading image URLs:\", error);\n    }\n  };\n\n  const getActionUrl = (cta: HeroBanner[\"primaryCta\"] | HeroBanner[\"secondaryCta\"]) => {\n    if (!cta) return \"#\";\n    \n    switch (cta.actionType) {\n      case \"url\":\n        return cta.actionTarget;\n      case \"page\":\n        return cta.actionTarget;\n      case \"category\":\n        return `/category/${cta.actionTarget}`;\n      case \"product\":\n      case \"course\":\n        return `/item/${cta.actionTarget}`;\n      default:\n        return \"#\";\n    }\n  };\n\n  const getButtonClasses = (style: string) => {\n    switch (style) {\n      case \"primary\":\n        return \"inline-flex items-center justify-center px-6 py-3 rounded-full bg-black text-white text-sm font-semibold hover:bg-gray-900 transition\";\n      case \"secondary\":\n        return \"inline-flex items-center justify-center px-6 py-3 rounded-full bg-gray-200 text-gray-900 text-sm font-semibold hover:bg-gray-300 transition\";\n      case \"outline\":\n        return \"inline-flex items-center justify-center px-6 py-3 rounded-full border border-gray-300 text-sm font-semibold text-gray-900 hover:bg-gray-100 transition\";\n      default:\n        return \"inline-flex items-center justify-center px-6 py-3 rounded-full bg-black text-white text-sm font-semibold hover:bg-gray-900 transition\";\n    }\n  };\n\n  const getBackgroundStyle = (banner: HeroBanner) => {\n    const styles: React.CSSProperties = {};\n    \n    // Use the signed URL for hero image (or fallback to original)\n    const imageUrl = heroImageUrls[banner.heroId] || banner.heroImage;\n    const bgImageUrl = backgroundImageUrls[banner.heroId] || banner.backgroundImage;\n    \n    // Hero image always goes in background\n    if (imageUrl) {\n      styles.backgroundImage = `url(${imageUrl})`;\n      styles.backgroundSize = \"cover\";\n      styles.backgroundPosition = \"center\";\n      styles.backgroundRepeat = \"no-repeat\";\n    }\n    \n    // Handle background type overlay\n    switch (banner.backgroundType) {\n      case \"solid\":\n        if (banner.backgroundColor) {\n          // Add overlay with solid color\n          if (imageUrl) {\n            // Use linear gradient overlay to blend image with color\n            styles.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(${imageUrl})`;\n          } else {\n            styles.backgroundColor = banner.backgroundColor;\n          }\n        } else {\n          styles.backgroundColor = imageUrl ? \"transparent\" : \"#f5f5f5\";\n        }\n        break;\n      case \"gradient\":\n        if (banner.backgroundGradient && imageUrl) {\n          // Overlay dark gradient on image for better text readability\n          styles.backgroundImage = `linear-gradient(to right, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.3)), url(${imageUrl})`;\n        }\n        break;\n      case \"image\":\n        // Use backgroundImage as overlay or replacement\n        if (bgImageUrl) {\n          styles.backgroundImage = `url(${bgImageUrl})`;\n          styles.backgroundSize = \"cover\";\n          styles.backgroundPosition = \"center\";\n        } else if (imageUrl) {\n          // Fallback to hero image\n          styles.backgroundImage = `url(${imageUrl})`;\n          styles.backgroundSize = \"cover\";\n          styles.backgroundPosition = \"center\";\n        }\n        break;\n      default:\n        if (!imageUrl) {\n          styles.backgroundColor = \"#f5f5f5\";\n        }\n    }\n    \n    return styles;\n  };\n\n  const getBackgroundClasses = (banner: HeroBanner) => {\n    let classes = \"\";\n    \n    // Add gradient classes if background type is gradient\n    if (banner.backgroundType === \"gradient\" && banner.backgroundGradient) {\n      classes = `bg-gradient-to-r ${banner.backgroundGradient}`;\n    }\n    \n    // Add overlay class for better text readability over background images\n    if (banner.heroImage || banner.backgroundType === \"image\") {\n      classes += \" relative\";\n    }\n    \n    return classes;\n  };\n\n  const goToSlide = (index: number) => {\n    if (index >= 0 && index < heroBanners.length) {\n      setCurrentIndex(index);\n    }\n  };\n\n  // Don't render until mounted to avoid hydration mismatch\n  if (!mounted || loading) {\n    return null;\n  }\n\n  if (heroBanners.length === 0) {\n    // Show debug info in development mode\n    if (process.env.NODE_ENV === \"development\") {\n      return (\n        <section className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 m-4\">\n          <p className=\"text-sm text-yellow-800\">\n            ‚ö†Ô∏è No active hero banner found. Check that:\n            <ul className=\"list-disc list-inside mt-2 space-y-1\">\n              <li>Banner has <code>enabled: true</code></li>\n              <li>Banner has <code>status: \"active\"</code></li>\n              <li>Check browser console for details</li>\n            </ul>\n          </p>\n        </section>\n      );\n    }\n    return null; // No hero banner configured\n  }\n\n  return (\n    <section className=\"relative min-h-[500px] md:min-h-[600px] overflow-hidden\">\n      {/* Slider container */}\n      <div \n        className=\"flex transition-transform duration-700 ease-in-out\"\n        style={{ \n          transform: `translateX(-${(currentIndex * 100) / heroBanners.length}%)`,\n          width: `${heroBanners.length * 100}%`\n        }}\n      >\n        {heroBanners.map((banner, index) => {\n          const backgroundStyle = getBackgroundStyle(banner);\n          const hasBgImage = !!(heroImageUrls[banner.heroId] || banner.heroImage);\n          \n          // Calculate text colors for this specific banner\n          const bannerTextColorClass = hasBgImage \n            ? \"text-white\" \n            : (banner.themeMode === \"dark\" ? \"text-white\" : \"text-gray-900\");\n          const bannerTextSecondaryColorClass = hasBgImage \n            ? \"text-white/90\" \n            : (banner.themeMode === \"dark\" ? \"text-gray-200\" : \"text-gray-600\");\n          \n            return (\n              <div\n                key={banner.heroId}\n                className={`${getBackgroundClasses(banner)} relative flex items-center flex-shrink-0`}\n                style={{\n                  ...backgroundStyle,\n                  minHeight: '500px',\n                  width: `${100 / heroBanners.length}%`\n                }}\n              >\n                {/* Dark overlay for text readability over background image */}\n                {hasBgImage && (\n                  <div className=\"absolute inset-0 bg-black/40\"></div>\n                )}\n                \n                {/* Content floating above the background image - Left aligned */}\n                <div className=\"w-full h-full flex items-center relative z-10\">\n                  <div className=\"container mx-auto px-4 py-10 md:py-20 w-full\">\n                    <div className=\"max-w-2xl text-left\">\n                      {banner.eyebrowText && (\n                        <div className={`text-xs font-semibold uppercase mb-3 tracking-wide ${bannerTextColorClass} drop-shadow-lg`}>\n                          {banner.eyebrowText}\n                        </div>\n                      )}\n                      <h1 className={`text-4xl md:text-6xl font-extrabold ${bannerTextColorClass} drop-shadow-lg leading-tight mb-4`}>\n                        {banner.mainHeading}\n                      </h1>\n                      {banner.subheading && (\n                        <p className={`text-base md:text-lg ${bannerTextSecondaryColorClass} drop-shadow-md mb-8 max-w-2xl`}>\n                          {banner.subheading}\n                        </p>\n                      )}\n                      <div className=\"flex flex-wrap gap-4\">\n                        <Link\n                          href={getActionUrl(banner.primaryCta)}\n                          className={getButtonClasses(banner.primaryCta.buttonStyle)}\n                        >\n                          {banner.primaryCta.buttonText}\n                        </Link>\n                        {banner.secondaryCta?.buttonText && (\n                          <Link\n                            href={getActionUrl(banner.secondaryCta)}\n                            className={getButtonClasses(banner.secondaryCta.buttonStyle)}\n                          >\n                            {banner.secondaryCta.buttonText}\n                          </Link>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Slider Dots - Inside each hero banner container, absolute positioned at bottom */}\n                {heroBanners.length > 1 && (\n                  <div className=\"absolute left-1/2 -translate-x-1/2 bottom-14 z-20 flex gap-2 items-center\">\n                    {heroBanners.map((_, dotIndex) => (\n                      <button\n                        key={dotIndex}\n                        onClick={() => goToSlide(dotIndex)}\n                        className={`w-3 h-3 rounded-full transition-all duration-300 cursor-pointer ${\n                          dotIndex === currentIndex \n                            ? \"bg-white\" \n                            : \"bg-gray-700 hover:bg-gray-600\"\n                        }`}\n                        aria-label={`Go to slide ${dotIndex + 1}`}\n                      />\n                    ))}\n                  </div>\n                )}\n              </div>\n            );\n        })}\n      </div>\n    </section>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 669, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/NotificationStrip.tsx"],"sourcesContent":["\"use client\";\n\n// Auto shows: New launches, Upcoming live classes, Limited offers\nexport function NotificationStrip() {\n  // TODO: Query Firestore for active notifications\n  const notifications = [\n    { id: \"1\", text: \"üéâ New Course Launch: Advanced Photography\", type: \"new_launch\" },\n    { id: \"2\", text: \"üìÖ Live Class Tomorrow: Digital Marketing Basics\", type: \"live_class\" },\n    { id: \"3\", text: \"‚ö° Limited Offer: 50% off on all workshops this week!\", type: \"offer\" },\n  ];\n\n  return (\n    <div className=\"bg-blue-600 text-white py-2\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex items-center justify-center gap-4 overflow-x-auto\">\n          {notifications.map((notif) => (\n            <span key={notif.id} className=\"text-sm whitespace-nowrap\">\n              {notif.text}\n            </span>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n\n\n"],"names":[],"mappings":";;;;;AAAA;;AAGO,SAAS;IACd,iDAAiD;IACjD,MAAM,gBAAgB;QACpB;YAAE,IAAI;YAAK,MAAM;YAA8C,MAAM;QAAa;QAClF;YAAE,IAAI;YAAK,MAAM;YAAoD,MAAM;QAAa;QACxF;YAAE,IAAI;YAAK,MAAM;YAAwD,MAAM;QAAQ;KACxF;IAED,qBACE,2SAAC;QAAI,WAAU;kBACb,cAAA,2SAAC;YAAI,WAAU;sBACb,cAAA,2SAAC;gBAAI,WAAU;0BACZ,cAAc,GAAG,CAAC,CAAC,sBAClB,2SAAC;wBAAoB,WAAU;kCAC5B,MAAM,IAAI;uBADF,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;AAQ/B"}},
    {"offset": {"line": 729, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/PromoRow.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\n\n// Using the same shopping videos as orange cards\nconst PROMO_VIDEOS = [\n  \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\n  \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4\",\n];\n\n// Two wide promo cards below hero, matching the shoe layout style.\nexport function PromoRow() {\n  // TODO: Drive from Firestore campaigns / featured store_items\n  const promos = [\n    {\n      id: \"formal\",\n      title: \"Explore All Formal Courses\",\n      badge: \"20% OFF\",\n      cta: \"Shop Now\",\n    },\n    {\n      id: \"running\",\n      title: \"Grab the Latest Live Classes\",\n      badge: \"25% OFF\",\n      cta: \"Shop Now\",\n    },\n  ];\n\n  return (\n    <section className=\"bg-[#f5f5f5]\">\n      <div className=\"container mx-auto px-4 pb-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {promos.map((promo, index) => (\n            <div\n              key={promo.id}\n              className=\"relative h-44 bg-gray-200 rounded-2xl overflow-hidden flex items-end p-4\"\n            >\n              {/* Video Background */}\n              <video\n                autoPlay\n                loop\n                muted\n                playsInline\n                className=\"absolute inset-0 w-full h-full object-cover\"\n                style={{ opacity: 0.5 }}\n              >\n                <source src={PROMO_VIDEOS[index] || PROMO_VIDEOS[0]} type=\"video/mp4\" />\n                Your browser does not support the video tag.\n              </video>\n              \n              {/* Gradient Overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-0\" />\n              \n              <div className=\"absolute top-3 left-3 text-[10px] font-semibold bg-white px-2 py-1 rounded-full z-10\">\n                {promo.badge}\n              </div>\n              <div className=\"relative z-10\">\n                <h3 className=\"text-sm md:text-base font-semibold text-white drop-shadow\">\n                  {promo.title}\n                </h3>\n                <Link\n                  href=\"/classes\"\n                  className=\"mt-2 inline-flex items-center justify-center px-4 py-2 rounded-full bg-white text-[11px] font-semibold text-gray-900 hover:bg-gray-100\"\n                >\n                  {promo.cta}\n                </Link>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,iDAAiD;AACjD,MAAM,eAAe;IACnB;IACA;CACD;AAGM,SAAS;IACd,8DAA8D;IAC9D,MAAM,SAAS;QACb;YACE,IAAI;YACJ,OAAO;YACP,OAAO;YACP,KAAK;QACP;QACA;YACE,IAAI;YACJ,OAAO;YACP,OAAO;YACP,KAAK;QACP;KACD;IAED,qBACE,2SAAC;QAAQ,WAAU;kBACjB,cAAA,2SAAC;YAAI,WAAU;sBACb,cAAA,2SAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC,OAAO,sBAClB,2SAAC;wBAEC,WAAU;;0CAGV,2SAAC;gCACC,QAAQ;gCACR,IAAI;gCACJ,KAAK;gCACL,WAAW;gCACX,WAAU;gCACV,OAAO;oCAAE,SAAS;gCAAI;;kDAEtB,2SAAC;wCAAO,KAAK,YAAY,CAAC,MAAM,IAAI,YAAY,CAAC,EAAE;wCAAE,MAAK;;;;;;oCAAc;;;;;;;0CAK1E,2SAAC;gCAAI,WAAU;;;;;;0CAEf,2SAAC;gCAAI,WAAU;0CACZ,MAAM,KAAK;;;;;;0CAEd,2SAAC;gCAAI,WAAU;;kDACb,2SAAC;wCAAG,WAAU;kDACX,MAAM,KAAK;;;;;;kDAEd,2SAAC,oOAAI;wCACH,MAAK;wCACL,WAAU;kDAET,MAAM,GAAG;;;;;;;;;;;;;uBA9BT,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;AAuC3B"}},
    {"offset": {"line": 860, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/LiveStrip.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\n\n// Live classes strip similar to the shoe layout \"Live Classes starting at...\"\nexport function LiveStrip() {\n  const [nextSession, setNextSession] = useState<{\n    date: string;\n    title?: string;\n  } | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadNextSession();\n  }, []);\n\n  const loadNextSession = async () => {\n    try {\n      setLoading(true);\n      // Fetch all store_items and find the next upcoming live class or workshop\n      const snapshot = await getDocs(collection(db, \"store_items\"));\n      let earliestSession: any = null;\n      let earliestDate = Infinity;\n\n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        const itemType = data.type || data.itemType;\n        \n        // Only include active live classes and workshops with dates\n        if ((itemType === \"live_class\" || itemType === \"workshop\") && data.status === \"active\" && data.date) {\n          let dateValue = 0;\n          \n          if (data.date.toMillis) {\n            dateValue = data.date.toMillis();\n          } else if (data.date.seconds) {\n            dateValue = data.date.seconds * 1000;\n          } else if (typeof data.date === \"string\") {\n            dateValue = new Date(data.date).getTime();\n          }\n\n          // Only consider future dates\n          if (dateValue > Date.now() && dateValue < earliestDate) {\n            earliestDate = dateValue;\n            earliestSession = {\n              date: data.date,\n              title: data.title || data.name,\n            };\n          }\n        }\n      });\n\n      if (earliestSession) {\n        const dateObj = earliestSession.date.toDate \n          ? earliestSession.date.toDate() \n          : earliestSession.date.seconds \n          ? new Date(earliestSession.date.seconds * 1000)\n          : new Date(earliestSession.date);\n        \n        setNextSession({\n          date: dateObj.toLocaleDateString(\"en-US\", {\n            month: \"short\",\n            day: \"numeric\",\n            year: \"numeric\",\n          }),\n          title: earliestSession.title,\n        });\n      } else {\n        // Fallback to default if no upcoming sessions\n        setNextSession({\n          date: \"Coming Soon\",\n        });\n      }\n    } catch (error) {\n      console.error(\"Error loading next session:\", error);\n      setNextSession({\n        date: \"Coming Soon\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <section className=\"bg-white\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"mt-4 rounded-2xl overflow-hidden relative h-40 bg-gray-900 text-white flex items-center px-6\">\n          <div>\n            <p className=\"text-xs uppercase tracking-[0.15em] text-gray-300 mb-1\">\n              Live Classes starting at\n            </p>\n            <p className=\"text-sm font-semibold\">\n              {loading ? \"Loading...\" : nextSession?.date || \"Coming Soon\"}\n            </p>\n            {nextSession?.title && (\n              <p className=\"text-xs text-gray-400 mt-1 line-clamp-1\">\n                {nextSession.title}\n              </p>\n            )}\n          </div>\n          <div className=\"ml-auto flex items-center gap-4\">\n            <span className=\"text-xs text-gray-300 hidden md:inline\">\n              Join interactive live batches each week\n            </span>\n            <Link\n              href=\"/classes\"\n              className=\"px-5 py-2 rounded-full bg-white text-xs font-semibold text-gray-900 hover:bg-gray-100\"\n            >\n              Join Now\n            </Link>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAQO,SAAS;IACd,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,8QAAQ,EAGpC;IACV,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8QAAQ,EAAC;IAEvC,IAAA,+QAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,kBAAkB;QACtB,IAAI;YACF,WAAW;YACX,0EAA0E;YAC1E,MAAM,WAAW,MAAM,IAAA,yOAAO,EAAC,IAAA,4OAAU,EAAC,+LAAE,EAAE;YAC9C,IAAI,kBAAuB;YAC3B,IAAI,eAAe;YAEnB,SAAS,OAAO,CAAC,CAAC;gBAChB,MAAM,OAAO,IAAI,IAAI;gBACrB,MAAM,WAAW,KAAK,IAAI,IAAI,KAAK,QAAQ;gBAE3C,4DAA4D;gBAC5D,IAAI,CAAC,aAAa,gBAAgB,aAAa,UAAU,KAAK,KAAK,MAAM,KAAK,YAAY,KAAK,IAAI,EAAE;oBACnG,IAAI,YAAY;oBAEhB,IAAI,KAAK,IAAI,CAAC,QAAQ,EAAE;wBACtB,YAAY,KAAK,IAAI,CAAC,QAAQ;oBAChC,OAAO,IAAI,KAAK,IAAI,CAAC,OAAO,EAAE;wBAC5B,YAAY,KAAK,IAAI,CAAC,OAAO,GAAG;oBAClC,OAAO,IAAI,OAAO,KAAK,IAAI,KAAK,UAAU;wBACxC,YAAY,IAAI,KAAK,KAAK,IAAI,EAAE,OAAO;oBACzC;oBAEA,6BAA6B;oBAC7B,IAAI,YAAY,KAAK,GAAG,MAAM,YAAY,cAAc;wBACtD,eAAe;wBACf,kBAAkB;4BAChB,MAAM,KAAK,IAAI;4BACf,OAAO,KAAK,KAAK,IAAI,KAAK,IAAI;wBAChC;oBACF;gBACF;YACF;YAEA,IAAI,iBAAiB;gBACnB,MAAM,UAAU,gBAAgB,IAAI,CAAC,MAAM,GACvC,gBAAgB,IAAI,CAAC,MAAM,KAC3B,gBAAgB,IAAI,CAAC,OAAO,GAC5B,IAAI,KAAK,gBAAgB,IAAI,CAAC,OAAO,GAAG,QACxC,IAAI,KAAK,gBAAgB,IAAI;gBAEjC,eAAe;oBACb,MAAM,QAAQ,kBAAkB,CAAC,SAAS;wBACxC,OAAO;wBACP,KAAK;wBACL,MAAM;oBACR;oBACA,OAAO,gBAAgB,KAAK;gBAC9B;YACF,OAAO;gBACL,8CAA8C;gBAC9C,eAAe;oBACb,MAAM;gBACR;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,eAAe;gBACb,MAAM;YACR;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,2SAAC;QAAQ,WAAU;kBACjB,cAAA,2SAAC;YAAI,WAAU;sBACb,cAAA,2SAAC;gBAAI,WAAU;;kCACb,2SAAC;;0CACC,2SAAC;gCAAE,WAAU;0CAAyD;;;;;;0CAGtE,2SAAC;gCAAE,WAAU;0CACV,UAAU,eAAe,aAAa,QAAQ;;;;;;4BAEhD,aAAa,uBACZ,2SAAC;gCAAE,WAAU;0CACV,YAAY,KAAK;;;;;;;;;;;;kCAIxB,2SAAC;wBAAI,WAAU;;0CACb,2SAAC;gCAAK,WAAU;0CAAyC;;;;;;0CAGzD,2SAAC,oOAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb"}},
    {"offset": {"line": 1023, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/common/S3Image.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { getSignedImageUrl } from \"@/lib/s3ImageHelper\";\n\ninterface S3ImageProps {\n  src: string;\n  alt: string;\n  className?: string;\n  fallback?: React.ReactNode;\n}\n\nexport function S3Image({ src, alt, className = \"\", fallback }: S3ImageProps) {\n  const [imageUrl, setImageUrl] = useState<string>(src);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<string>(\"\");\n\n  useEffect(() => {\n    // Handle empty or invalid src\n    if (!src || src.trim() === \"\") {\n      setError(true);\n      setLoading(false);\n      return;\n    }\n\n    // Only get signed URL if it's an S3 URL\n    if (src.includes(\"s3\") || src.includes(\"amazonaws.com\")) {\n      getSignedImageUrl(src)\n        .then((signedUrl) => {\n          setImageUrl(signedUrl);\n          setLoading(false);\n        })\n        .catch((err) => {\n          // Fallback to original URL - might work if bucket has public read access\n          setImageUrl(src);\n          setLoading(false);\n        });\n    } else {\n      // Not an S3 URL, use as-is\n      setImageUrl(src);\n      setLoading(false);\n    }\n  }, [src]);\n\n  if (error) {\n    return (\n      <div className={className}>\n        {fallback || (\n          <div className=\"w-full h-full flex items-center justify-center text-gray-400 bg-gray-100\">\n            <svg className=\"w-16 h-16\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <img\n        src={imageUrl}\n        alt={alt}\n        className={className}\n        onError={(e) => {\n          // Silently handle image load errors - don't spam console\n          if (process.env.NODE_ENV === \"development\") {\n            console.warn(\"S3Image: Image failed to load\", imageUrl);\n          }\n          setError(true);\n          setErrorMessage(\"Failed to load image\");\n        }}\n        onLoad={() => {\n          setLoading(false);\n          setError(false);\n        }}\n        style={{ opacity: loading ? 0.5 : 1 }}\n      />\n      {error && process.env.NODE_ENV === \"development\" && (\n        <div className=\"text-xs text-red-500 mt-1\">\n          Image load failed. Check console for details.\n        </div>\n      )}\n    </>\n  );\n}\n\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYO,SAAS,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAgB;IAC1E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,8QAAQ,EAAS;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8QAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8QAAQ,EAAC;IACnC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,8QAAQ,EAAS;IAEzD,IAAA,+QAAS,EAAC;QACR,8BAA8B;QAC9B,IAAI,CAAC,OAAO,IAAI,IAAI,OAAO,IAAI;YAC7B,SAAS;YACT,WAAW;YACX;QACF;QAEA,wCAAwC;QACxC,IAAI,IAAI,QAAQ,CAAC,SAAS,IAAI,QAAQ,CAAC,kBAAkB;YACvD,IAAA,6MAAiB,EAAC,KACf,IAAI,CAAC,CAAC;gBACL,YAAY;gBACZ,WAAW;YACb,GACC,KAAK,CAAC,CAAC;gBACN,yEAAyE;gBACzE,YAAY;gBACZ,WAAW;YACb;QACJ,OAAO;YACL,2BAA2B;YAC3B,YAAY;YACZ,WAAW;QACb;IACF,GAAG;QAAC;KAAI;IAER,IAAI,OAAO;QACT,qBACE,2SAAC;YAAI,WAAW;sBACb,0BACC,2SAAC;gBAAI,WAAU;0BACb,cAAA,2SAAC;oBAAI,WAAU;oBAAY,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BACnE,cAAA,2SAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;;;;;;;;;;;IAMjF;IAEA,qBACE;;0BACE,2SAAC;gBACC,KAAK;gBACL,KAAK;gBACL,WAAW;gBACX,SAAS,CAAC;oBACR,yDAAyD;oBACzD,wCAA4C;wBAC1C,QAAQ,IAAI,CAAC,iCAAiC;oBAChD;oBACA,SAAS;oBACT,gBAAgB;gBAClB;gBACA,QAAQ;oBACN,WAAW;oBACX,SAAS;gBACX;gBACA,OAAO;oBAAE,SAAS,UAAU,MAAM;gBAAE;;;;;;YAErC,SAAS,oDAAyB,+BACjC,2SAAC;gBAAI,WAAU;0BAA4B;;;;;;;;AAMnD"}},
    {"offset": {"line": 1141, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/NewProducts.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs, query, where, orderBy, limit } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport { S3Image } from \"@/components/common/S3Image\";\n\ntype Product = {\n  id: string;\n  title: string;\n  itemType?: string;\n  type?: string;\n  price: number;\n  discountPrice?: number;\n  image?: string;\n  images?: string[];\n  status?: string;\n};\n\nexport function NewProducts() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadProducts();\n  }, []);\n\n  const loadProducts = async () => {\n    try {\n      setLoading(true);\n      console.log(\"Loading new products from Firestore...\");\n      \n      // Get ALL products first (no status filter) to ensure we see everything\n      // Then filter and sort in memory\n      console.log(\"Fetching all products from store_items collection...\");\n      const snapshot = await getDocs(collection(db, \"store_items\"));\n      console.log(`Found ${snapshot.size} products in store_items collection`);\n      \n      const productsData: Array<Product & { createdAt?: any; created_at?: any }> = [];\n      const docsMap = new Map();\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        docsMap.set(doc.id, { doc, data });\n        \n        console.log(`Product ${doc.id}:`, {\n          title: data.title || data.name,\n          status: data.status,\n          itemType: data.itemType || data.type,\n          price: data.price || data.basePrice,\n          hasImage: !!(data.image || data.images?.[0] || data.thumbnailImage)\n        });\n        \n        // Include if status is active, draft, or missing (default to active)\n        // Show draft products too so admin can preview before publishing\n        if (!data.status || data.status === \"active\" || data.status === \"draft\") {\n          productsData.push({\n            id: doc.id,\n            title: data.title || data.name || \"Untitled\",\n            itemType: data.itemType || data.type,\n            type: data.type || data.itemType,\n            price: data.price || data.basePrice || 0,\n            discountPrice: data.discountPrice || data.discount_price || data.compareAtPrice,\n            image: data.image || data.images?.[0] || data.thumbnailImage,\n            images: data.images,\n            status: data.status || \"active\",\n            createdAt: data.createdAt,\n            created_at: data.created_at,\n          });\n        } else {\n          console.log(`Skipping product ${doc.id} - status: ${data.status}`);\n        }\n      });\n\n      // Sort by createdAt (newest first)\n      productsData.sort((a, b) => {\n        const aTime = a.createdAt?.toMillis?.() || \n                     a.created_at?.toMillis?.() || \n                     a.createdAt?.seconds * 1000 ||\n                     a.created_at?.seconds * 1000 || 0;\n        const bTime = b.createdAt?.toMillis?.() || \n                     b.created_at?.toMillis?.() || \n                     b.createdAt?.seconds * 1000 ||\n                     b.created_at?.seconds * 1000 || 0;\n        return bTime - aTime; // Newest first\n      });\n\n      // Limit to 6\n      const finalProducts = productsData.slice(0, 6);\n      console.log(`Displaying ${finalProducts.length} products:`, finalProducts.map(p => p.title));\n      \n      if (finalProducts.length === 0 && snapshot.size > 0) {\n        console.warn(\"‚ö†Ô∏è Products exist in Firestore but none match the display criteria!\");\n        console.warn(\"All products found:\", Array.from(snapshot.docs).map(d => ({\n          id: d.id,\n          title: d.data().title || d.data().name,\n          status: d.data().status,\n          itemType: d.data().itemType || d.data().type,\n          allFields: Object.keys(d.data())\n        })));\n      }\n      \n      setProducts(finalProducts);\n    } catch (error: any) {\n      console.error(\"‚ùå Error loading new products:\", error);\n      console.error(\"Error code:\", error?.code);\n      console.error(\"Error message:\", error?.message);\n      \n      // Check if it's a permissions error\n      if (error?.code === \"permission-denied\") {\n        console.error(\"üö´ Firestore permission denied! Check your Firestore security rules.\");\n        console.error(\"Make sure 'store_items' collection allows read access for unauthenticated users or authenticated users.\");\n      }\n      \n      // Try to get all products without any filters as last resort\n      try {\n        console.log(\"Attempting fallback query...\");\n        const allSnapshot = await getDocs(collection(db, \"store_items\"));\n        console.log(`Fallback: Found ${allSnapshot.size} total products`);\n        const productsData: Product[] = [];\n        allSnapshot.forEach((doc) => {\n          const data = doc.data();\n          productsData.push({\n            id: doc.id,\n            title: data.title || data.name || \"Untitled\",\n            itemType: data.itemType || data.type,\n            type: data.type || data.itemType,\n            price: data.price || data.basePrice || 0,\n            discountPrice: data.discountPrice || data.discount_price || data.compareAtPrice,\n            image: data.image || data.images?.[0] || data.thumbnailImage,\n            images: data.images,\n            status: data.status || \"active\",\n          });\n        });\n        // Sort by createdAt if available\n        productsData.sort((a, b) => 0); // Simple sort\n        setProducts(productsData.slice(0, 6));\n      } catch (fallbackError: any) {\n        console.error(\"‚ùå Complete fallback also failed:\", fallbackError);\n        console.error(\"Fallback error code:\", fallbackError?.code);\n        console.error(\"Fallback error message:\", fallbackError?.message);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat(\"en-IN\", {\n      style: \"currency\",\n      currency: \"INR\",\n      maximumFractionDigits: 0,\n    }).format(price);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"bg-white rounded-lg shadow-md overflow-hidden animate-pulse\">\n            <div className=\"h-48 bg-gray-200\"></div>\n            <div className=\"p-4\">\n              <div className=\"h-4 bg-gray-200 rounded w-20 mb-2\"></div>\n              <div className=\"h-6 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-500\">\n        No new products available at the moment.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n      {products.map((item) => (\n        <Link\n          key={item.id}\n          href={`/item/${item.id}`}\n          className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition\"\n        >\n          <div className=\"h-48 bg-gray-200 relative\">\n            {item.image ? (\n              <S3Image\n                src={item.image}\n                alt={item.title}\n                className=\"w-full h-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\n                No Image\n              </div>\n            )}\n          </div>\n          <div className=\"p-4\">\n            <span className=\"text-xs text-green-600 font-semibold uppercase\">New</span>\n            <h3 className=\"font-semibold text-lg mt-2 line-clamp-2\">{item.title}</h3>\n            <p className=\"text-sm text-gray-500 mt-1 capitalize\">{item.type || item.itemType || \"Product\"}</p>\n            <div className=\"mt-2 flex items-center gap-2\">\n              {item.discountPrice ? (\n                <>\n                  <span className=\"text-xl font-bold text-gray-900\">\n                    {formatPrice(item.discountPrice)}\n                  </span>\n                  <span className=\"text-sm text-gray-500 line-through\">\n                    {formatPrice(item.price)}\n                  </span>\n                </>\n              ) : (\n                <span className=\"text-xl font-bold text-gray-900\">\n                  {formatPrice(item.price)}\n                </span>\n              )}\n            </div>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n}\n\n\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1458, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/ProductCategories.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs, query, where, orderBy } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport type { Category } from \"@/types/store\";\n\nexport function ProductCategories() {\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [itemCounts, setItemCounts] = useState<Record<string, number>>({});\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = async () => {\n    try {\n      setLoading(true);\n      console.log(\"Loading categories from Firestore...\");\n      \n      // Get ALL categories first, then filter and sort in memory\n      // This ensures we see everything regardless of status field\n      console.log(\"Fetching all categories from categories collection...\");\n      const snapshot = await getDocs(collection(db, \"categories\"));\n\n      console.log(`Found ${snapshot.size} categories in Firestore`);\n      const categoriesData: Category[] = [];\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        console.log(`Category ${doc.id}:`, {\n          name: data.name,\n          status: data.status,\n          orderIndex: data.orderIndex\n        });\n        \n        // Include if status is active or if status field doesn't exist (default to active)\n        if (!data.status || data.status === \"active\") {\n          categoriesData.push({\n            categoryId: doc.id,\n            ...data,\n            orderIndex: data.orderIndex || 999,\n            status: data.status || \"active\",\n          } as Category);\n        } else {\n          console.log(`Skipping category ${doc.id} - status: ${data.status}`);\n        }\n      });\n\n      // Sort by orderIndex\n      categoriesData.sort((a, b) => (a.orderIndex || 999) - (b.orderIndex || 999));\n      \n      console.log(`Displaying ${categoriesData.length} active categories:`, categoriesData.map(c => c.name));\n      \n      if (categoriesData.length === 0 && snapshot.size > 0) {\n        console.warn(\"‚ö†Ô∏è Categories exist in Firestore but none match the display criteria!\");\n        console.warn(\"All categories found:\", Array.from(snapshot.docs).map(d => ({\n          id: d.id,\n          name: d.data().name,\n          status: d.data().status,\n          allFields: Object.keys(d.data())\n        })));\n      }\n      \n      setCategories(categoriesData);\n      \n      // Load item counts for each category\n      loadItemCounts(categoriesData);\n    } catch (error: any) {\n      console.error(\"‚ùå Error loading categories:\", error);\n      console.error(\"Error code:\", error?.code);\n      console.error(\"Error message:\", error?.message);\n      \n      // Check if it's a permissions error\n      if (error?.code === \"permission-denied\") {\n        console.error(\"üö´ Firestore permission denied! Check your Firestore security rules.\");\n        console.error(\"Make sure 'categories' collection allows read access for unauthenticated users or authenticated users.\");\n      }\n      \n      console.error(\"Full error:\", JSON.stringify(error, null, 2));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadItemCounts = async (cats: Category[]) => {\n    try {\n      // Get all store items\n      const itemsSnapshot = await getDocs(collection(db, \"store_items\"));\n      const counts: Record<string, number> = {};\n      \n      itemsSnapshot.forEach((doc) => {\n        const data = doc.data();\n        const categoryId = data.categoryId || data.category;\n        if (categoryId) {\n          counts[categoryId] = (counts[categoryId] || 0) + 1;\n        }\n      });\n      \n      setItemCounts(counts);\n    } catch (error) {\n      console.error(\"Error loading item counts:\", error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <section className=\"bg-white py-8\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-xl font-bold mb-4\">Our Categories</h2>\n          <div className=\"text-center py-4 text-gray-500\">Loading categories...</div>\n        </div>\n      </section>\n    );\n  }\n\n  if (categories.length === 0) {\n    return (\n      <section className=\"bg-white py-8\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-xl font-bold mb-4\">Our Categories</h2>\n          <div className=\"text-center py-4 text-yellow-600 bg-yellow-50 px-4 py-2 rounded border border-yellow-200\">\n            No categories found. <a href=\"/admin/store-items/categories/new\" className=\"text-blue-600 underline\">Create categories in admin panel</a>\n          </div>\n        </div>\n      </section>\n    );\n  }\n\n  return (\n    <section className=\"bg-white py-8\">\n      <div className=\"container mx-auto px-4\">\n        <h2 className=\"text-xl font-bold mb-4\">Our Categories</h2>\n        <div className=\"flex gap-3 overflow-x-auto pb-2\">\n          {categories.map((cat) => (\n            <Link\n              key={cat.categoryId}\n              href={`/category/${cat.slug || cat.categoryId}`}\n              className=\"min-w-[140px] bg-gray-100 rounded-2xl px-4 py-3 flex flex-col justify-center hover:bg-gray-200 transition\"\n            >\n              <span className=\"text-sm font-semibold text-gray-900\">\n                {cat.name}\n              </span>\n              <span className=\"text-[11px] text-gray-500\">\n                {itemCounts[cat.categoryId] || 0} items\n              </span>\n            </Link>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAQO,SAAS;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,8QAAQ,EAAa,EAAE;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8QAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,8QAAQ,EAAyB,CAAC;IAEtE,IAAA,+QAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,iBAAiB;QACrB,IAAI;YACF,WAAW;YACX,QAAQ,GAAG,CAAC;YAEZ,2DAA2D;YAC3D,4DAA4D;YAC5D,QAAQ,GAAG,CAAC;YACZ,MAAM,WAAW,MAAM,IAAA,yOAAO,EAAC,IAAA,4OAAU,EAAC,+LAAE,EAAE;YAE9C,QAAQ,GAAG,CAAC,CAAC,MAAM,EAAE,SAAS,IAAI,CAAC,wBAAwB,CAAC;YAC5D,MAAM,iBAA6B,EAAE;YAErC,SAAS,OAAO,CAAC,CAAC;gBAChB,MAAM,OAAO,IAAI,IAAI;gBACrB,QAAQ,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE;oBACjC,MAAM,KAAK,IAAI;oBACf,QAAQ,KAAK,MAAM;oBACnB,YAAY,KAAK,UAAU;gBAC7B;gBAEA,mFAAmF;gBACnF,IAAI,CAAC,KAAK,MAAM,IAAI,KAAK,MAAM,KAAK,UAAU;oBAC5C,eAAe,IAAI,CAAC;wBAClB,YAAY,IAAI,EAAE;wBAClB,GAAG,IAAI;wBACP,YAAY,KAAK,UAAU,IAAI;wBAC/B,QAAQ,KAAK,MAAM,IAAI;oBACzB;gBACF,OAAO;oBACL,QAAQ,GAAG,CAAC,CAAC,kBAAkB,EAAE,IAAI,EAAE,CAAC,WAAW,EAAE,KAAK,MAAM,EAAE;gBACpE;YACF;YAEA,qBAAqB;YACrB,eAAe,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,EAAE,UAAU,IAAI,GAAG,IAAI,CAAC,EAAE,UAAU,IAAI,GAAG;YAE1E,QAAQ,GAAG,CAAC,CAAC,WAAW,EAAE,eAAe,MAAM,CAAC,mBAAmB,CAAC,EAAE,eAAe,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;YAEpG,IAAI,eAAe,MAAM,KAAK,KAAK,SAAS,IAAI,GAAG,GAAG;gBACpD,QAAQ,IAAI,CAAC;gBACb,QAAQ,IAAI,CAAC,yBAAyB,MAAM,IAAI,CAAC,SAAS,IAAI,EAAE,GAAG,CAAC,CAAA,IAAK,CAAC;wBACxE,IAAI,EAAE,EAAE;wBACR,MAAM,EAAE,IAAI,GAAG,IAAI;wBACnB,QAAQ,EAAE,IAAI,GAAG,MAAM;wBACvB,WAAW,OAAO,IAAI,CAAC,EAAE,IAAI;oBAC/B,CAAC;YACH;YAEA,cAAc;YAEd,qCAAqC;YACrC,eAAe;QACjB,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,QAAQ,KAAK,CAAC,eAAe,OAAO;YACpC,QAAQ,KAAK,CAAC,kBAAkB,OAAO;YAEvC,oCAAoC;YACpC,IAAI,OAAO,SAAS,qBAAqB;gBACvC,QAAQ,KAAK,CAAC;gBACd,QAAQ,KAAK,CAAC;YAChB;YAEA,QAAQ,KAAK,CAAC,eAAe,KAAK,SAAS,CAAC,OAAO,MAAM;QAC3D,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,iBAAiB,OAAO;QAC5B,IAAI;YACF,sBAAsB;YACtB,MAAM,gBAAgB,MAAM,IAAA,yOAAO,EAAC,IAAA,4OAAU,EAAC,+LAAE,EAAE;YACnD,MAAM,SAAiC,CAAC;YAExC,cAAc,OAAO,CAAC,CAAC;gBACrB,MAAM,OAAO,IAAI,IAAI;gBACrB,MAAM,aAAa,KAAK,UAAU,IAAI,KAAK,QAAQ;gBACnD,IAAI,YAAY;oBACd,MAAM,CAAC,WAAW,GAAG,CAAC,MAAM,CAAC,WAAW,IAAI,CAAC,IAAI;gBACnD;YACF;YAEA,cAAc;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;QAC9C;IACF;IAEA,IAAI,SAAS;QACX,qBACE,2SAAC;YAAQ,WAAU;sBACjB,cAAA,2SAAC;gBAAI,WAAU;;kCACb,2SAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,2SAAC;wBAAI,WAAU;kCAAiC;;;;;;;;;;;;;;;;;IAIxD;IAEA,IAAI,WAAW,MAAM,KAAK,GAAG;QAC3B,qBACE,2SAAC;YAAQ,WAAU;sBACjB,cAAA,2SAAC;gBAAI,WAAU;;kCACb,2SAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,2SAAC;wBAAI,WAAU;;4BAA2F;0CACnF,2SAAC;gCAAE,MAAK;gCAAoC,WAAU;0CAA0B;;;;;;;;;;;;;;;;;;;;;;;IAK/G;IAEA,qBACE,2SAAC;QAAQ,WAAU;kBACjB,cAAA,2SAAC;YAAI,WAAU;;8BACb,2SAAC;oBAAG,WAAU;8BAAyB;;;;;;8BACvC,2SAAC;oBAAI,WAAU;8BACZ,WAAW,GAAG,CAAC,CAAC,oBACf,2SAAC,oOAAI;4BAEH,MAAM,CAAC,UAAU,EAAE,IAAI,IAAI,IAAI,IAAI,UAAU,EAAE;4BAC/C,WAAU;;8CAEV,2SAAC;oCAAK,WAAU;8CACb,IAAI,IAAI;;;;;;8CAEX,2SAAC;oCAAK,WAAU;;wCACb,UAAU,CAAC,IAAI,UAAU,CAAC,IAAI;wCAAE;;;;;;;;2BAR9B,IAAI,UAAU;;;;;;;;;;;;;;;;;;;;;AAgBjC"}},
    {"offset": {"line": 1700, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/BestSellingProducts.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs, query, where, orderBy, limit } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport { S3Image } from \"@/components/common/S3Image\";\n\ntype Product = {\n  id: string;\n  title: string;\n  itemType?: string;\n  type?: string;\n  price: number;\n  discountPrice?: number;\n  image?: string;\n  images?: string[];\n  status?: string;\n  salesCount?: number;\n  sales_count?: number;\n};\n\nexport function BestSellingProducts() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadProducts();\n  }, []);\n\n  const loadProducts = async () => {\n    try {\n      setLoading(true);\n      // Get ALL products first, then filter and sort in memory\n      console.log(\"Fetching all products for best sellers...\");\n      const snapshot = await getDocs(collection(db, \"store_items\"));\n      console.log(`Found ${snapshot.size} products in store_items collection`);\n      \n      const productsData: Product[] = [];\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        console.log(`Product ${doc.id}:`, {\n          title: data.title || data.name,\n          status: data.status,\n          salesCount: data.salesCount || data.sales_count\n        });\n        \n        // Include if status is active, draft, or missing\n        if (!data.status || data.status === \"active\" || data.status === \"draft\") {\n          productsData.push({\n            id: doc.id,\n            title: data.title || data.name || \"Untitled\",\n            itemType: data.itemType || data.type,\n            type: data.type || data.itemType,\n            price: data.price || data.basePrice || 0,\n            discountPrice: data.discountPrice || data.discount_price || data.compareAtPrice,\n            image: data.image || data.images?.[0] || data.thumbnailImage,\n            images: data.images,\n            status: data.status || \"active\",\n            salesCount: data.salesCount || data.sales_count || 0,\n            sales_count: data.sales_count || data.salesCount || 0,\n          });\n        }\n      });\n\n      // Sort by sales count if not already sorted\n      productsData.sort((a, b) => {\n        const salesA = a.salesCount || a.sales_count || 0;\n        const salesB = b.salesCount || b.sales_count || 0;\n        return salesB - salesA;\n      });\n\n      // Limit to 6\n      setProducts(productsData.slice(0, 6));\n    } catch (error) {\n      console.error(\"Error loading best selling products:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat(\"en-IN\", {\n      style: \"currency\",\n      currency: \"INR\",\n      maximumFractionDigits: 0,\n    }).format(price);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"bg-white rounded-lg shadow-md overflow-hidden animate-pulse\">\n            <div className=\"h-48 bg-gray-200\"></div>\n            <div className=\"p-4\">\n              <div className=\"h-6 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-500\">\n        No best selling products available at the moment.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n      {products.map((item) => (\n        <Link\n          key={item.id}\n          href={`/item/${item.id}`}\n          className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition\"\n        >\n          <div className=\"h-48 bg-gray-200 relative\">\n            {item.image ? (\n              <S3Image\n                src={item.image}\n                alt={item.title}\n                className=\"w-full h-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\n                No Image\n              </div>\n            )}\n            <span className=\"absolute top-2 left-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded text-xs font-bold\">\n              üî• Best Seller\n            </span>\n          </div>\n          <div className=\"p-4\">\n            <h3 className=\"font-semibold text-lg mt-2 line-clamp-2\">{item.title}</h3>\n            <p className=\"text-sm text-gray-500\">\n              {(item.salesCount || item.sales_count || 0)}+ sold\n            </p>\n            <div className=\"mt-2 flex items-center gap-2\">\n              {item.discountPrice ? (\n                <>\n                  <span className=\"text-xl font-bold text-gray-900\">\n                    {formatPrice(item.discountPrice)}\n                  </span>\n                  <span className=\"text-sm text-gray-500 line-through\">\n                    {formatPrice(item.price)}\n                  </span>\n                </>\n              ) : (\n                <span className=\"text-xl font-bold text-gray-900\">\n                  {formatPrice(item.price)}\n                </span>\n              )}\n            </div>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n}\n\n\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1974, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/RecommendedProducts.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { useSearchParams } from \"next/navigation\";\nimport { collection, getDocs, query, where, limit } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport { S3Image } from \"@/components/common/S3Image\";\n\ntype Product = {\n  id: string;\n  title: string;\n  itemType?: string;\n  type?: string;\n  price: number;\n  discountPrice?: number;\n  image?: string;\n  images?: string[];\n  status?: string;\n  featured?: boolean;\n};\n\nexport function RecommendedProducts() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const searchParams = useSearchParams();\n  const search = searchParams.get(\"search\")?.trim() || \"\";\n\n  useEffect(() => {\n    loadProducts();\n    // Re-run whenever search query changes so recommendations refresh\n  }, [search]);\n\n  const loadProducts = async () => {\n    try {\n      setLoading(true);\n      // Get ALL products first, then filter and sort in memory\n      console.log(\"Fetching all products for recommendations...\");\n      const snapshot = await getDocs(collection(db, \"store_items\"));\n      const productsData: Product[] = [];\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        // Include if status is active, draft, or missing\n        if (!data.status || data.status === \"active\" || data.status === \"draft\") {\n          productsData.push({\n            id: doc.id,\n            title: data.title || data.name || \"Untitled\",\n            itemType: data.itemType || data.type,\n            type: data.type || data.itemType,\n            price: data.price || 0,\n            discountPrice: data.discountPrice || data.discount_price,\n            image: data.image || data.images?.[0],\n            images: data.images,\n            status: data.status || \"active\",\n            featured: data.featured || false,\n          });\n        }\n      });\n\n      const MAX_RECOMMENDATIONS = 6;\n      let finalProducts: Product[] = [];\n\n      // If user searched something, bias recommendations to that search\n      if (search) {\n        const queryLower = search.toLowerCase();\n\n        // 1) Products that match the search\n        const searchMatches = productsData.filter((p) => {\n          const title = (p.title || \"\").toLowerCase();\n          const type = (p.type || p.itemType || \"\").toLowerCase();\n          return title.includes(queryLower) || type.includes(queryLower);\n        });\n\n        const selected: Product[] = [];\n        const usedIds = new Set<string>();\n\n        // Add up to MAX_RECOMMENDATIONS matching search\n        for (const p of searchMatches) {\n          if (selected.length >= MAX_RECOMMENDATIONS) break;\n          if (!usedIds.has(p.id)) {\n            selected.push(p);\n            usedIds.add(p.id);\n          }\n        }\n\n        // 2) Fill remaining slots with other products (no duplicates)\n        if (selected.length < MAX_RECOMMENDATIONS) {\n          for (const p of productsData) {\n            if (selected.length >= MAX_RECOMMENDATIONS) break;\n            if (!usedIds.has(p.id)) {\n              selected.push(p);\n              usedIds.add(p.id);\n            }\n          }\n        }\n\n        finalProducts = selected;\n      } else {\n        // No search term ‚Äì keep original behaviour (featured ‚Üí first products)\n        const featuredProducts = productsData.filter((p) => p.featured);\n        finalProducts =\n          featuredProducts.length >= 3\n            ? featuredProducts.slice(0, MAX_RECOMMENDATIONS)\n            : productsData.slice(0, MAX_RECOMMENDATIONS);\n      }\n\n      console.log(`Displaying ${finalProducts.length} recommended products`);\n      setProducts(finalProducts);\n    } catch (error) {\n      console.error(\"Error loading recommended products:\", error);\n      // Fallback: get all products without filter\n      try {\n        const q = query(collection(db, \"store_items\"), limit(12));\n        const snapshot = await getDocs(q);\n        const productsData: Product[] = [];\n        snapshot.forEach((doc) => {\n          const data = doc.data();\n          productsData.push({\n            id: doc.id,\n            title: data.title || data.name || \"Untitled\",\n            itemType: data.itemType || data.type,\n            type: data.type || data.itemType,\n            price: data.price || 0,\n            discountPrice: data.discountPrice || data.discount_price,\n            image: data.image || data.images?.[0],\n            images: data.images,\n            status: data.status || \"active\",\n            featured: data.featured || false,\n          });\n        });\n        setProducts(productsData.slice(0, 6));\n      } catch (fallbackError) {\n        console.error(\"Fallback query also failed:\", fallbackError);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat(\"en-IN\", {\n      style: \"currency\",\n      currency: \"INR\",\n      maximumFractionDigits: 0,\n    }).format(price);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"bg-white rounded-lg shadow-md overflow-hidden animate-pulse\">\n            <div className=\"h-48 bg-gray-200\"></div>\n            <div className=\"p-4\">\n              <div className=\"h-4 bg-gray-200 rounded w-24 mb-2\"></div>\n              <div className=\"h-6 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-500\">\n        No recommended products available at the moment.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n      {products.map((item) => (\n        <Link\n          key={item.id}\n          href={`/item/${item.id}`}\n          className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition\"\n        >\n          <div className=\"h-48 bg-gray-200 relative\">\n            {item.image ? (\n              <S3Image\n                src={item.image}\n                alt={item.title}\n                className=\"w-full h-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\n                No Image\n              </div>\n            )}\n          </div>\n          <div className=\"p-4\">\n            <span className=\"text-xs text-purple-600 font-semibold uppercase\">Recommended</span>\n            <h3 className=\"font-semibold text-lg mt-2 line-clamp-2\">{item.title}</h3>\n            <p className=\"text-sm text-gray-500 mt-1 capitalize\">{item.type || item.itemType || \"Product\"}</p>\n            <div className=\"mt-2 flex items-center gap-2\">\n              {item.discountPrice ? (\n                <>\n                  <span className=\"text-xl font-bold text-gray-900\">\n                    {formatPrice(item.discountPrice)}\n                  </span>\n                  <span className=\"text-sm text-gray-500 line-through\">\n                    {formatPrice(item.price)}\n                  </span>\n                </>\n              ) : (\n                <span className=\"text-xl font-bold text-gray-900\">\n                  {formatPrice(item.price)}\n                </span>\n              )}\n            </div>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n}\n\n\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2287, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/OffersPromotions.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\n\ntype HomepageOffer = {\n  id: string;\n  title: string;\n  subtitle: string;\n  discount: number;\n  expiresAt: string;\n  ctaLabel: string;\n  ctaUrl: string;\n  videoUrl?: string;\n  enabled: boolean;\n  displayOrder: number;\n};\n\n// Default shopping-related video URLs (can be replaced by admin)\n// Using reliable sample videos from Google's test bucket\nconst DEFAULT_SHOPPING_VIDEOS = [\n  \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\", // Sample video 1\n  \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4\", // Sample video 2\n];\n\nconst DEFAULT_OFFERS: HomepageOffer[] = [\n  {\n    id: \"1\",\n    title: \"Flash Sale: 50% Off\",\n    subtitle: \"All courses this week\",\n    discount: 50,\n    expiresAt: \"2024-12-31\",\n    ctaLabel: \"Shop Now\",\n    ctaUrl: \"/offers/1\",\n    videoUrl: DEFAULT_SHOPPING_VIDEOS[0],\n    enabled: true,\n    displayOrder: 1,\n  },\n  {\n    id: \"2\",\n    title: \"Buy 2 Get 1 Free\",\n    subtitle: \"On selected workshops\",\n    discount: 33,\n    expiresAt: \"2024-12-25\",\n    ctaLabel: \"Shop Now\",\n    ctaUrl: \"/offers/2\",\n    videoUrl: DEFAULT_SHOPPING_VIDEOS[1],\n    enabled: true,\n    displayOrder: 2,\n  },\n];\n\nexport function OffersPromotions() {\n  // Start with the original hard-coded orange cards\n  const [offers, setOffers] = useState<HomepageOffer[]>(DEFAULT_OFFERS);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadOffers = async () => {\n      try {\n        setLoading(true);\n        // Simple fetch: get all docs, then filter/sort in memory (avoids index issues)\n        const snapshot = await getDocs(collection(db, \"homepage_offers\"));\n        const data: HomepageOffer[] = [];\n        snapshot.forEach((d) => {\n          const docData = d.data() as any;\n          data.push({\n            id: d.id || \"\",\n            title: docData.title || \"\",\n            subtitle: docData.subtitle || \"\",\n            discount: Number(docData.discount) || 0,\n            expiresAt: docData.expiresAt || \"\",\n            ctaLabel: docData.ctaLabel || \"Shop Now\",\n            ctaUrl: docData.ctaUrl || \"/\",\n            videoUrl: docData.videoUrl || \"\",\n            enabled: docData.enabled !== false,\n            displayOrder: docData.displayOrder ?? 1,\n          });\n        });\n        // Only keep enabled cards, sort by displayOrder\n        const enabled = data\n          .filter((card) => card.enabled)\n          .sort((a, b) => (a.displayOrder || 0) - (b.displayOrder || 0));\n        \n        // Always ensure we have exactly 2 cards with videos\n        let finalOffers: HomepageOffer[] = [];\n        if (enabled.length >= 2) {\n          // Use first 2 from Firestore, ensure videos are set\n          finalOffers = enabled.slice(0, 2).map((offer, idx) => ({\n            ...offer,\n            videoUrl: offer.videoUrl || DEFAULT_SHOPPING_VIDEOS[idx] || DEFAULT_SHOPPING_VIDEOS[0],\n          }));\n        } else if (enabled.length === 1) {\n          // Use the one from Firestore + one default (with video if missing)\n          const first = {\n            ...enabled[0],\n            videoUrl: enabled[0].videoUrl || DEFAULT_SHOPPING_VIDEOS[0],\n          };\n          const second = {\n            ...DEFAULT_OFFERS[1],\n            videoUrl: DEFAULT_OFFERS[1].videoUrl || DEFAULT_SHOPPING_VIDEOS[1],\n          };\n          finalOffers = [first, second];\n        } else {\n          // Use both defaults (ensure videos are set)\n          finalOffers = DEFAULT_OFFERS.map((offer, idx) => ({\n            ...offer,\n            videoUrl: offer.videoUrl || DEFAULT_SHOPPING_VIDEOS[idx] || DEFAULT_SHOPPING_VIDEOS[0],\n          }));\n        }\n        \n        setOffers(finalOffers);\n      } catch (error) {\n        console.error(\"Error loading homepage offers:\", error);\n        // On error, use defaults\n        setOffers(DEFAULT_OFFERS);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadOffers();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {[1, 2].map((i) => (\n          <div\n            key={i}\n            className=\"bg-gradient-to-br from-red-500 to-orange-500 text-white rounded-lg p-8 relative overflow-hidden animate-pulse\"\n          >\n            <div className=\"h-32\"></div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n      {offers.slice(0, 2).map((offer, index) => {\n        const videoUrl = offer.videoUrl || DEFAULT_SHOPPING_VIDEOS[index] || DEFAULT_SHOPPING_VIDEOS[0];\n        return (\n          <div\n            key={offer.id}\n            className=\"bg-gradient-to-br from-red-500 to-orange-500 text-white rounded-lg p-8 relative overflow-hidden shadow-lg min-h-[300px]\"\n          >\n            {/* Video Background */}\n            <video\n              autoPlay\n              loop\n              muted\n              playsInline\n              className=\"absolute inset-0 w-full h-full object-cover\"\n              style={{ opacity: 0.4 }}\n              onError={(e) => {\n                console.error(\"Video failed to load:\", videoUrl);\n                // Fallback to default if video fails\n                const videoElement = e.target as HTMLVideoElement;\n                if (videoElement.src !== DEFAULT_SHOPPING_VIDEOS[0]) {\n                  videoElement.src = DEFAULT_SHOPPING_VIDEOS[0];\n                }\n              }}\n            >\n              <source src={videoUrl} type=\"video/mp4\" />\n              Your browser does not support the video tag.\n            </video>\n            {/* Gradient Overlay for better text readability */}\n            <div className=\"absolute inset-0 bg-gradient-to-br from-red-500/70 to-orange-500/70 z-0\" />\n            \n            {/* Content */}\n            <div className=\"relative z-10\">\n              <div className=\"text-5xl font-bold mb-2 drop-shadow-lg\">{offer.discount}% OFF</div>\n              <h3 className=\"text-2xl font-bold mb-2 drop-shadow-lg\">{offer.title}</h3>\n              <p className=\"text-lg opacity-90 mb-4 drop-shadow\">{offer.subtitle}</p>\n              <Link\n                href={offer.ctaUrl || \"/\"}\n                className=\"inline-block px-6 py-2 bg-white text-red-600 rounded-lg font-semibold hover:bg-gray-100 transition shadow-lg\"\n              >\n                {offer.ctaLabel || \"Shop Now\"}\n              </Link>\n              {offer.expiresAt && (\n                <p className=\"text-sm mt-4 opacity-90 drop-shadow\">Expires: {offer.expiresAt}</p>\n              )}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2549, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/home/NewsletterSubscription.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\n// Email opt-in, WhatsApp opt-in (Stored in subscriptions collection)\nexport function NewsletterSubscription() {\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [subscribed, setSubscribed] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    // TODO: Save to Firestore subscriptions collection\n    console.log(\"Subscribe:\", { email, phone });\n    setSubscribed(true);\n    setTimeout(() => setSubscribed(false), 3000);\n  };\n\n  return (\n    <div className=\"max-w-3xl mx-auto\">\n      <div className=\"rounded-2xl border border-gray-800/60 bg-gray-900/70 px-5 py-6 md:px-8 md:py-7 shadow-lg\">\n        <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n          {/* Left: compact copy */}\n          <div className=\"max-w-md\">\n            <p className=\"text-[11px] font-semibold uppercase tracking-wide text-blue-300 mb-1\">\n              Stay updated\n            </p>\n            <h2 className=\"text-xl md:text-2xl font-bold text-white\">\n              Get new courses & offers in your inbox.\n            </h2>\n            <p className=\"mt-1 text-xs md:text-sm text-gray-300/90\">\n              Join the list for launch alerts, live class reminders, and member-only discounts.\n            </p>\n          </div>\n\n          {/* Right: slimmer form */}\n          <form\n            onSubmit={handleSubmit}\n            className=\"mt-3 md:mt-0 w-full md:w-auto flex flex-col gap-2\"\n          >\n            <div className=\"flex flex-col md:flex-row md:items-center gap-2\">\n              <input\n                type=\"email\"\n                placeholder=\"Email address\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full md:w-56 rounded-full border border-gray-700 bg-gray-800 px-3 py-2 text-xs md:text-sm text-white placeholder:text-gray-400 focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-400/70\"\n                required\n              />\n              <div className=\"flex gap-2\">\n                <span className=\"hidden md:inline-flex items-center rounded-full border border-gray-700 bg-gray-800 px-3 text-xs text-gray-400\">\n                  +91\n                </span>\n                <input\n                  type=\"tel\"\n                  placeholder=\"WhatsApp (optional)\"\n                  value={phone}\n                  onChange={(e) => setPhone(e.target.value)}\n                  className=\"w-full md:w-40 rounded-full border border-gray-700 bg-gray-800 px-3 py-2 text-xs md:text-sm text-white placeholder:text-gray-400 focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-400/70\"\n                />\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <button\n                type=\"submit\"\n                className=\"inline-flex items-center justify-center rounded-full bg-blue-500 px-4 py-2 text-xs md:text-sm font-semibold text-white shadow-sm transition hover:bg-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-300\"\n              >\n                {subscribed ? \"‚úì Subscribed\" : \"Subscribe\"}\n              </button>\n              <p className=\"text-[10px] text-gray-400\">\n                No spam. Unsubscribe with one click.\n              </p>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n\n\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKO,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8QAAQ,EAAC;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8QAAQ,EAAC;IACnC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,8QAAQ,EAAC;IAE7C,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,mDAAmD;QACnD,QAAQ,GAAG,CAAC,cAAc;YAAE;YAAO;QAAM;QACzC,cAAc;QACd,WAAW,IAAM,cAAc,QAAQ;IACzC;IAEA,qBACE,2SAAC;QAAI,WAAU;kBACb,cAAA,2SAAC;YAAI,WAAU;sBACb,cAAA,2SAAC;gBAAI,WAAU;;kCAEb,2SAAC;wBAAI,WAAU;;0CACb,2SAAC;gCAAE,WAAU;0CAAuE;;;;;;0CAGpF,2SAAC;gCAAG,WAAU;0CAA2C;;;;;;0CAGzD,2SAAC;gCAAE,WAAU;0CAA2C;;;;;;;;;;;;kCAM1D,2SAAC;wBACC,UAAU;wBACV,WAAU;;0CAEV,2SAAC;gCAAI,WAAU;;kDACb,2SAAC;wCACC,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,WAAU;wCACV,QAAQ;;;;;;kDAEV,2SAAC;wCAAI,WAAU;;0DACb,2SAAC;gDAAK,WAAU;0DAAgH;;;;;;0DAGhI,2SAAC;gDACC,MAAK;gDACL,aAAY;gDACZ,OAAO;gDACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gDACxC,WAAU;;;;;;;;;;;;;;;;;;0CAIhB,2SAAC;gCAAI,WAAU;;kDACb,2SAAC;wCACC,MAAK;wCACL,WAAU;kDAET,aAAa,iBAAiB;;;;;;kDAEjC,2SAAC;wCAAE,WAAU;kDAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASvD"}},
    {"offset": {"line": 2718, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/layout/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { onAuthStateChanged, signOut, type User } from \"firebase/auth\";\nimport { auth, db } from \"@/lib/firebaseClient\";\nimport { collection, getDocs } from \"firebase/firestore\";\n\ntype SearchItem = {\n  id: string;\n  title: string;\n  type?: string;\n};\n\nexport function Header() {\n  const pathname = usePathname();\n  const router = useRouter();\n\n  const [search, setSearch] = useState(\"\");\n  const [user, setUser] = useState<User | null>(null);\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const [allItems, setAllItems] = useState<SearchItem[]>([]);\n  const [suggestionsOpen, setSuggestionsOpen] = useState(false);\n\n  // Decide what we are searching based on current page\n  const isClassesPage = pathname?.startsWith(\"/classes\");\n  const searchPlaceholder = isClassesPage\n    ? \"Search courses\"\n    : \"Search products\";\n\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, (u) => setUser(u));\n    return () => unsub();\n  }, []);\n\n  // Load a lightweight list of products once for search suggestions\n  useEffect(() => {\n    const loadItems = async () => {\n      try {\n        const snapshot = await getDocs(collection(db, \"store_items\"));\n        const items: SearchItem[] = [];\n        snapshot.forEach((doc) => {\n          const data = doc.data() as any;\n          const title = (data.title || data.name || \"\").toString();\n          if (!title) return;\n          items.push({\n            id: doc.id,\n            title,\n            type: data.type || data.itemType,\n          });\n        });\n        setAllItems(items);\n      } catch (error) {\n        console.error(\"Error loading items for search suggestions:\", error);\n      }\n    };\n    loadItems();\n  }, []);\n\n  const filteredSuggestions = useMemo(() => {\n    const term = search.trim().toLowerCase();\n    if (!term) return [];\n    return allItems\n      .filter((item) => item.title.toLowerCase().includes(term))\n      .slice(0, 7);\n  }, [allItems, search]);\n\n  const handleSearchSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    const term = search.trim();\n    if (!term) return;\n\n    const query = encodeURIComponent(term);\n    if (isClassesPage) {\n      router.push(`/classes?search=${query}`);\n    } else {\n      router.push(`/?search=${query}`);\n    }\n  };\n\n  const handleSuggestionClick = (item: SearchItem) => {\n    setSuggestionsOpen(false);\n    setSearch(item.title);\n    // Go directly to product detail for a more \"Google result\" feel\n    router.push(`/item/${item.id}`);\n  };\n\n  const handleLogout = async () => {\n    await signOut(auth);\n    setShowUserMenu(false);\n    router.push(\"/\");\n  };\n\n  return (\n    <header className=\"bg-white/90 backdrop-blur-md border-b border-gray-100 sticky top-0 z-50\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex items-center justify-between h-16 gap-4\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"text-xl md:text-2xl font-bold text-gray-900\">\n            Veena LMS\n          </Link>\n\n          {/* Center search bar */}\n          <form\n            onSubmit={handleSearchSubmit}\n            className=\"hidden md:flex flex-1 max-w-xl mx-4\"\n          >\n            <div className=\"relative w-full\">\n              <input\n                type=\"text\"\n                value={search}\n                onChange={(e) => {\n                  setSearch(e.target.value);\n                  setSuggestionsOpen(true);\n                }}\n                placeholder={searchPlaceholder}\n                className=\"w-full rounded-full border border-gray-200 bg-gray-50 px-4 py-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500/60\"\n              />\n              <button\n                type=\"submit\"\n                className=\"absolute right-1 top-1 bottom-1 px-4 rounded-full bg-black text-white text-xs font-semibold hover:bg-gray-900\"\n              >\n                Search\n              </button>\n\n              {/* Desktop suggestions dropdown */}\n              {suggestionsOpen && filteredSuggestions.length > 0 && (\n                <div className=\"absolute left-0 right-0 top-full mt-1 rounded-2xl border border-gray-200 bg-white shadow-lg z-40\">\n                  <ul className=\"max-h-72 overflow-y-auto py-1 text-sm\">\n                    {filteredSuggestions.map((item) => (\n                      <li key={item.id}>\n                        <button\n                          type=\"button\"\n                          onClick={() => handleSuggestionClick(item)}\n                          className=\"flex w-full items-center justify-between px-3 py-2 hover:bg-gray-50\"\n                        >\n                          <span className=\"truncate text-left text-gray-800\">\n                            {item.title}\n                          </span>\n                          {item.type && (\n                            <span className=\"ml-2 rounded-full bg-gray-100 px-2 py-0.5 text-[10px] uppercase tracking-wide text-gray-500\">\n                              {item.type}\n                            </span>\n                          )}\n                        </button>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n            </div>\n          </form>\n\n          {/* Right side: nav + icons */}\n          <div className=\"flex items-center gap-4\">\n            {/* Desktop navigation */}\n            <nav className=\"hidden md:flex items-center gap-4\">\n              <Link\n                href=\"/\"\n                className={`text-sm font-medium ${\n                  pathname === \"/\"\n                    ? \"text-blue-600\"\n                    : \"text-gray-700 hover:text-blue-600\"\n                }`}\n              >\n                Shop\n              </Link>\n              <Link\n                href=\"/classes\"\n                className={`text-sm font-medium ${\n                  pathname?.startsWith(\"/classes\")\n                    ? \"text-blue-600\"\n                    : \"text-gray-700 hover:text-blue-600\"\n                }`}\n              >\n                Classes\n              </Link>\n            </nav>\n\n          {/* Cart icon */}\n          <Link\n            href=\"/cart\"\n            className=\"relative inline-flex h-9 w-9 items-center justify-center rounded-full border border-gray-200 text-gray-700 hover:bg-gray-100\"\n          >\n            <span className=\"text-lg\">üõí</span>\n          </Link>\n\n            {/* User section */}\n            {!user ? (\n              <Link\n                href=\"/login\"\n                className=\"flex items-center h-9 px-3 rounded-full border border-gray-200 text-sm font-medium text-gray-700 hover:bg-gray-100\"\n              >\n                <span className=\"mr-2 text-base\">üë§</span>\n                <span>Login / Sign up</span>\n              </Link>\n            ) : (\n              <div className=\"relative\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowUserMenu((v) => !v)}\n                  className=\"flex items-center h-9 px-3 rounded-full border border-gray-200 text-sm font-medium text-gray-700 hover:bg-gray-100\"\n                >\n                  <span className=\"mr-2 text-base\">üë§</span>\n                  <span className=\"max-w-[120px] truncate\">\n                    {user.displayName || user.email || \"Account\"}\n                  </span>\n                </button>\n                {showUserMenu && (\n                  <div className=\"absolute right-0 mt-2 w-48 rounded-xl border border-gray-200 bg-white shadow-lg text-sm\">\n                    <Link\n                      href=\"/dashboard\"\n                      className=\"block px-4 py-2 hover:bg-gray-50\"\n                      onClick={() => setShowUserMenu(false)}\n                    >\n                      Dashboard\n                    </Link>\n                    <Link\n                      href=\"/orders\"\n                      className=\"block px-4 py-2 hover:bg-gray-50\"\n                      onClick={() => setShowUserMenu(false)}\n                    >\n                      Orders\n                    </Link>\n                    <button\n                      type=\"button\"\n                      onClick={handleLogout}\n                      className=\"w-full text-left px-4 py-2 hover:bg-gray-50 text-red-600\"\n                    >\n                      Logout\n                    </button>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Mobile search bar */}\n        <form onSubmit={handleSearchSubmit} className=\"md:hidden pb-3\">\n          <div className=\"relative\">\n            <input\n              type=\"text\"\n              value={search}\n              onChange={(e) => {\n                setSearch(e.target.value);\n                setSuggestionsOpen(true);\n              }}\n              placeholder={searchPlaceholder}\n              className=\"w-full rounded-full border border-gray-200 bg-gray-50 px-4 py-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500/60\"\n            />\n            <button\n              type=\"submit\"\n              className=\"absolute right-1 top-1 bottom-1 px-4 rounded-full bg-black text-white text-xs font-semibold hover:bg-gray-900\"\n            >\n              Go\n            </button>\n\n            {/* Mobile suggestions dropdown */}\n            {suggestionsOpen && filteredSuggestions.length > 0 && (\n              <div className=\"absolute left-0 right-0 top-full mt-1 rounded-2xl border border-gray-200 bg-white shadow-lg z-40\">\n                <ul className=\"max-h-72 overflow-y-auto py-1 text-sm\">\n                  {filteredSuggestions.map((item) => (\n                    <li key={item.id}>\n                      <button\n                        type=\"button\"\n                        onClick={() => handleSuggestionClick(item)}\n                        className=\"flex w-full items-center justify-between px-3 py-2 hover:bg-gray-50\"\n                      >\n                        <span className=\"truncate text-left text-gray-800\">\n                          {item.title}\n                        </span>\n                        {item.type && (\n                          <span className=\"ml-2 rounded-full bg-gray-100 px-2 py-0.5 text-[10px] uppercase tracking-wide text-gray-500\">\n                            {item.type}\n                          </span>\n                        )}\n                      </button>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n        </form>\n      </div>\n    </header>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAPA;;;;;;;;AAeO,SAAS;IACd,MAAM,WAAW,IAAA,8MAAW;IAC5B,MAAM,SAAS,IAAA,4MAAS;IAExB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,8QAAQ,EAAC;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8QAAQ,EAAc;IAC9C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,8QAAQ,EAAC;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,8QAAQ,EAAe,EAAE;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,8QAAQ,EAAC;IAEvD,qDAAqD;IACrD,MAAM,gBAAgB,UAAU,WAAW;IAC3C,MAAM,oBAAoB,gBACtB,mBACA;IAEJ,IAAA,+QAAS,EAAC;QACR,MAAM,QAAQ,IAAA,qPAAkB,EAAC,iMAAI,EAAE,CAAC,IAAM,QAAQ;QACtD,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,kEAAkE;IAClE,IAAA,+QAAS,EAAC;QACR,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,WAAW,MAAM,IAAA,yOAAO,EAAC,IAAA,4OAAU,EAAC,+LAAE,EAAE;gBAC9C,MAAM,QAAsB,EAAE;gBAC9B,SAAS,OAAO,CAAC,CAAC;oBAChB,MAAM,OAAO,IAAI,IAAI;oBACrB,MAAM,QAAQ,CAAC,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,EAAE,EAAE,QAAQ;oBACtD,IAAI,CAAC,OAAO;oBACZ,MAAM,IAAI,CAAC;wBACT,IAAI,IAAI,EAAE;wBACV;wBACA,MAAM,KAAK,IAAI,IAAI,KAAK,QAAQ;oBAClC;gBACF;gBACA,YAAY;YACd,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,+CAA+C;YAC/D;QACF;QACA;IACF,GAAG,EAAE;IAEL,MAAM,sBAAsB,IAAA,6QAAO,EAAC;QAClC,MAAM,OAAO,OAAO,IAAI,GAAG,WAAW;QACtC,IAAI,CAAC,MAAM,OAAO,EAAE;QACpB,OAAO,SACJ,MAAM,CAAC,CAAC,OAAS,KAAK,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,OACnD,KAAK,CAAC,GAAG;IACd,GAAG;QAAC;QAAU;KAAO;IAErB,MAAM,qBAAqB,CAAC;QAC1B,EAAE,cAAc;QAChB,MAAM,OAAO,OAAO,IAAI;QACxB,IAAI,CAAC,MAAM;QAEX,MAAM,QAAQ,mBAAmB;QACjC,IAAI,eAAe;YACjB,OAAO,IAAI,CAAC,CAAC,gBAAgB,EAAE,OAAO;QACxC,OAAO;YACL,OAAO,IAAI,CAAC,CAAC,SAAS,EAAE,OAAO;QACjC;IACF;IAEA,MAAM,wBAAwB,CAAC;QAC7B,mBAAmB;QACnB,UAAU,KAAK,KAAK;QACpB,gEAAgE;QAChE,OAAO,IAAI,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;IAChC;IAEA,MAAM,eAAe;QACnB,MAAM,IAAA,0OAAO,EAAC,iMAAI;QAClB,gBAAgB;QAChB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,2SAAC;QAAO,WAAU;kBAChB,cAAA,2SAAC;YAAI,WAAU;;8BACb,2SAAC;oBAAI,WAAU;;sCAEb,2SAAC,oOAAI;4BAAC,MAAK;4BAAI,WAAU;sCAA8C;;;;;;sCAKvE,2SAAC;4BACC,UAAU;4BACV,WAAU;sCAEV,cAAA,2SAAC;gCAAI,WAAU;;kDACb,2SAAC;wCACC,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC;4CACT,UAAU,EAAE,MAAM,CAAC,KAAK;4CACxB,mBAAmB;wCACrB;wCACA,aAAa;wCACb,WAAU;;;;;;kDAEZ,2SAAC;wCACC,MAAK;wCACL,WAAU;kDACX;;;;;;oCAKA,mBAAmB,oBAAoB,MAAM,GAAG,mBAC/C,2SAAC;wCAAI,WAAU;kDACb,cAAA,2SAAC;4CAAG,WAAU;sDACX,oBAAoB,GAAG,CAAC,CAAC,qBACxB,2SAAC;8DACC,cAAA,2SAAC;wDACC,MAAK;wDACL,SAAS,IAAM,sBAAsB;wDACrC,WAAU;;0EAEV,2SAAC;gEAAK,WAAU;0EACb,KAAK,KAAK;;;;;;4DAEZ,KAAK,IAAI,kBACR,2SAAC;gEAAK,WAAU;0EACb,KAAK,IAAI;;;;;;;;;;;;mDAXT,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;sCAwB5B,2SAAC;4BAAI,WAAU;;8CAEb,2SAAC;oCAAI,WAAU;;sDACb,2SAAC,oOAAI;4CACH,MAAK;4CACL,WAAW,CAAC,oBAAoB,EAC9B,aAAa,MACT,kBACA,qCACJ;sDACH;;;;;;sDAGD,2SAAC,oOAAI;4CACH,MAAK;4CACL,WAAW,CAAC,oBAAoB,EAC9B,UAAU,WAAW,cACjB,kBACA,qCACJ;sDACH;;;;;;;;;;;;8CAML,2SAAC,oOAAI;oCACH,MAAK;oCACL,WAAU;8CAEV,cAAA,2SAAC;wCAAK,WAAU;kDAAU;;;;;;;;;;;gCAIzB,CAAC,qBACA,2SAAC,oOAAI;oCACH,MAAK;oCACL,WAAU;;sDAEV,2SAAC;4CAAK,WAAU;sDAAiB;;;;;;sDACjC,2SAAC;sDAAK;;;;;;;;;;;yDAGR,2SAAC;oCAAI,WAAU;;sDACb,2SAAC;4CACC,MAAK;4CACL,SAAS,IAAM,gBAAgB,CAAC,IAAM,CAAC;4CACvC,WAAU;;8DAEV,2SAAC;oDAAK,WAAU;8DAAiB;;;;;;8DACjC,2SAAC;oDAAK,WAAU;8DACb,KAAK,WAAW,IAAI,KAAK,KAAK,IAAI;;;;;;;;;;;;wCAGtC,8BACC,2SAAC;4CAAI,WAAU;;8DACb,2SAAC,oOAAI;oDACH,MAAK;oDACL,WAAU;oDACV,SAAS,IAAM,gBAAgB;8DAChC;;;;;;8DAGD,2SAAC,oOAAI;oDACH,MAAK;oDACL,WAAU;oDACV,SAAS,IAAM,gBAAgB;8DAChC;;;;;;8DAGD,2SAAC;oDACC,MAAK;oDACL,SAAS;oDACT,WAAU;8DACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAWb,2SAAC;oBAAK,UAAU;oBAAoB,WAAU;8BAC5C,cAAA,2SAAC;wBAAI,WAAU;;0CACb,2SAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC;oCACT,UAAU,EAAE,MAAM,CAAC,KAAK;oCACxB,mBAAmB;gCACrB;gCACA,aAAa;gCACb,WAAU;;;;;;0CAEZ,2SAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;4BAKA,mBAAmB,oBAAoB,MAAM,GAAG,mBAC/C,2SAAC;gCAAI,WAAU;0CACb,cAAA,2SAAC;oCAAG,WAAU;8CACX,oBAAoB,GAAG,CAAC,CAAC,qBACxB,2SAAC;sDACC,cAAA,2SAAC;gDACC,MAAK;gDACL,SAAS,IAAM,sBAAsB;gDACrC,WAAU;;kEAEV,2SAAC;wDAAK,WAAU;kEACb,KAAK,KAAK;;;;;;oDAEZ,KAAK,IAAI,kBACR,2SAAC;wDAAK,WAAU;kEACb,KAAK,IAAI;;;;;;;;;;;;2CAXT,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBpC"}},
    {"offset": {"line": 3171, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/layout/CategoryNavigation.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { collection, query, where, getDocs, orderBy } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\nimport type { Category } from \"@/types/store\";\n\nexport function CategoryNavigation() {\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = async () => {\n    try {\n      // Try with orderBy first (requires composite index)\n      let q;\n      let snapshot;\n      let categoriesData: Category[] = [];\n      \n      try {\n        q = query(\n          collection(db, \"categories\"),\n          where(\"status\", \"==\", \"active\"),\n          orderBy(\"orderIndex\", \"asc\")\n        );\n        snapshot = await getDocs(q);\n      } catch (error: any) {\n        console.warn(\"Index error, trying fallback query:\", error);\n        \n        // If query fails due to missing index, try without orderBy\n        try {\n          q = query(\n            collection(db, \"categories\"),\n            where(\"status\", \"==\", \"active\")\n          );\n          snapshot = await getDocs(q);\n        } catch (fallbackError: any) {\n          // If that also fails, get all categories and filter client-side\n          console.warn(\"Status filter failed, getting all categories:\", fallbackError);\n          q = query(collection(db, \"categories\"));\n          snapshot = await getDocs(q);\n        }\n      }\n      \n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        // Include if status is active or if status field doesn't exist (default to active)\n        if (!data.status || data.status === \"active\") {\n          categoriesData.push({ \n            categoryId: doc.id, \n            ...data,\n            orderIndex: data.orderIndex || 999,\n            status: data.status || \"active\"\n          } as Category);\n        }\n      });\n      \n      // Sort manually\n      categoriesData.sort((a, b) => (a.orderIndex || 999) - (b.orderIndex || 999));\n      setCategories(categoriesData);\n      console.log(\"‚úÖ Categories loaded:\", categoriesData.length, categoriesData);\n    } catch (error: any) {\n      console.error(\"‚ùå Error loading categories:\", error);\n      setCategories([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Always render the component so it's visible\n  return (\n    <div className=\"bg-white border-b-2 border-gray-300 shadow-md py-4\">\n      <div className=\"container mx-auto px-4\">\n        {loading ? (\n          <div className=\"flex items-center justify-center py-2\">\n            <span className=\"text-sm text-gray-600\">Loading categories...</span>\n          </div>\n        ) : categories.length === 0 ? (\n          <div className=\"flex items-center justify-center py-2\">\n            <span className=\"text-sm text-gray-600 bg-yellow-50 px-4 py-2 rounded border border-yellow-200\">\n              No categories found. <a href=\"/admin/store-items/categories/new\" className=\"text-blue-600 underline\">Create categories in admin panel</a>\n            </span>\n          </div>\n        ) : (\n          <nav className=\"flex items-center gap-4 md:gap-6 overflow-x-auto pb-1 hide-scrollbar\">\n            {categories.map((category) => (\n              <Link\n                key={category.categoryId}\n                href={`/category/${category.slug || category.categoryId}`}\n                className=\"text-sm md:text-base font-semibold text-gray-800 hover:text-blue-600 whitespace-nowrap transition-colors px-3 py-2 rounded-md hover:bg-blue-50 flex-shrink-0 border border-transparent hover:border-blue-200\"\n              >\n                {category.name}\n              </Link>\n            ))}\n          </nav>\n        )}\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAQO,SAAS;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,8QAAQ,EAAa,EAAE;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8QAAQ,EAAC;IAEvC,IAAA,+QAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,iBAAiB;QACrB,IAAI;YACF,oDAAoD;YACpD,IAAI;YACJ,IAAI;YACJ,IAAI,iBAA6B,EAAE;YAEnC,IAAI;gBACF,IAAI,IAAA,uOAAK,EACP,IAAA,4OAAU,EAAC,+LAAE,EAAE,eACf,IAAA,uOAAK,EAAC,UAAU,MAAM,WACtB,IAAA,yOAAO,EAAC,cAAc;gBAExB,WAAW,MAAM,IAAA,yOAAO,EAAC;YAC3B,EAAE,OAAO,OAAY;gBACnB,QAAQ,IAAI,CAAC,uCAAuC;gBAEpD,2DAA2D;gBAC3D,IAAI;oBACF,IAAI,IAAA,uOAAK,EACP,IAAA,4OAAU,EAAC,+LAAE,EAAE,eACf,IAAA,uOAAK,EAAC,UAAU,MAAM;oBAExB,WAAW,MAAM,IAAA,yOAAO,EAAC;gBAC3B,EAAE,OAAO,eAAoB;oBAC3B,gEAAgE;oBAChE,QAAQ,IAAI,CAAC,iDAAiD;oBAC9D,IAAI,IAAA,uOAAK,EAAC,IAAA,4OAAU,EAAC,+LAAE,EAAE;oBACzB,WAAW,MAAM,IAAA,yOAAO,EAAC;gBAC3B;YACF;YAEA,SAAS,OAAO,CAAC,CAAC;gBAChB,MAAM,OAAO,IAAI,IAAI;gBACrB,mFAAmF;gBACnF,IAAI,CAAC,KAAK,MAAM,IAAI,KAAK,MAAM,KAAK,UAAU;oBAC5C,eAAe,IAAI,CAAC;wBAClB,YAAY,IAAI,EAAE;wBAClB,GAAG,IAAI;wBACP,YAAY,KAAK,UAAU,IAAI;wBAC/B,QAAQ,KAAK,MAAM,IAAI;oBACzB;gBACF;YACF;YAEA,gBAAgB;YAChB,eAAe,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,EAAE,UAAU,IAAI,GAAG,IAAI,CAAC,EAAE,UAAU,IAAI,GAAG;YAC1E,cAAc;YACd,QAAQ,GAAG,CAAC,wBAAwB,eAAe,MAAM,EAAE;QAC7D,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,cAAc,EAAE;QAClB,SAAU;YACR,WAAW;QACb;IACF;IAEA,8CAA8C;IAC9C,qBACE,2SAAC;QAAI,WAAU;kBACb,cAAA,2SAAC;YAAI,WAAU;sBACZ,wBACC,2SAAC;gBAAI,WAAU;0BACb,cAAA,2SAAC;oBAAK,WAAU;8BAAwB;;;;;;;;;;uBAExC,WAAW,MAAM,KAAK,kBACxB,2SAAC;gBAAI,WAAU;0BACb,cAAA,2SAAC;oBAAK,WAAU;;wBAAgF;sCACzE,2SAAC;4BAAE,MAAK;4BAAoC,WAAU;sCAA0B;;;;;;;;;;;;;;;;qCAIzG,2SAAC;gBAAI,WAAU;0BACZ,WAAW,GAAG,CAAC,CAAC,yBACf,2SAAC,oOAAI;wBAEH,MAAM,CAAC,UAAU,EAAE,SAAS,IAAI,IAAI,SAAS,UAAU,EAAE;wBACzD,WAAU;kCAET,SAAS,IAAI;uBAJT,SAAS,UAAU;;;;;;;;;;;;;;;;;;;;AAYxC"}},
    {"offset": {"line": 3313, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/common/Testimonials.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebaseClient\";\n\ntype HomepageTestimonial = {\n  id: string;\n  name: string;\n  role: string;\n  text: string;\n  videoUrl?: string;\n  thumbnailImage?: string;\n  enabled: boolean;\n  displayOrder: number;\n};\n\nconst DEFAULT_TESTIMONIALS: HomepageTestimonial[] = [\n  {\n    id: \"1\",\n    name: \"Harper Jackson\",\n    role: \"Founder, Creative Studio\",\n    text:\n      \"The unified LMS and store experience made it incredibly easy to sell courses and physical kits together.\",\n    enabled: true,\n    displayOrder: 1,\n  },\n  {\n    id: \"2\",\n    name: \"Mason Jack\",\n    role: \"Digital Marketer\", \n    text:\n      \"Live classes, recorded courses, and workshop registrations all work from a single dashboard. Huge time saver.\",\n    enabled: true,\n    displayOrder: 2,\n  },\n  {\n    id: \"3\",\n    name: \"Avery Wyatt\",\n    role: \"Student\",\n    text:\n      \"I can learn, buy workshop kits, and track my certificates in one place. The experience feels premium.\",\n    enabled: true,\n    displayOrder: 3,\n  },\n];\n\n// Shared testimonials for landing + classes pages\nexport function Testimonials() {\n  // Start with the original hard-coded testimonials\n  const [testimonials, setTestimonials] = useState<HomepageTestimonial[]>(DEFAULT_TESTIMONIALS);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadTestimonials = async () => {\n      try {\n        setLoading(true);\n        // Simple fetch: get all docs, then filter/sort in memory (avoids index issues)\n        const snapshot = await getDocs(collection(db, \"homepage_testimonials\"));\n        const data: HomepageTestimonial[] = [];\n        snapshot.forEach((d) => {\n          const docData = d.data() as any;\n          data.push({\n            id: d.id || \"\",\n            name: docData.name || \"\",\n            role: docData.role || \"\",\n            text: docData.text || \"\",\n            videoUrl: docData.videoUrl || \"\",\n            thumbnailImage: docData.thumbnailImage || \"\",\n            enabled: docData.enabled !== false,\n            displayOrder: docData.displayOrder ?? 1,\n          });\n        });\n        const enabled = data\n          .filter((t) => t.enabled)\n          .sort((a, b) => (a.displayOrder || 0) - (b.displayOrder || 0));\n        // If admin has configured testimonials, use them; otherwise keep the defaults\n        if (enabled.length > 0) {\n          setTestimonials(enabled);\n        }\n      } catch (error) {\n        console.error(\"Error loading testimonials:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadTestimonials();\n  }, []);\n\n  return (\n    <section className=\"py-16 bg-gray-50\">\n      <div className=\"container mx-auto px-4\">\n        <h2 className=\"text-3xl font-bold text-center mb-10\">\n          What People Say\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          {testimonials.map((t) => (\n            <div\n              key={t.id}\n              className=\"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100\"\n            >\n              {t.videoUrl ? (\n                // Video testimonial\n                <div className=\"relative\">\n                  <video\n                    src={t.videoUrl}\n                    poster={t.thumbnailImage}\n                    controls\n                    className=\"w-full h-64 object-cover\"\n                    preload=\"metadata\"\n                  >\n                    Your browser does not support the video tag.\n                  </video>\n                  <div className=\"p-4\">\n                    <div className=\"font-semibold text-gray-900\">{t.name}</div>\n                    <div className=\"text-xs text-gray-500\">{t.role}</div>\n                    {t.text && (\n                      <p className=\"text-gray-700 mt-2 text-sm leading-relaxed line-clamp-2\">\n                        &ldquo;{t.text}&rdquo;\n                      </p>\n                    )}\n                  </div>\n                </div>\n              ) : (\n                // Text testimonial (fallback)\n                <div className=\"p-6\">\n                  <p className=\"text-gray-700 mb-4 text-sm leading-relaxed\">\n                    &ldquo;{t.text}&rdquo;\n                  </p>\n                  <div className=\"mt-4\">\n                    <div className=\"font-semibold text-gray-900\">{t.name}</div>\n                    <div className=\"text-xs text-gray-500\">{t.role}</div>\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAiBA,MAAM,uBAA8C;IAClD;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,MACE;QACF,SAAS;QACT,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,MACE;QACF,SAAS;QACT,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,MACE;QACF,SAAS;QACT,cAAc;IAChB;CACD;AAGM,SAAS;IACd,kDAAkD;IAClD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,8QAAQ,EAAwB;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8QAAQ,EAAC;IAEvC,IAAA,+QAAS,EAAC;QACR,MAAM,mBAAmB;YACvB,IAAI;gBACF,WAAW;gBACX,+EAA+E;gBAC/E,MAAM,WAAW,MAAM,IAAA,yOAAO,EAAC,IAAA,4OAAU,EAAC,+LAAE,EAAE;gBAC9C,MAAM,OAA8B,EAAE;gBACtC,SAAS,OAAO,CAAC,CAAC;oBAChB,MAAM,UAAU,EAAE,IAAI;oBACtB,KAAK,IAAI,CAAC;wBACR,IAAI,EAAE,EAAE,IAAI;wBACZ,MAAM,QAAQ,IAAI,IAAI;wBACtB,MAAM,QAAQ,IAAI,IAAI;wBACtB,MAAM,QAAQ,IAAI,IAAI;wBACtB,UAAU,QAAQ,QAAQ,IAAI;wBAC9B,gBAAgB,QAAQ,cAAc,IAAI;wBAC1C,SAAS,QAAQ,OAAO,KAAK;wBAC7B,cAAc,QAAQ,YAAY,IAAI;oBACxC;gBACF;gBACA,MAAM,UAAU,KACb,MAAM,CAAC,CAAC,IAAM,EAAE,OAAO,EACvB,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,EAAE,YAAY,IAAI,CAAC,IAAI,CAAC,EAAE,YAAY,IAAI,CAAC;gBAC9D,8EAA8E;gBAC9E,IAAI,QAAQ,MAAM,GAAG,GAAG;oBACtB,gBAAgB;gBAClB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,+BAA+B;YAC/C,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,qBACE,2SAAC;QAAQ,WAAU;kBACjB,cAAA,2SAAC;YAAI,WAAU;;8BACb,2SAAC;oBAAG,WAAU;8BAAuC;;;;;;8BAGrD,2SAAC;oBAAI,WAAU;8BACZ,aAAa,GAAG,CAAC,CAAC,kBACjB,2SAAC;4BAEC,WAAU;sCAET,EAAE,QAAQ,GACT,oBAAoB;0CACpB,2SAAC;gCAAI,WAAU;;kDACb,2SAAC;wCACC,KAAK,EAAE,QAAQ;wCACf,QAAQ,EAAE,cAAc;wCACxB,QAAQ;wCACR,WAAU;wCACV,SAAQ;kDACT;;;;;;kDAGD,2SAAC;wCAAI,WAAU;;0DACb,2SAAC;gDAAI,WAAU;0DAA+B,EAAE,IAAI;;;;;;0DACpD,2SAAC;gDAAI,WAAU;0DAAyB,EAAE,IAAI;;;;;;4CAC7C,EAAE,IAAI,kBACL,2SAAC;gDAAE,WAAU;;oDAA0D;oDAC7D,EAAE,IAAI;oDAAC;;;;;;;;;;;;;;;;;;uCAMvB,8BAA8B;0CAC9B,2SAAC;gCAAI,WAAU;;kDACb,2SAAC;wCAAE,WAAU;;4CAA6C;4CAChD,EAAE,IAAI;4CAAC;;;;;;;kDAEjB,2SAAC;wCAAI,WAAU;;0DACb,2SAAC;gDAAI,WAAU;0DAA+B,EAAE,IAAI;;;;;;0DACpD,2SAAC;gDAAI,WAAU;0DAAyB,EAAE,IAAI;;;;;;;;;;;;;;;;;;2BAjC/C,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;AA2CvB"}},
    {"offset": {"line": 3538, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yogeshmalvi/Downloads/Telegram%20Desktop/lms-ecommerce/web/src/components/layout/Footer.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\n\n// Common footer for landing + classes + rest of site\nexport function Footer() {\n  // TODO: Make links and content manageable by super admin via CMS collections\n  return (\n    <footer className=\"bg-gray-950 text-gray-400 pt-12 pb-6\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 pb-8 border-b border-gray-800\">\n          <div>\n            <h3 className=\"text-white font-semibold mb-3\">Veena LMS</h3>\n            <p className=\"text-sm\">\n              Unified platform to sell courses, live classes, workshops, and\n              products with a single cart and dashboard.\n            </p>\n          </div>\n          <div>\n            <h4 className=\"text-sm font-semibold text-white mb-3\">Navigation</h4>\n            <ul className=\"space-y-2 text-sm\">\n              <li>\n                <Link href=\"/\" className=\"hover:text-white\">\n                  Home\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/classes\" className=\"hover:text-white\">\n                  Classes\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/dashboard\" className=\"hover:text-white\">\n                  Dashboard\n                </Link>\n              </li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"text-sm font-semibold text-white mb-3\">\n              Support & Legal\n            </h4>\n            <ul className=\"space-y-2 text-sm\">\n              <li>\n                <Link href=\"/support\" className=\"hover:text-white\">\n                  Help & Support\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/terms\" className=\"hover:text-white\">\n                  Terms & Conditions\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/privacy\" className=\"hover:text-white\">\n                  Privacy Policy\n                </Link>\n              </li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"text-sm font-semibold text-white mb-3\">Contact</h4>\n            <p className=\"text-sm\">Email: hello@example.com</p>\n            <p className=\"text-sm mt-1\">Phone: +91-00000-00000</p>\n            <p className=\"text-xs text-gray-500 mt-4\">\n              Content, pricing, and availability managed by super admin.\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center justify-between pt-4 text-xs text-gray-600\">\n          <span>¬© {new Date().getFullYear()} Veena LMS. All rights reserved.</span>\n          <span>Built on Next.js, Firebase, and AWS S3.</span>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKO,SAAS;IACd,6EAA6E;IAC7E,qBACE,2SAAC;QAAO,WAAU;kBAChB,cAAA,2SAAC;YAAI,WAAU;;8BACb,2SAAC;oBAAI,WAAU;;sCACb,2SAAC;;8CACC,2SAAC;oCAAG,WAAU;8CAAgC;;;;;;8CAC9C,2SAAC;oCAAE,WAAU;8CAAU;;;;;;;;;;;;sCAKzB,2SAAC;;8CACC,2SAAC;oCAAG,WAAU;8CAAwC;;;;;;8CACtD,2SAAC;oCAAG,WAAU;;sDACZ,2SAAC;sDACC,cAAA,2SAAC,oOAAI;gDAAC,MAAK;gDAAI,WAAU;0DAAmB;;;;;;;;;;;sDAI9C,2SAAC;sDACC,cAAA,2SAAC,oOAAI;gDAAC,MAAK;gDAAW,WAAU;0DAAmB;;;;;;;;;;;sDAIrD,2SAAC;sDACC,cAAA,2SAAC,oOAAI;gDAAC,MAAK;gDAAa,WAAU;0DAAmB;;;;;;;;;;;;;;;;;;;;;;;sCAM3D,2SAAC;;8CACC,2SAAC;oCAAG,WAAU;8CAAwC;;;;;;8CAGtD,2SAAC;oCAAG,WAAU;;sDACZ,2SAAC;sDACC,cAAA,2SAAC,oOAAI;gDAAC,MAAK;gDAAW,WAAU;0DAAmB;;;;;;;;;;;sDAIrD,2SAAC;sDACC,cAAA,2SAAC,oOAAI;gDAAC,MAAK;gDAAS,WAAU;0DAAmB;;;;;;;;;;;sDAInD,2SAAC;sDACC,cAAA,2SAAC,oOAAI;gDAAC,MAAK;gDAAW,WAAU;0DAAmB;;;;;;;;;;;;;;;;;;;;;;;sCAMzD,2SAAC;;8CACC,2SAAC;oCAAG,WAAU;8CAAwC;;;;;;8CACtD,2SAAC;oCAAE,WAAU;8CAAU;;;;;;8CACvB,2SAAC;oCAAE,WAAU;8CAAe;;;;;;8CAC5B,2SAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;;;;;;;8BAK9C,2SAAC;oBAAI,WAAU;;sCACb,2SAAC;;gCAAK;gCAAG,IAAI,OAAO,WAAW;gCAAG;;;;;;;sCAClC,2SAAC;sCAAK;;;;;;;;;;;;;;;;;;;;;;;AAKhB"}}]
}