module.exports=[23250,(a,b,c)=>{"use strict";b.exports=a.r(44009).vendored.contexts.AppRouterContext},66113,(a,b,c)=>{"use strict";b.exports=a.r(44009).vendored.contexts.HooksClientContext},17357,(a,b,c)=>{"use strict";b.exports=a.r(44009).vendored.contexts.ServerInsertedHtml},88398,(a,b,c)=>{"use strict";b.exports=a.r(44009).vendored["react-ssr"].ReactJsxRuntime},44009,(a,b,c)=>{"use strict";b.exports=a.r(18622)},96600,(a,b,c)=>{"use strict";b.exports=a.r(44009).vendored["react-ssr"].React},63225,(a,b,c)=>{"use strict";b.exports=a.r(44009).vendored["react-ssr"].ReactServerDOMTurbopackClient},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},46786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},25328,(a,b,c)=>{b.exports=a.x("http2",()=>require("http2"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},6461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},29010,a=>{"use strict";async function b(a){if(!a||!a.includes("s3")&&!a.includes("amazonaws.com"))return a;try{let b=await fetch(`/api/s3-signed-url?key=${encodeURIComponent(a)}`);if(!b.ok){let c=await b.text();return console.error("Failed to get signed URL:",{status:b.status,statusText:b.statusText,error:c,imageUrl:a}),a}let c=await b.json();if(c.error)return console.error("Signed URL API error:",c.error),a;return c.url||a}catch(b){return console.error("Error getting signed URL:",b),a}}a.s(["getSignedImageUrl",()=>b])},18295,a=>{"use strict";var b=a.i(88398),c=a.i(96600),d=a.i(29010);function e({src:a,alt:e,className:f="",fallback:g}){let[h,i]=(0,c.useState)(a),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)("");return((0,c.useEffect)(()=>{if(!a||""===a.trim()){m(!0),k(!1);return}a.includes("s3")||a.includes("amazonaws.com")?(0,d.getSignedImageUrl)(a).then(a=>{i(a),k(!1)}).catch(b=>{i(a),k(!1)}):(i(a),k(!1))},[a]),l)?(0,b.jsx)("div",{className:f,children:g||(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 bg-gray-100",children:(0,b.jsx)("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:h,alt:e,className:f,onError:a=>{m(!0),o("Failed to load image")},onLoad:()=>{k(!1),m(!1)},style:{opacity:j?.5:1}}),l&&!1]})}a.s(["S3Image",()=>e])},86685,a=>{"use strict";var b=a.i(88398),c=a.i(96600),d=a.i(96884),e=a.i(71852);a.i(17149);var f=a.i(4),g=a.i(47073);a.i(55614);var h=a.i(93749);function i(){let a=(0,e.usePathname)(),i=(0,e.useRouter)(),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!1),t=a?.startsWith("/classes"),u=t?"Search courses":"Search products";(0,c.useEffect)(()=>{let a=(0,f.onAuthStateChanged)(g.auth,a=>m(a));return()=>a()},[]),(0,c.useEffect)(()=>{(async()=>{try{let a=await (0,h.getDocs)((0,h.collection)(g.db,"store_items")),b=[];a.forEach(a=>{let c=a.data(),d=(c.title||c.name||"").toString();d&&b.push({id:a.id,title:d,type:c.type||c.itemType})}),q(b)}catch(a){console.error("Error loading items for search suggestions:",a)}})()},[]);let v=(0,c.useMemo)(()=>{let a=j.trim().toLowerCase();return a?p.filter(b=>b.title.toLowerCase().includes(a)).slice(0,7):[]},[p,j]),w=a=>{a.preventDefault();let b=j.trim();if(!b)return;let c=encodeURIComponent(b);t?i.push(`/classes?search=${c}`):i.push(`/?search=${c}`)},x=a=>{s(!1),k(a.title),i.push(`/item/${a.id}`)},y=async()=>{await (0,f.signOut)(g.auth),o(!1),i.push("/")};return(0,b.jsx)("header",{className:"bg-white/90 backdrop-blur-md border-b border-gray-100 sticky top-0 z-50",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between h-16 gap-4",children:[(0,b.jsx)(d.default,{href:"/",className:"text-xl md:text-2xl font-bold text-gray-900",children:"Veena LMS"}),(0,b.jsx)("form",{onSubmit:w,className:"hidden md:flex flex-1 max-w-xl mx-4",children:(0,b.jsxs)("div",{className:"relative w-full",children:[(0,b.jsx)("input",{type:"text",value:j,onChange:a=>{k(a.target.value),s(!0)},placeholder:u,className:"w-full rounded-full border border-gray-200 bg-gray-50 px-4 py-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500/60"}),(0,b.jsx)("button",{type:"submit",className:"absolute right-1 top-1 bottom-1 px-4 rounded-full bg-black text-white text-xs font-semibold hover:bg-gray-900",children:"Search"}),r&&v.length>0&&(0,b.jsx)("div",{className:"absolute left-0 right-0 top-full mt-1 rounded-2xl border border-gray-200 bg-white shadow-lg z-40",children:(0,b.jsx)("ul",{className:"max-h-72 overflow-y-auto py-1 text-sm",children:v.map(a=>(0,b.jsx)("li",{children:(0,b.jsxs)("button",{type:"button",onClick:()=>x(a),className:"flex w-full items-center justify-between px-3 py-2 hover:bg-gray-50",children:[(0,b.jsx)("span",{className:"truncate text-left text-gray-800",children:a.title}),a.type&&(0,b.jsx)("span",{className:"ml-2 rounded-full bg-gray-100 px-2 py-0.5 text-[10px] uppercase tracking-wide text-gray-500",children:a.type})]})},a.id))})})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("nav",{className:"hidden md:flex items-center gap-4",children:[(0,b.jsx)(d.default,{href:"/",className:`text-sm font-medium ${"/"===a?"text-blue-600":"text-gray-700 hover:text-blue-600"}`,children:"Shop"}),(0,b.jsx)(d.default,{href:"/classes",className:`text-sm font-medium ${a?.startsWith("/classes")?"text-blue-600":"text-gray-700 hover:text-blue-600"}`,children:"Classes"})]}),(0,b.jsx)(d.default,{href:"/cart",className:"relative inline-flex h-9 w-9 items-center justify-center rounded-full border border-gray-200 text-gray-700 hover:bg-gray-100",children:(0,b.jsx)("span",{className:"text-lg",children:"ðŸ›’"})}),l?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>o(a=>!a),className:"flex items-center h-9 px-3 rounded-full border border-gray-200 text-sm font-medium text-gray-700 hover:bg-gray-100",children:[(0,b.jsx)("span",{className:"mr-2 text-base",children:"ðŸ‘¤"}),(0,b.jsx)("span",{className:"max-w-[120px] truncate",children:l.displayName||l.email||"Account"})]}),n&&(0,b.jsxs)("div",{className:"absolute right-0 mt-2 w-48 rounded-xl border border-gray-200 bg-white shadow-lg text-sm",children:[(0,b.jsx)(d.default,{href:"/dashboard",className:"block px-4 py-2 hover:bg-gray-50",onClick:()=>o(!1),children:"Dashboard"}),(0,b.jsx)(d.default,{href:"/orders",className:"block px-4 py-2 hover:bg-gray-50",onClick:()=>o(!1),children:"Orders"}),(0,b.jsx)("button",{type:"button",onClick:y,className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-red-600",children:"Logout"})]})]}):(0,b.jsxs)(d.default,{href:"/login",className:"flex items-center h-9 px-3 rounded-full border border-gray-200 text-sm font-medium text-gray-700 hover:bg-gray-100",children:[(0,b.jsx)("span",{className:"mr-2 text-base",children:"ðŸ‘¤"}),(0,b.jsx)("span",{children:"Login / Sign up"})]})]})]}),(0,b.jsx)("form",{onSubmit:w,className:"md:hidden pb-3",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",value:j,onChange:a=>{k(a.target.value),s(!0)},placeholder:u,className:"w-full rounded-full border border-gray-200 bg-gray-50 px-4 py-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500/60"}),(0,b.jsx)("button",{type:"submit",className:"absolute right-1 top-1 bottom-1 px-4 rounded-full bg-black text-white text-xs font-semibold hover:bg-gray-900",children:"Go"}),r&&v.length>0&&(0,b.jsx)("div",{className:"absolute left-0 right-0 top-full mt-1 rounded-2xl border border-gray-200 bg-white shadow-lg z-40",children:(0,b.jsx)("ul",{className:"max-h-72 overflow-y-auto py-1 text-sm",children:v.map(a=>(0,b.jsx)("li",{children:(0,b.jsxs)("button",{type:"button",onClick:()=>x(a),className:"flex w-full items-center justify-between px-3 py-2 hover:bg-gray-50",children:[(0,b.jsx)("span",{className:"truncate text-left text-gray-800",children:a.title}),a.type&&(0,b.jsx)("span",{className:"ml-2 rounded-full bg-gray-100 px-2 py-0.5 text-[10px] uppercase tracking-wide text-gray-500",children:a.type})]})},a.id))})})]})})]})})}a.s(["Header",()=>i])},39218,a=>{"use strict";var b=a.i(88398),c=a.i(96884);function d(){return(0,b.jsx)("footer",{className:"bg-gray-950 text-gray-400 pt-12 pb-6",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 pb-8 border-b border-gray-800",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-3",children:"Veena LMS"}),(0,b.jsx)("p",{className:"text-sm",children:"Unified platform to sell courses, live classes, workshops, and products with a single cart and dashboard."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-white mb-3",children:"Navigation"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/",className:"hover:text-white",children:"Home"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/classes",className:"hover:text-white",children:"Classes"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/dashboard",className:"hover:text-white",children:"Dashboard"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-white mb-3",children:"Support & Legal"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/support",className:"hover:text-white",children:"Help & Support"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/terms",className:"hover:text-white",children:"Terms & Conditions"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/privacy",className:"hover:text-white",children:"Privacy Policy"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-white mb-3",children:"Contact"}),(0,b.jsx)("p",{className:"text-sm",children:"Email: hello@example.com"}),(0,b.jsx)("p",{className:"text-sm mt-1",children:"Phone: +91-00000-00000"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-4",children:"Content, pricing, and availability managed by super admin."})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 text-xs text-gray-600",children:[(0,b.jsxs)("span",{children:["Â© ",new Date().getFullYear()," Veena LMS. All rights reserved."]}),(0,b.jsx)("span",{children:"Built on Next.js, Firebase, and AWS S3."})]})]})})}a.s(["Footer",()=>d])},89113,a=>{"use strict";var b=a.i(88398);function c(){return(0,b.jsx)("div",{className:"bg-blue-600 text-white py-2",children:(0,b.jsx)("div",{className:"container mx-auto px-4",children:(0,b.jsx)("div",{className:"flex items-center justify-center gap-4 overflow-x-auto",children:[{id:"1",text:"ðŸŽ‰ New Course Launch: Advanced Photography",type:"new_launch"},{id:"2",text:"ðŸ“… Live Class Tomorrow: Digital Marketing Basics",type:"live_class"},{id:"3",text:"âš¡ Limited Offer: 50% off on all workshops this week!",type:"offer"}].map(a=>(0,b.jsx)("span",{className:"text-sm whitespace-nowrap",children:a.text},a.id))})})})}a.s(["NotificationStrip",()=>c])},61050,a=>{"use strict";var b=a.i(88398),c=a.i(96600),d=a.i(96884);a.i(55614);var e=a.i(93749),f=a.i(47073);function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0);(0,c.useEffect)(()=>{j()},[]);let j=async()=>{try{let a,b,c=[];try{a=(0,e.query)((0,e.collection)(f.db,"categories"),(0,e.where)("status","==","active"),(0,e.orderBy)("orderIndex","asc")),b=await (0,e.getDocs)(a)}catch(c){console.warn("Index error, trying fallback query:",c);try{a=(0,e.query)((0,e.collection)(f.db,"categories"),(0,e.where)("status","==","active")),b=await (0,e.getDocs)(a)}catch(c){console.warn("Status filter failed, getting all categories:",c),a=(0,e.query)((0,e.collection)(f.db,"categories")),b=await (0,e.getDocs)(a)}}b.forEach(a=>{let b=a.data();b.status&&"active"!==b.status||c.push({categoryId:a.id,...b,orderIndex:b.orderIndex||999,status:b.status||"active"})}),c.sort((a,b)=>(a.orderIndex||999)-(b.orderIndex||999)),g(c),console.log("âœ… Categories loaded:",c.length,c)}catch(a){console.error("âŒ Error loading categories:",a),g([])}finally{i(!1)}};return(0,b.jsx)("div",{className:"bg-white border-b-2 border-gray-300 shadow-md py-4",children:(0,b.jsx)("div",{className:"container mx-auto px-4",children:h?(0,b.jsx)("div",{className:"flex items-center justify-center py-2",children:(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Loading categories..."})}):0===a.length?(0,b.jsx)("div",{className:"flex items-center justify-center py-2",children:(0,b.jsxs)("span",{className:"text-sm text-gray-600 bg-yellow-50 px-4 py-2 rounded border border-yellow-200",children:["No categories found. ",(0,b.jsx)("a",{href:"/admin/store-items/categories/new",className:"text-blue-600 underline",children:"Create categories in admin panel"})]})}):(0,b.jsx)("nav",{className:"flex items-center gap-4 md:gap-6 overflow-x-auto pb-1 hide-scrollbar",children:a.map(a=>(0,b.jsx)(d.default,{href:`/category/${a.slug||a.categoryId}`,className:"text-sm md:text-base font-semibold text-gray-800 hover:text-blue-600 whitespace-nowrap transition-colors px-3 py-2 rounded-md hover:bg-blue-50 flex-shrink-0 border border-transparent hover:border-blue-200",children:a.name},a.categoryId))})})})}a.s(["CategoryNavigation",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ae50e8ec._.js.map